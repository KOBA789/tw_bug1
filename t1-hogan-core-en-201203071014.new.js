provide("$lib/jquery-1.7.1.js",function(exports){
/*
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
(function(window,undefined){var document=window.document,navigator=window.navigator,location=window.location;var jQuery=(function(){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/ig,rmsPrefix=/^-ms-/,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},userAgent=navigator.userAgent,browserMatch,readyList,DOMContentLoaded,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(selector==="body"&&!context&&document.body){this.context=document;this[0]=document.body;this.selector=selector;this.length=1;return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=quickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else{selector=[doc.createElement(ret[1])]}}else{ret=jQuery.buildFragment([match[1]],[doc]);selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num])},pushStack:function(elems,name,selector){var ret=this.constructor();if(jQuery.isArray(elems)){push.apply(ret,elems)}else{jQuery.merge(ret,elems)}ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();readyList.add(fn);return this},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if((wait===true&&!--jQuery.readyWait)||(wait!==true&&!jQuery.isReady)){if(!document.body){return setTimeout(jQuery.ready,1)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return }readyList.fireWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready")}}},bindReady:function(){if(readyList){return }readyList=jQuery.Callbacks("once memory");if(document.readyState==="complete"){return setTimeout(jQuery.ready,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj&&typeof obj==="object"&&"setInterval" in obj},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},error:function(msg){throw new Error(msg)},parseJSON:function(data){if(typeof data!=="string"||!data){return null}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data)}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))()}jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(;i<length;){if(callback.call(object[i],i,object[i++])===false){break}}}}return object},trim:trim?function(text){return text==null?"":trim.call(text)}:function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){var type=jQuery.type(array);if(array.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(array)){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array,i){var len;if(array){if(indexOf){return indexOf.call(array,elem,i)}len=array.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in array&&array[i]===elem){return i}}}return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value}}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){if(typeof context==="string"){var tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}var args=slice.call(arguments,2),proxy=function(){return fn.apply(context,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;return proxy},access:function(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key){jQuery.access(elems,k,key[k],exec,fn,value)}return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}return elems}return length?fn(elems[0],key):undefined},now:function(){return(new Date()).getTime()},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},sub:function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context)}return jQuery.fn.init.call(this,selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub},browser:{}});jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}if(rnotwhite.test("\xA0")){trimLeft=/^[\s\xA0]+/;trimRight=/[\s\xA0]+$/}rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}}}function doScrollCheck(){if(jQuery.isReady){return }try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollCheck,1);return }jQuery.ready()}return jQuery})();var flagsCache={};function createFlags(flags){var object=flagsCache[flags]={},i,length;flags=flags.split(/\s+/);for(i=0,length=flags.length;i<length;i++){object[flags[i]]=true}return object}jQuery.Callbacks=function(flags){flags=flags?(flagsCache[flags]||createFlags(flags)):{};var list=[],stack=[],memory,firing,firingStart,firingLength,firingIndex,add=function(args){var i,length,elem,type,actual;for(i=0,length=args.length;i<length;i++){elem=args[i];type=jQuery.type(elem);if(type==="array"){add(elem)}else{if(type==="function"){if(!flags.unique||!self.has(elem)){list.push(elem)}}}}},fire=function(context,args){args=args||[];memory=!flags.memory||[context,args];firing=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(context,args)===false&&flags.stopOnFalse){memory=true;break}}firing=false;if(list){if(!flags.once){if(stack&&stack.length){memory=stack.shift();self.fireWith(memory[0],memory[1])}}else{if(memory===true){self.disable()}else{list=[]}}}},self={add:function(){if(list){var length=list.length;add(arguments);if(firing){firingLength=list.length}else{if(memory&&memory!==true){firingStart=length;fire(memory[0],memory[1])}}}return this},remove:function(){if(list){var args=arguments,argIndex=0,argLength=args.length;for(;argIndex<argLength;argIndex++){for(var i=0;i<list.length;i++){if(args[argIndex]===list[i]){if(firing){if(i<=firingLength){firingLength--;if(i<=firingIndex){firingIndex--}}}list.splice(i--,1);if(flags.unique){break}}}}}return this},has:function(fn){if(list){var i=0,length=list.length;for(;i<length;i++){if(fn===list[i]){return true}}}return false},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return !list},lock:function(){stack=undefined;if(!memory||memory===true){self.disable()}return this},locked:function(){return !stack},fireWith:function(context,args){if(stack){if(firing){if(!flags.once){stack.push([context,args])}}else{if(!(flags.once&&memory)){fire(context,args)}}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return !!memory}};return self};var sliceDeferred=[].slice;jQuery.extend({Deferred:function(func){var doneList=jQuery.Callbacks("once memory"),failList=jQuery.Callbacks("once memory"),progressList=jQuery.Callbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);return this},always:function(){deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments);return this},pipe:function(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var fn=data[0],action=data[1],returned;if(jQuery.isFunction(fn)){deferred[handler](function(){returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify)}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned])}})}else{deferred[handler](newDefer[action])}})}).promise()},promise:function(obj){if(obj==null){obj=promise}else{for(var key in promise){obj[key]=promise[key]}}return obj}},deferred=promise.promise({}),key;for(key in lists){deferred[key]=lists[key].fire;deferred[key+"With"]=lists[key].fireWith}deferred.done(function(){state="resolved"},failList.disable,progressList.lock).fail(function(){state="rejected"},doneList.disable,progressList.lock);if(func){func.call(deferred,deferred)}return deferred},when:function(firstParam){var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,pCount=length,deferred=length<=1&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;if(!(--count)){deferred.resolveWith(deferred,args)}}}function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;deferred.notifyWith(promise,pValues)}}if(length>1){for(;i<length;i++){if(args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise)){args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i))}else{--count}}if(!count){deferred.resolveWith(deferred,args)}}else{if(deferred!==firstParam){deferred.resolveWith(deferred,length?[firstParam]:[])}}return promise}});jQuery.support=(function(){var support,all,a,select,opt,input,marginDiv,fragment,tds,events,eventName,i,isSupported,div=document.createElement("div"),documentElement=document.documentElement;div.setAttribute("className","t");div.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return{}}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false});div.cloneNode(true).fireEvent("onclick")}input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);div.innerHTML="";if(window.getComputedStyle){marginDiv=document.createElement("div");marginDiv.style.width="0";marginDiv.style.marginRight="0";div.style.width="2px";div.appendChild(marginDiv);support.reliableMarginRight=(parseInt((window.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0)===0}if(div.attachEvent){for(i in {submit:1,change:1,focusin:1}){eventName="on"+i;isSupported=(eventName in div);if(!isSupported){div.setAttribute(eventName,"return;");isSupported=(typeof div[eventName]==="function")}support[i+"Bubbles"]=isSupported}}fragment.removeChild(div);fragment=select=opt=marginDiv=div=input=null;jQuery(function(){var container,outer,inner,table,td,offsetSupport,conMarginTop,ptlm,vb,style,html,body=document.getElementsByTagName("body")[0];if(!body){return }conMarginTop=1;ptlm="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;";vb="visibility:hidden;border:0;";style="style='"+ptlm+"border:5px solid #000;padding:0;'";html="<div "+style+"><div></div></div><table "+style+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";container=document.createElement("div");container.style.cssText=vb+"width:0;height:0;position:static;top:0;margin-top:"+conMarginTop+"px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.width=div.style.paddingLeft="1px";jQuery.boxModel=support.boxModel=div.offsetWidth===2;if(typeof div.style.zoom!=="undefined"){div.style.display="inline";div.style.zoom=1;support.inlineBlockNeedsLayout=(div.offsetWidth===2);div.style.display="";div.innerHTML="<div style='width:4px;'></div>";support.shrinkWrapBlocks=(div.offsetWidth!==2)}div.style.cssText=ptlm+vb;div.innerHTML=html;outer=div.firstChild;inner=outer.firstChild;td=outer.nextSibling.firstChild.firstChild;offsetSupport={doesNotAddBorder:(inner.offsetTop!==5),doesAddBorderForTableAndCells:(td.offsetTop===5)};inner.style.position="fixed";inner.style.top="20px";offsetSupport.fixedPosition=(inner.offsetTop===20||inner.offsetTop===15);inner.style.position=inner.style.top="";outer.style.overflow="hidden";outer.style.position="relative";offsetSupport.subtractsBorderForOverflowNotVisible=(inner.offsetTop===-5);offsetSupport.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==conMarginTop);body.removeChild(container);div=container=null;jQuery.extend(support,offsetSupport)});return support})();var rbrace=/^(?:\{.*\}|\[.*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return !!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return }var privateCache,thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey,isEvents=name==="events";if((!id||!cache[id]||(!isEvents&&!pvt&&!cache[id].data))&&getByName&&data===undefined){return }if(!id){if(isNode){elem[internalKey]=id=++jQuery.uuid}else{id=internalKey}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}privateCache=thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(isEvents&&!thisCache[name]){return privateCache.events}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return }var thisCache,i,l,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:internalKey;if(!cache[id]){return }if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]]}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return }}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return }}if(jQuery.support.deleteExpando||!cache.setInterval){delete cache[id]}else{cache[id]=null}if(isNode){if(jQuery.support.deleteExpando){delete elem[internalKey]}else{if(elem.removeAttribute){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match){return !(match===true||elem.getAttribute("classid")!==match)}}return true}});jQuery.fn.extend({data:function(key,value){var parts,attr,name,data=null;if(typeof key==="undefined"){if(this.length){data=jQuery.data(this[0]);if(this[0].nodeType===1&&!jQuery._data(this[0],"parsedAttrs")){attr=this[0].attributes;for(var i=0,l=attr.length;i<l;i++){name=attr[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.substring(5));dataAttr(this[0],name,data[name])}}jQuery._data(this[0],"parsedAttrs",true)}}return data}else{if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}}parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key);data=dataAttr(this[0],key,data)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.each(function(){var self=jQuery(this),args=[parts[0],value];self.triggerHandler("setData"+parts[1]+"!",args);jQuery.data(this,key,value);self.triggerHandler("changeData"+parts[1]+"!",args)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:jQuery.isNumeric(data)?parseFloat(data):rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){for(var name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",defer=jQuery._data(elem,deferDataKey);if(defer&&(src==="queue"||!jQuery._data(elem,queueDataKey))&&(src==="mark"||!jQuery._data(elem,markDataKey))){setTimeout(function(){if(!jQuery._data(elem,queueDataKey)&&!jQuery._data(elem,markDataKey)){jQuery.removeData(elem,deferDataKey,true);defer.fire()}},0)}}jQuery.extend({_mark:function(elem,type){if(elem){type=(type||"fx")+"mark";jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1)}},_unmark:function(force,elem,type){if(force!==true){type=elem;elem=force;force=false}if(elem){type=type||"fx";var key=type+"mark",count=force?0:((jQuery._data(elem,key)||1)-1);if(count){jQuery._data(elem,key,count)}else{jQuery.removeData(elem,key,true);handleQueueMarkDefer(elem,type,"mark")}}},queue:function(elem,type,data){var q;if(elem){type=(type||"fx")+"queue";q=jQuery._data(elem,type);if(data){if(!q||jQuery.isArray(data)){q=jQuery._data(elem,type,jQuery.makeArray(data))}else{q.push(data)}}return q||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}jQuery._data(elem,type+".run",hooks);fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)}if(!queue.length){jQuery.removeData(elem,type+"queue "+type+".run",true);handleQueueMarkDefer(elem,type,"queue")}}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,object){if(typeof type!=="string"){object=type;type=undefined}type=type||"fx";var defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",tmp;function resolve(){if(!(--count)){defer.resolveWith(elements,[elements])}}while(i--){if((tmp=jQuery.data(elements[i],deferDataKey,undefined,true)||(jQuery.data(elements[i],queueDataKey,undefined,true)||jQuery.data(elements[i],markDataKey,undefined,true))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks("once memory"),true))){count++;tmp.add(resolve)}}resolve();return defer.promise()}});var rclass=/[\n\t\r]/g,rspace=/\s+/,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,nodeHook,boolHook,fixSpecified;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,name,value,true,jQuery.attr)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,name,value,true,jQuery.prop)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(value&&typeof value==="string"){classNames=value.split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(!~setClass.indexOf(" "+classNames[c]+" ")){setClass+=classNames[c]+" "}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if((value&&typeof value==="string")||value===undefined){classNames=(value||"").split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){if(value){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=jQuery.trim(className)}else{elem.className=""}}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.nodeName.toLowerCase()]||jQuery.valHooks[elem.type];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return }isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val;if(this.nodeType!==1){return }if(isFunction){val=value.call(this,i,self.val())}else{val=value}if(val==null){val=""}else{if(typeof val==="number"){val+=""}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}}}hooks=jQuery.valHooks[this.nodeName.toLowerCase()]||jQuery.valHooks[this.type];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}i=one?index:0;max=one?index+1:options.length;for(;i<max;i++){option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}if(one&&!values.length&&options.length){return jQuery(options[index]).val()}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){elem.selectedIndex=-1}return values}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return }if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value)}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return }else{if(hooks&&"set" in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,""+value);return value}}}else{if(hooks&&"get" in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=elem.getAttribute(name);return ret===null?undefined:ret}}},removeAttr:function(elem,value){var propName,attrNames,name,l,i=0;if(value&&elem.nodeType===1){attrNames=value.toLowerCase().split(rspace);l=attrNames.length;for(;i<l;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;jQuery.attr(elem,name,"");elem.removeAttribute(getSetAttribute?name:propName);if(rboolean.test(name)&&propName in elem){elem[propName]=false}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}else{if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name)}return name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name)}elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return }notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{return(elem[name]=value)}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{return elem[name]}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex;boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name)}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true}elem.setAttribute(name,name.toLowerCase())}return name}};if(!getSetAttribute){fixSpecified={name:true,id:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.nodeValue!=="":ret.specified)?ret.nodeValue:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret)}return(ret.nodeValue=value+"")}};jQuery.attrHooks.tabindex.set=nodeHook.set;jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false"}nodeHook.set(elem,value,name)}}}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret}})})}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return(elem.style.cssText=""+value)}}}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}})}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding"}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}})}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0)}}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*)?(?:\.(.+))?$/,rhoverHack=/\bhover(\.\S+)?\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rquickIs=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,quickParse=function(selector){var quick=rquickIs.exec(selector);if(quick){quick[1]=(quick[1]||"").toLowerCase();quick[3]=quick[3]&&new RegExp("(?:^|\\s)"+quick[3]+"(?:\\s|$)")}return quick},quickIs=function(elem,m){var attrs=elem.attributes||{};return((!m[1]||elem.nodeName.toLowerCase()===m[1])&&(!m[2]||(attrs.id||{}).value===m[2])&&(!m[3]||m[3].test((attrs["class"]||{}).value)))},hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,quick,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return }if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler}if(!handler.guid){handler.guid=jQuery.guid++}events=elemData.events;if(!events){elemData.events=events={}}eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,quick:quickParse(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var elemData=jQuery.hasData(elem)&&jQuery._data(elem),t,tns,type,origType,namespaces,origCount,j,events,special,handle,eventType,handleObj;if(!elemData||!(events=elemData.events)){return }types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){handle=elemData.handle;if(handle){handle.elem=null}jQuery.removeData(elem,["events","handle"],true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return }var type=event.type||event,namespaces=[],cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType;if(rfocusMorph.test(type+jQuery.event.triggered)){return }if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return }event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true)}}return }event.result=undefined;if(!event.target){event.target=elem}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return }eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;old=null;for(;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur}if(old&&old===elem.ownerDocument){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===false){event.preventDefault()}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event||window.event);var handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,handlerQueue=[],i,j,cur,jqcur,ret,selMatch,matched,matches,handleObj,sel,related;args[0]=event;event.delegateTarget=this;if(delegateCount&&!event.target.disabled&&!(event.button&&event.type==="click")){jqcur=jQuery(this);jqcur.context=this.ownerDocument||this;for(cur=event.target;cur!=this;cur=cur.parentNode||this){selMatch={};matches=[];jqcur[0]=cur;for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=(handleObj.quick?quickIs(cur,handleObj.quick):jqcur.is(sel))}if(selMatch[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,matches:matches})}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)})}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}}}}return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(event.metaKey===undefined){event.metaKey=event.ctrlKey}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{ready:{setup:jQuery.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){if(elem.detachEvent){elem.detachEvent("on"+type,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return }if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return }if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector,ret;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!form._submit_attached){jQuery.event.add(form,"submit._submit",function(event){if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}});form._submit_attached=true}})},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;jQuery.event.simulate("change",this,event,true)}})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!elem._change_attached){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});elem._change_attached=true}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return rformElems.test(this.nodeName)}}}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true)}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}}if(fn===false){fn=returnFalse}else{if(!fn){return this}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on.call(this,types,selector,data,fn,1)},off:function(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.type+"."+handleObj.namespace:handleObj.type,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(var type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length==1?this.off(selector,"**"):this.off(types,selector,fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true)}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length){args[i++].guid=guid}return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)};if(jQuery.attrFn){jQuery.attrFn[name]=true}if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks}});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,expando="sizcache"+(Math.random()+"").replace(".",""),done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true,rBackslash=/\\/g,rReturn=/\r\n/g,rNonWord=/\W/;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];context=context||document;var origContext=context;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var m,set,checkSet,extra,ret,cur,pop,i,prune=true,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do{chunker.exec("");m=chunker.exec(soFar);if(m){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}}while(m);if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context,seed)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set,seed)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){cur=parts.pop();pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){Sizzle.error(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&Sizzle.contains(context,checkSet[i]))){results.push(set[i])}}}else{for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0};Sizzle.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr){return[]}for(i=0,len=Expr.order.length;i<len;i++){type=Expr.order[i];if((match=Expr.leftMatch[type].exec(expr))){left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(rBackslash,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName("*"):[]}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);while(expr&&set.length){for(type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){filter=Expr.filter[type];left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue}if(curLoop===result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);pass=not^found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr===old){if(anyFound==null){Sizzle.error(expr)}else{break}}old=expr}return curLoop};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};var getText=Sizzle.getText=function(elem){var i,node,nodeType=elem.nodeType,ret="";if(nodeType){if(nodeType===1||nodeType===9){if(typeof elem.textContent==="string"){return elem.textContent}else{if(typeof elem.innerText==="string"){return elem.innerText.replace(rReturn,"")}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue}}}else{for(i=0;(node=elem[i]);i++){if(node.nodeType!==8){ret+=getText(node)}}}return ret};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")},type:function(elem){return elem.getAttribute("type")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part){var elem,isPartStr=typeof part==="string",i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){part=part.toLowerCase();for(;i<l;i++){elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(;i<l;i++){elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(match[1])}}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(rBackslash,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(rBackslash,"")},TAG:function(match,curLoop){return match[1].replace(rBackslash,"").toLowerCase()},CHILD:function(match){if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0])}match[2]=match[2].replace(/^\+|\s*/g,"");var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}else{if(match[2]){Sizzle.error(match[0])}}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}match[4]=(match[4]||match[5]||"").replace(rBackslash,"");if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return(/h\d/i).test(elem.nodeName)},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return elem.nodeName.toLowerCase()==="input"&&"text"===type&&(attr===type||attr===null)},radio:function(elem){return elem.nodeName.toLowerCase()==="input"&&"radio"===elem.type},checkbox:function(elem){return elem.nodeName.toLowerCase()==="input"&&"checkbox"===elem.type},file:function(elem){return elem.nodeName.toLowerCase()==="input"&&"file"===elem.type},password:function(elem){return elem.nodeName.toLowerCase()==="input"&&"password"===elem.type},submit:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"submit"===elem.type},image:function(elem){return elem.nodeName.toLowerCase()==="input"&&"image"===elem.type},reset:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"reset"===elem.type},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&"button"===elem.type||name==="button"},input:function(elem){return(/input|select|textarea|button/i).test(elem.nodeName)},focus:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var j=0,l=not.length;j<l;j++){if(not[j]===elem){return false}}return true}else{Sizzle.error(name)}}}},CHILD:function(elem,match){var first,last,doneName,parent,cache,count,diff,type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":first=match[2];last=match[3];if(first===1&&last===0){return true}doneName=match[0];parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.nodeIndex)){count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent[expando]=doneName}diff=elem.nodeIndex-last;if(first===0){return diff===0}else{return(diff%first===0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||!!elem.nodeName&&elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Sizzle.attr?Sizzle.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":!type&&Sizzle.attr?result!=null:type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1)};for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+(/(?![^\[]*\])(?![^\(]*\))/.source));Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape))}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var l=array.length;i<l;i++){ret.push(array[i])}}else{for(;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder,siblingCheck;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1}return a.compareDocumentPosition(b)&4?-1:1}}else{sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0}else{if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b)}else{if(!aup){return -1}else{if(!bup){return 1}}}while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i])}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};siblingCheck=function(a,b,ret){if(a===b){return ret}var cur=a.nextSibling;while(cur){if(cur===b){return -1}cur=cur.nextSibling}return 1}}(function(){var form=document.createElement("div"),id="script"+(new Date()).getTime(),root=document.documentElement;form.innerHTML="<a name='"+id+"'/>";root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return }Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(context.nodeType===1||context.nodeType===9)){if(match[1]){return makeArray(context.getElementsByTagName(query),extra)}else{if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName){return makeArray(context.getElementsByClassName(match[2]),extra)}}}if(context.nodeType===9){if(query==="body"&&context.body){return makeArray([context.body],extra)}else{if(match&&match[3]){var elem=context.getElementById(match[3]);if(elem&&elem.parentNode){if(elem.id===match[3]){return makeArray([elem],extra)}}else{return makeArray([],extra)}}}try{return makeArray(context.querySelectorAll(query),extra)}catch(qsaError){}}else{if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);if(!old){context.setAttribute("id",nid)}else{nid=nid.replace(/'/g,"\\$&")}if(relativeHierarchySelector&&hasParent){context=context.parentNode}try{if(!relativeHierarchySelector||hasParent){return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra)}}catch(pseudoError){}finally{if(!old){oldContext.removeAttribute("id")}}}}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}(function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=false;try{matches.call(document.documentElement,"[test!='']:sizzle")}catch(pseudoError){pseudoWorks=true}Sizzle.matchesSelector=function(node,expr){expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Sizzle.isXML(node)){try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&node.document.nodeType!==11){return ret}}}catch(e){}}return Sizzle(expr,null,null,[node]).length>0}}})();(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return }div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return }Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem[expando]=doneName;elem.sizset=i}if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem[expando]=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}if(document.documentElement.contains){Sizzle.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):true)}}else{if(document.documentElement.compareDocumentPosition){Sizzle.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}}else{Sizzle.contains=function(){return false}}}Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context,seed){var match,tmpSet=[],later="",root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet,seed)}return Sizzle.filter(later,tmpSet)};Sizzle.attr=jQuery.attr;Sizzle.selectors.attrMap={};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.POS,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var self=this,i,l;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true}}})}var ret=this.pushStack("","find",selector),length,n,r;for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&(typeof selector==="string"?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){var level=1;while(cur&&cur.ownerDocument&&cur!==context){for(i=0;i<selectors.length;i++){if(jQuery(cur).is(selectors[i])){ret.push({selector:selectors[i],elem:cur,level:level})}}cur=cur.parentNode;level++}return ret}var pos=POS.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;i<l;i++){cur=this[i];while(cur){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}else{cur=cur.parentNode;if(!cur||!cur.ownerDocument||cur===context||cur.nodeType===11){break}}}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}});function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")","i"),rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)/,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document);wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text)){return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))})}if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery.clean(arguments);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery.clean(arguments));return set}}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this);self.html(value.call(this,i,self.html()))})}else{this.empty().append(value)}}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}else{return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent}}else{results=jQuery.buildFragment(args,this,scripts)}fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild}else{first=fragment.firstChild}if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||(l>1&&i<lastIndex)?jQuery.clone(fragment,true,true):fragment)}}if(scripts.length){jQuery.each(scripts,evalScript)}}return this}});function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return }var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type+(events[type][i].namespace?".":"")+events[type][i].namespace,events[type][i],events[type][i].data)}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return }if(dest.clearAttributes){dest.clearAttributes()}if(dest.mergeAttributes){dest.mergeAttributes(src)}nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){dest.outerHTML=src.outerHTML}else{if(nodeName==="input"&&(src.type==="checkbox"||src.type==="radio")){if(src.checked){dest.defaultChecked=dest.checked=src.checked}if(dest.value!==src.value){dest.value=src.value}}else{if(nodeName==="option"){dest.selected=src.defaultSelected}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}}}dest.removeAttribute(jQuery.expando)}jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];if(nodes&&nodes[0]){doc=nodes[0].ownerDocument||nodes[0]}if(!doc.createDocumentFragment){doc=document}if(args.length===1&&typeof first==="string"&&first.length<512&&doc===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;cacheresults=jQuery.fragments[first];if(cacheresults&&cacheresults!==1){fragment=cacheresults}}if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[first]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*")}else{if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*")}else{return[]}}}function fixDefaultChecked(elem){if(elem.type==="checkbox"||elem.type==="radio"){elem.defaultChecked=elem.checked}}function findInputs(elem){var nodeName=(elem.nodeName||"").toLowerCase();if(nodeName==="input"){fixDefaultChecked(elem)}else{if(nodeName!=="script"&&typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}}}function shimCloneNode(elem){var div=document.createElement("div");safeFragment.appendChild(div);div.innerHTML=elem.outerHTML;return div.firstChild}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=jQuery.support.html5Clone||!rnoshimcache.test("<"+elem.nodeName)?elem.cloneNode(true):shimCloneNode(elem);if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i])}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i])}}}srcElements=destElements=null;return clone},clean:function(elems,context,fragment,scripts){var checkScriptType;context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[],j;for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem)}else{elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");if(context===document){safeFragment.appendChild(div)}else{createSafeFragment(context).appendChild(div)}div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes}}var len;if(!jQuery.support.appendChecked){if(elem[0]&&typeof (len=elem.length)==="number"){for(j=0;j<len;j++){findInputs(elem[j])}}else{findInputs(elem)}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}}if(fragment){checkScriptType=function(elem){return !elem.type||rscriptType.test(elem.type)};for(i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){var jsTags=jQuery.grep(ret[i].getElementsByTagName("script"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags))}fragment.appendChild(ret[i])}}}return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){continue}id=elem[jQuery.expando];if(id){data=cache[id];if(data&&data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}if(data.handle){data.handle.elem=null}}if(deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}}});function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"/*$0*/"))}if(elem.parentNode){elem.parentNode.removeChild(elem)}}var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,rrelNum=/^([\-+])=([\-+.\de]+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],curCSS,getComputedStyle,currentStyle;jQuery.fn.css=function(name,value){if(arguments.length===2&&value===undefined){return this}return jQuery.access(this,name,value,true,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)})};jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity","opacity");return ret===""?"1":ret}else{return elem.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return }var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(+(ret[1]+1)*+ret[2])+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value)){return }if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra){var ret,hooks;name=jQuery.camelCase(name);hooks=jQuery.cssHooks[name];name=jQuery.cssProps[name]||name;if(name==="cssFloat"){name="float"}if(hooks&&"get" in hooks&&(ret=hooks.get(elem,true,extra))!==undefined){return ret}else{if(curCSS){return curCSS(elem,name)}}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(name in options){elem.style[name]=old[name]}}});jQuery.curCSS=jQuery.css;jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){var val;if(computed){if(elem.offsetWidth!==0){return getWH(elem,name,extra)}else{jQuery.swap(elem,cssShow,function(){val=getWH(elem,name,extra)})}return val}},set:function(elem,value){if(rnumpx.test(value)){value=parseFloat(value);if(value>=0){return value+"px"}}else{return value}}}});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return }}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){var ret;jQuery.swap(elem,{display:"inline-block"},function(){if(computed){ret=curCSS(elem,"margin-right","marginRight")}else{ret=elem.style.marginRight}});return ret}}}});if(document.defaultView&&document.defaultView.getComputedStyle){getComputedStyle=function(elem,name){var ret,defaultView,computedStyle;name=name.replace(rupper,"-$1").toLowerCase();if((defaultView=elem.ownerDocument.defaultView)&&(computedStyle=defaultView.getComputedStyle(elem,null))){ret=computedStyle.getPropertyValue(name);if(ret===""&&!jQuery.contains(elem.ownerDocument.documentElement,elem)){ret=jQuery.style(elem,name)}}return ret}}if(document.documentElement.currentStyle){currentStyle=function(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret===null&&style&&(uncomputed=style[name])){ret=uncomputed}if(!rnumpx.test(ret)&&rnum.test(ret)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft}}return ret===""?"auto":ret}}curCSS=getComputedStyle||currentStyle;function getWH(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,which=name==="width"?cssWidth:cssHeight,i=0,len=which.length;if(val>0){if(extra!=="border"){for(;i<len;i++){if(!extra){val-=parseFloat(jQuery.css(elem,"padding"+which[i]))||0}if(extra==="margin"){val+=parseFloat(jQuery.css(elem,extra+which[i]))||0}else{val-=parseFloat(jQuery.css(elem,"border"+which[i]+"Width"))||0}}}return val+"px"}val=curCSS(elem,name,name);if(val<0||val==null){val=elem.style[name]||0}val=parseFloat(val)||0;if(extra){for(;i<len;i++){val+=parseFloat(jQuery.css(elem,"padding"+which[i]))||0;if(extra!=="padding"){val+=parseFloat(jQuery.css(elem,"border"+which[i]+"Width"))||0}if(extra==="margin"){val+=parseFloat(jQuery.css(elem,extra+which[i]))||0}}}return val+"px"}if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return(width===0&&height===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||jQuery.css(elem,"display"))==="none")};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts,allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}if(jQuery.isFunction(func)){var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*"}list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters),selection;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)}return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}}jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=undefined}else{if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"}}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){responseText=jqXHR.responseText;if(jqXHR.isResolved()){jqXHR.done(function(r){responseText=r});self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)}if(callback){self.each(callback,[responseText,status,jqXHR])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings)}else{settings=target;target=jQuery.ajaxSettings}ajaxExtend(target,settings);return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},requestHeadersNames={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},abort:function(statusText){statusText=statusText||"abort";if(transport){transport.abort(statusText)}done(0,statusText);return this}};function done(status,nativeStatusText,responses,headers){if(state===2){return }state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;var isSuccess,success,error,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&status<300||status===304){if(s.ifModified){if((lastModified=jqXHR.getResponseHeader("Last-Modified"))){jQuery.lastModified[ifModifiedKey]=lastModified}if((etag=jqXHR.getResponseHeader("Etag"))){jQuery.etag[ifModifiedKey]=etag}}if(status===304){statusText="notmodified";isSuccess=true}else{try{success=ajaxConvert(s,response);statusText="success";isSuccess=true}catch(e){statusText="parsererror";error=e}}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=""+(nativeStatusText||statusText);if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]]}}else{tmp=map[jqXHR.status];jqXHR.then(tmp,tmp)}}return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return false}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey])}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){jqXHR.abort();return false}for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}return jqXHR},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(var prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")}});function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v,traditional,add)}})}else{if(!traditional&&obj!=null&&typeof obj==="object"){for(var name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}}jQuery.extend({active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type]}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response){if(s.dataFilter){response=s.dataFilter(response,s.dataType)}var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;i<length;i++){if(i===1){for(key in s.converters){if(typeof key==="string"){converters[key.toLowerCase()]=s.converters[key]}}}prev=current;current=dataTypes[i];if(current==="*"){current=prev}else{if(prev!=="*"&&prev!==current){conversion=prev+" "+current;conv=converters[conversion]||converters["* "+current];if(!conv){conv2=undefined;for(conv1 in converters){tmp=conv1.split(" ");if(tmp[0]===prev||tmp[0]==="*"){conv2=converters[tmp[1]+" "+current];if(conv2){conv1=converters[conv1];if(conv1===true){conv=conv2}else{if(conv2===true){conv=conv1}}break}}}}if(!(conv||conv2)){jQuery.error("No conversion from "+conversion.replace(" "," to "))}if(conv!==true){response=conv?conv(response):conv2(conv1(response))}}}}return response}var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+(jsc++)}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var inspectData=s.contentType==="application/x-www-form-urlencoded"&&(typeof s.data==="string");if(s.dataTypes[0]==="jsonp"||s.jsonp!==false&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2";if(s.jsonp!==false){url=url.replace(jsre,replace);if(s.url===url){if(inspectData){data=data.replace(jsre,replace)}if(s.data===data){url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback}}}s.url=url;s.data=data;window[jsonpCallback]=function(response){responseContainer=[response]};jqXHR.always(function(){window[jsonpCallback]=previous;if(responseContainer&&jQuery.isFunction(previous)){window[jsonpCallback](responseContainer[0])}});s.converters["script json"]=function(){if(!responseContainer){jQuery.error(jsonpCallback+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}script=undefined;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(0,1)}}}}});var xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1)}}:false,xhrId=0,xhrCallbacks;function createStandardXHR(){try{return new window.XMLHttpRequest()}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials" in xhr)})})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var xhr=s.xhr(),handle,i;if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else{xhr.open(s.type,s.url,s.async)}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i]}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType)}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}try{for(i in headers){xhr.setRequestHeader(i,headers[i])}}catch(_){}xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle]}}if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml}responses.text=xhr.responseText;try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else{if(status===1223){status=204}}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException)}}if(responses){complete(status,statusText,responses,responseHeaders)}};if(!s.async||xhr.readyState===4){callback()}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}},abort:function(){if(callback){callback(0,1)}}}}})}var elemdisplay={},iframe,iframeDoc,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fxNow;jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||speed===0){return this.animate(genFx("show",3),speed,easing,callback)}else{for(var i=0,j=this.length;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(!jQuery._data(elem,"olddisplay")&&display==="none"){display=elem.style.display=""}if(display===""&&jQuery.css(elem,"display")==="none"){jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName))}}}for(i=0;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(display===""||display==="none"){elem.style.display=jQuery._data(elem,"olddisplay")||""}}}return this}},hide:function(speed,easing,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,easing,callback)}else{var elem,display,i=0,j=this.length;for(;i<j;i++){elem=this[i];if(elem.style){display=jQuery.css(elem,"display");if(display!=="none"&&!jQuery._data(elem,"olddisplay")){jQuery._data(elem,"olddisplay",display)}}}for(i=0;i<j;i++){if(this[i].style){this[i].style.display="none"}}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else{if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else{this.animate(genFx("toggle",3),fn,fn2,callback)}}return this},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete,[false])}prop=jQuery.extend({},prop);function doAnimation(){if(optall.queue===false){jQuery._mark(this)}var opt=jQuery.extend({},optall),isElement=this.nodeType===1,hidden=isElement&&jQuery(this).is(":hidden"),name,val,p,e,parts,start,end,unit,method;opt.animatedProperties={};for(p in prop){name=jQuery.camelCase(p);if(p!==name){prop[name]=prop[p];delete prop[p]}val=prop[name];if(jQuery.isArray(val)){opt.animatedProperties[name]=val[1];val=prop[name]=val[0]}else{opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||"swing"}if(val==="hide"&&hidden||val==="show"&&!hidden){return opt.complete.call(this)}if(isElement&&(name==="height"||name==="width")){opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(jQuery.css(this,"display")==="inline"&&jQuery.css(this,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||defaultDisplay(this.nodeName)==="inline"){this.style.display="inline-block"}else{this.style.zoom=1}}}}if(opt.overflow!=null){this.style.overflow="hidden"}for(p in prop){e=new jQuery.fx(this,opt,p);val=prop[p];if(rfxtypes.test(val)){method=jQuery._data(this,"toggle"+p)||(val==="toggle"?hidden?"show":"hide":0);if(method){jQuery._data(this,"toggle"+p,method==="show"?"hide":"show");e[method]()}else{e[val]()}}else{parts=rfxnum.exec(val);start=e.cur();if(parts){end=parseFloat(parts[2]);unit=parts[3]||(jQuery.cssNumber[p]?"":"px");if(unit!=="px"){jQuery.style(this,p,(end||1)+unit);start=((end||1)/e.cur())*start;jQuery.style(this,p,start+unit)}if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}}return true}return optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var index,hadTimers=false,timers=jQuery.timers,data=jQuery._data(this);if(!gotoEnd){jQuery._unmark(true,this)}function stopQueue(elem,data,index){var hooks=data[index];jQuery.removeData(elem,index,true);hooks.stop(gotoEnd)}if(type==null){for(index in data){if(data[index]&&data[index].stop&&index.indexOf(".run")===index.length-4){stopQueue(this,data,index)}}}else{if(data[index=type+".run"]&&data[index].stop){stopQueue(this,data,index)}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){if(gotoEnd){timers[index](true)}else{timers[index].saveState()}hadTimers=true;timers.splice(index,1)}}if(!(gotoEnd&&hadTimers)){jQuery.dequeue(this,type)}})}});function createFxNow(){setTimeout(clearFxNow,0);return(fxNow=jQuery.now())}function clearFxNow(){fxNow=undefined}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(noUnmark){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}else{if(noUnmark!==false){jQuery._unmark(this)}}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;options.orig=options.orig||{}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||r==="auto"?0:r:parsed},custom:function(from,to,unit){var self=this,fx=jQuery.fx;this.startTime=fxNow||createFxNow();this.end=to;this.now=this.start=from;this.pos=this.state=0;this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px");function t(gotoEnd){return self.step(gotoEnd)}t.queue=this.options.queue;t.elem=this.elem;t.saveState=function(){if(self.options.hide&&jQuery._data(self.elem,"fxshow"+self.prop)===undefined){jQuery._data(self.elem,"fxshow"+self.prop,self.start)}};if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(fx.tick,fx.interval)}},show:function(){var dataShow=jQuery._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop);this.options.show=true;if(dataShow!==undefined){this.custom(this.cur(),dataShow)}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur())}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=true,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();options.animatedProperties[this.prop]=true;for(p in options.animatedProperties){if(options.animatedProperties[p]!==true){done=false}}if(done){if(options.overflow!=null&&!jQuery.support.shrinkWrapBlocks){jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index]})}if(options.hide){jQuery(elem).hide()}if(options.hide||options.show){for(p in options.animatedProperties){jQuery.style(elem,p,options.orig[p]);jQuery.removeData(elem,"fxshow"+p,true);jQuery.removeData(elem,"toggle"+p,true)}}complete=options.complete;if(complete){options.complete=false;complete.call(elem)}}return false}else{if(options.duration==Infinity){this.now=t}else{n=t-this.startTime;this.state=n/options.duration;this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timer,timers=jQuery.timers,i=0;for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},interval:13,stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=fx.now+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});jQuery.each(["width","height"],function(i,prop){jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now)+fx.unit)}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery("<"+nodeName+">").appendTo(body),display=elem.css("display");elem.remove();if(display==="none"||display===""){if(!iframe){iframe=document.createElement("iframe");iframe.frameBorder=iframe.width=iframe.height=0}body.appendChild(iframe);if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write((document.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");iframeDoc.close()}elem=iframeDoc.createElement(nodeName);iframeDoc.body.appendChild(elem);display=jQuery.css(elem,"display");body.removeChild(iframe)}elemdisplay[nodeName]=display}return elemdisplay[nodeName]}var rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0],box;if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}try{box=elem.getBoundingClientRect()}catch(e){}var doc=elem.ownerDocument,docElem=doc.documentElement;if(!box||!jQuery.contains(docElem,elem)){return box?{top:box.top,left:box.left}:{top:0,left:0}}var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.support.doesNotAddBorder&&!(jQuery.support.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent;offsetParent=elem.offsetParent}if(jQuery.support.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0}return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem,win;if(val===undefined){elem=this[0];if(!elem){return null}win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else{this[method]=val}})}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,"padding")):this[type]():null};jQuery.fn["outer"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?"margin":"border")):this[type]():null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this}if(jQuery.isFunction(size)){return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))})}if(jQuery.isWindow(elem)){var docElemProp=elem.document.documentElement["client"+name],body=elem.document.body;return elem.document.compatMode==="CSS1Compat"&&docElemProp||body&&body["client"+name]||docElemProp}else{if(elem.nodeType===9){return Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name])}else{if(size===undefined){var orig=jQuery.css(elem,type),ret=parseFloat(orig);return jQuery.isNumeric(ret)?ret:orig}else{return this.css(type,typeof size==="string"?size:size+"px")}}}}});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery})}})(window);exports();loadrunner.Script.loaded.push("$lib/jquery-1.7.1.js")});provide("libwrap/jquery",function(A){using((window.twttr&&window.twttr.isT1)?"$lib/jquery-1.7.1.js":"$lib/jquery-1.5.2.js",function(){A(jQuery)})});provide("$lib/json2.js",function(exports){if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());exports();loadrunner.Script.loaded.push("$lib/json2.js")});provide("libwrap/json",function(A){using("$lib/json2.js",function(){A(JSON)})});provide("$lib/hogan.js",function(B){var A={};var D=false;if(typeof window!=="undefined"){D=(window.$.browser.msie&&(parseInt(window.$.browser.version,10)<=7))}(function(N,L){N.Template=function(S,T,R,Q){this.r=S||this.r;this.c=R;this.options=Q;this.text=T||"";this.buf=(L)?[]:""};N.Template.prototype={r:function(S,R,Q){return""},v:G,t:I,render:function F(S,R,Q){return this.ri([S],R||{},Q)},ri:function(S,R,Q){return this.r(S,R,Q)},rp:function(S,U,T,Q){var R=T[S];if(!R){return""}if(this.c&&typeof R=="string"){R=this.c.compile(R,this.options)}return R.ri(U,T,Q)},rs:function(T,S,U){var Q=T[T.length-1];if(!K(Q)){U(T,S,this);return }for(var R=0;R<Q.length;R++){T.push(Q[R]);U(T,S,this);T.pop()}},s:function(W,R,U,S,X,Q,T){var V;if(K(W)&&W.length===0){return false}if(typeof W=="function"){W=this.ls(W,R,U,S,X,Q,T)}V=(W==="")||!!W;if(!S&&V&&R){R.push((typeof W=="object")?W:R[R.length-1])}return V},d:function(U,R,T,V){var W=U.split("."),X=this.f(W[0],R,T,V),Q=null;if(U==="."&&K(R[R.length-2])){return R[R.length-1]}for(var S=1;S<W.length;S++){if(X&&typeof X=="object"&&W[S] in X){Q=X;X=X[W[S]]}else{X=""}}if(V&&!X){return false}if(!V&&typeof X=="function"){R.push(Q);X=this.lv(X,R,T);R.pop()}return X},f:function(U,Q,T,V){var X=false,R=null,W=false;for(var S=Q.length-1;S>=0;S--){R=Q[S];if(R&&typeof R=="object"&&U in R){X=R[U];W=true;break}}if(!W){return(V)?false:""}if(!V&&typeof X=="function"){X=this.lv(X,Q,T)}return X},ho:function(X,Q,U,W,S){var V=this.c;var R=this.options;R.delimiters=S;var T=X.call(Q,W,function(Y){return V.compile(Y,R).render(Q,U)});this.b(V.compile(T.toString(),R).render(Q,U));return false},b:(L)?function(Q){this.buf.push(Q)}:function(Q){this.buf+=Q},fl:(L)?function(){var Q=this.buf.join("");this.buf=[];return Q}:function(){var Q=this.buf;this.buf="";return Q},ls:function(R,X,V,S,Q,T,Y){var U=X[X.length-1],W=null;if(!S&&this.c&&R.length>0){return this.ho(R,U,V,this.text.substring(Q,T),Y)}W=R.call(U);if(typeof W=="function"){if(S){return true}else{if(this.c){return this.ho(W,U,V,this.text.substring(Q,T),Y)}}}return W},lv:function(U,S,T){var R=S[S.length-1];var Q=U.call(R);if(typeof Q=="function"){Q=Q.call(R)}Q=I(Q);if(this.c&&!Q.indexOf("{\u007B")){return this.c.compile(Q,this.options).render(R,T)}return Q}};var M=/&/g,H=/</g,E=/>/g,P=/\'/g,O=/\"/g,J=/[&<>\"\']/;function I(Q){return String((Q===null||Q===undefined)?"":Q)}function G(Q){Q=I(Q);return J.test(Q)?Q.replace(M,"&amp;").replace(H,"&lt;").replace(E,"&gt;").replace(P,"&#39;").replace(O,"&quot;"):Q}var K=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"}})(A,D);(function(O){var R=/\S/,Q=/\"/g,M=/\n/g,K=/\r/g,E=/\\/g;O.tags={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10,_t:11};O.scan=function U(e,Z){var o=e.length,W=0,b=1,V=2,X=W,a=null,q=null,p="",j=[],d=false,n=0,k=0,f="{{",m="}}";function l(){if(p.length>0){j.push({tag:"_t",text:new String(p)});p=""}}function Y(){var s=true;for(var r=k;r<j.length;r++){s=(O.tags[j[r].tag]<O.tags._v)||(j[r].tag=="_t"&&j[r].text.match(R)===null);if(!s){return false}}return s}function g(u,r){l();if(u&&Y()){for(var s=k,t;s<j.length;s++){if(j[s].text){if((t=j[s+1])&&t.tag==">"){t.indent=j[s].text.toString()}j.splice(s,1)}}}else{if(!r){j.push({tag:"\n"})}}d=false;k=j.length}function c(v,s){var u="="+m,r=v.indexOf(u,s),t=G(v.substring(v.indexOf("=",s)+1,r)).split(" ");f=t[0];m=t[1];return r+u.length-1}if(Z){Z=Z.split(" ");f=Z[0];m=Z[1]}for(n=0;n<o;n++){if(X==W){if(J(f,e,n)){--n;l();X=b}else{if(e.charAt(n)=="\n"){g(d)}else{p+=e.charAt(n)}}}else{if(X==b){n+=f.length-1;q=O.tags[e.charAt(n+1)];a=q?e.charAt(n+1):"_v";if(a=="="){n=c(e,n);X=W}else{if(q){n++}X=V}d=n}else{if(J(m,e,n)){j.push({tag:a,n:G(p),otag:f,ctag:m,i:(a=="/")?d-m.length:n+f.length});p="";n+=m.length-1;X=W;if(a=="{"){if(m=="}}"){n++}else{P(j[j.length-1])}}}else{p+=e.charAt(n)}}}}g(d,true);return j};function P(V){if(V.n.substr(V.n.length-1)==="}"){V.n=V.n.substring(0,V.n.length-1)}}function G(V){if(V.trim){return V.trim()}return V.replace(/^\s*|\s*$/g,"")}function J(V,Z,X){if(Z.charAt(X)!=V.charAt(0)){return false}for(var Y=1,W=V.length;Y<W;Y++){if(Z.charAt(X+Y)!=V.charAt(Y)){return false}}return true}function F(b,Y,W,a){var V=[],Z=null,X=null;while(b.length>0){X=b.shift();if(X.tag=="#"||X.tag=="^"||I(X,a)){W.push(X);X.nodes=F(b,X.tag,W,a);V.push(X)}else{if(X.tag=="/"){if(W.length===0){throw new Error("Closing tag without opener: /"+X.n)}Z=W.pop();if(X.n!=Z.n&&!L(X.n,Z.n,a)){throw new Error("Nesting error: "+Z.n+" vs. "+X.n)}Z.end=X.i;return V}else{if(X.tag=="\n"){X.last=(b.length==0)||(b[0].tag=="\n");V.push(X)}else{V.push(X)}}}}if(W.length>0){throw new Error("missing closing tag: "+W.pop().n)}return V}function I(Y,W){for(var X=0,V=W.length;X<V;X++){if(W[X].o==Y.n){Y.tag="#";return true}}}function L(Z,X,W){for(var Y=0,V=W.length;Y<V;Y++){if(W[Y].c==Z&&W[Y].o==X){return true}}}O.generate=function(V,Y,W){var X='var t=this;t.b(i=i||"");'+O.walk(V)+"return t.fl();";if(W.asString){return"function(c,p,i){"+X+";}"}return new O.Template(new Function("c","p","i",X),Y,O,W)};function N(V){return V.replace(E,"\\\\").replace(Q,'\\"').replace(M,"\\n").replace(K,"\\r")}function H(V){return(~V.indexOf("."))?"d":"f"}O.codegen={"#":function(V){return"if(t.s(t."+H(V.n)+'("'+N(V.n)+'",c,p,1),c,p,0,'+V.i+","+V.end+',"'+V.otag+" "+V.ctag+'")){t.rs(c,p,function(c,p,t){'+O.walk(V.nodes)+"});c.pop();}"},"^":function(V){return"if(!t.s(t."+H(V.n)+'("'+N(V.n)+'",c,p,1),c,p,1,0,0,"")){'+O.walk(V.nodes)+"};"},">":function(V){return't.b(t.rp("'+N(V.n)+'",c,p,"'+(V.indent||"")+'"));'},"<":function(){},"\n":function(V){return S('"\\n"'+(V.last?"":" + i"))},_v:function(V){return"t.b(t.v(t."+H(V.n)+'("'+N(V.n)+'",c,p,0)));'},_t:function(V){return S('"'+N(V.text)+'"')},"{":T,"&":T,raw:function(V){return S(V.text)}};function T(V){return"t.b(t.t(t."+H(V.n)+'("'+N(V.n)+'",c,p,0)));'}function S(V){return"t.b("+V+");"}O.walk=function(Y){var X="";for(var W=0,V=Y.length;W<V;W++){var Z=O.codegen[Y[W].tag];if(Z){X+=Z(Y[W])}}return X};O.parse=function(W,X,V){V=V||{};return F(W,"",[],V.sectionTags||[])},O.cache={};O.compile=function(Y,V){V=V||{};var X=Y+"||"+!!V.asString;var W=this.cache[X];if(W){return W}W=this.generate(this.parse(this.scan(Y,V.delimiters),Y,V),Y,V);return this.cache[X]=W}})(A);var C=(function(I){function H(R,T,S,P){var Q=this.f(R,T,S,0);var O=T;if(Q){O=O.concat(Q)}return I.Template.prototype.rp.call(this,R,O,S,P)}function J(R,O,Q,S){var P=O[O.length-1];var T=I.Template.prototype.f.call(this,R,O,Q,S);if(T===false){var U=P.lookup_missing_property?P:O[0];if(U.lookup_missing_property){T=U.lookup_missing_property(R,P);if(!S&&typeof T=="function"){T=this.lv(T,O,Q)}}}return T}var K=function(Q,R,P,O){this.rp=H;this.f=J;I.Template.call(this,Q,R,P,O)};K.prototype=I.Template.prototype;function M(T,U,Q){var O=I.parse.call(this,T,U,Q);var P="";for(var S=0;S<O.length;S++){if(O[S].tag=="_v"&&O[S].n.indexOf("%TRANSLATION-HINT")==0){var R=O.splice(S,1)[0];S--;P=R.n.substring(R.n.indexOf("mode=")+"mode=".length)}}return G(O,P,U,Q)}function G(O,Q,U,R){var P=[];for(var S=0;S<O.length;S++){if(O[S].tag=="#"&&O[S].n=="_i"){var T=N(U.substring(O[S].i,O[S].end),Q);if(T.tag=="raw"){P.push(T)}else{Array.prototype.push.apply(P,I.parse(I.scan(T,R.delimiters),U,R))}}else{if(O[S].tag=="#"||O[S].tag=="^"){O[S].nodes=G(O[S].nodes,Q,U,R);P.push(O[S])}else{P.push(O[S])}}}return L(P)}function L(O){if(O.length==0){return O}var Q=[O[0]];for(var P=1;P<O.length;P++){if(Q[Q.length-1].tag=="_t"&&(O[P].tag=="\n"||O[P].tag=="_t")){Q[Q.length-1].text+=O[P].text||"\n"}else{Q.push(O[P])}}return Q}function N(P,O){var Q={text:P,mode:O};var R=_(Q);if(!R){return P}else{return R}}var F;var E=function(){this.parse=M;this.generate=function(O,R,P){var Q='var t=this;t.b(i=i||"");'+I.walk(O)+"return t.fl();";if(P.asString){return"function(c,p,i){"+Q+";}"}return new K(new Function("c","p","i",Q),R,F,P)}};E.prototype=I;F=new E();return{twitterHogan:F,TwitterTemplate:K,to_html:function(Q,R,P,S){if(!(Q instanceof K)){Q=F.compile(Q,{sectionTags:[{o:"_i",c:"i"}]})}var O=Q.render(R,P);if(!S){return O}S(O)}}})(A);if(typeof window!=="undefined"){window.Mustache=C}B();loadrunner.Script.loaded.push("$lib/hogan.js")});provide("libwrap/hogan",function(A){using("$lib/hogan.js",function(){A(Mustache)})});provide("run/base",function(A){using("libwrap/jquery").as(function(E,G){window.h=function(H){var J=$("<div/>");var I=function(K){return K?J.text(K).html().replace(/\"/gi,"&quot;"):K};h=function(K){return I(K)};return I(H)};if(G.browser.msie&&G.browser.version==="7.0"){G.cleanData=function(I){var L,J,H=G.cache,O=G.event.special,N=G.support.deleteExpando;for(var M=0,K;(K=I[M])!=null;M++){if(K.nodeName&&G.noData[K.nodeName.toLowerCase()]){continue}J=K[G.expando];if(J){L=H[J];if(L&&L.events){for(var P in L.events){if(O[P]){G.event.remove(K,P)}else{G.removeEvent(K,P,L.handle)}}if(L.handle){L.handle.elem=null}}if(N){delete K[G.expando]}else{if(K.removeAttribute){K.removeAttribute(G.expando.toLowerCase())}}delete H[J]}}}}var D=/\[native code\]/;function F(K,O){var L=window;var N=K.split(".");for(var J=0,H=N.length;J<H;J++){var M=N[J];if(typeof L[M]==="undefined"){L[M]={}}L=L[M]}if(O){for(var I in O){L[I]=O[I]}}return L}F("twttr",{provide:F,augmentObject:function(I,J){for(var H in J){I[H]=J[H]}return I},aug:function(){return twttr.augmentObject.apply({},arguments)},augmentString:function(M,K){var L=window;var J=M.split(".");for(var I=0,H=J.length;I<H;++I){L=L[J[I]]=L[J[I]]||((typeof J[I+1]!=="undefined")?{}:K)}return L},each:function(H,K,L){for(var J=0,I=H.length;J<I;++J){L?K.call(L,H[J],J,H):K(H[J],J,H)}},localize:function(I,H){return typeof I[twttr.pageLocale]==="undefined"?H:I[twttr.pageLocale]},filter:function(K,N,H){var I;if(twttr.is.array(K)){var O=[];for(var L=0,J=K.length;L<J;++L){I=H?N.call(H,K[L],L,K):N(K[L],L,K);if(!I){continue}O.push(K[L])}return O}else{if(twttr.is.object(K)){var M={};for(var P in K){I=H?N.call(H,P,K[P],K):N(P,K[P],K);if(!I){continue}M[P]=K[P]}return M}}},map:function(M,K,L,I){var H=twttr.is.array(M)?[]:{};if(I&&I=="array"){H=[]}for(var J in M){H[J]=L?K.call(L,M[J],J,M):K(M[J],J,M)}return H},every:function(H,K,L){var M;for(var J=0,I=H.length;J<I;++J){M=L?K.call(L,H[J],J,H):K(H[J],J,H);if(!M){return false}}return true},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(J,I,H){$.each(J,function(K,L){I=H(I,K,L)});return I},exists:function(I,H){if(!twttr.is.object(I)||!twttr.is.def(H)){return null}return twttr.is.def(twttr.at(H,I))},merge:function(){var H=G.makeArray(arguments);if(H.length===1){return H[0]}if(twttr.is.bool(H[H.length-1])){H.unshift(H.pop())}return G.extend.apply(null,H)},extend:function(I,J){function H(){}H.prototype=J.prototype;I.prototype=new H();I.prototype.constructor=I;I.uber=J.prototype;if(J.prototype.constructor==Object.prototype.constructor){J.prototype.constructor=J}},method:function(H,I){this.prototype[H]=I;return this},methods:function(I){this.prototype._namespace=this._namespace;for(var H in I){this.prototype[H]=I[H];if(twttr.is.fn(I[H])){this.prototype[H]._methodName=H}}return this},statics:function(H){return twttr.aug(this,H)},at:function C(J,I){var K=J.split(".");var H=I||window;while(K.length>0){H=H[K.shift()];if(typeof H==="undefined"){return undefined}}return H},klass:function(K,I){if(typeof K!=="string"){I=K;K=({})["this evaluates to undefined"]}var M=I||function(){if(L.uberclass){L.uberclass.apply(this,arguments)}};var H=[];var L=function(){if((twttr.development||twttr.isTestEnv)&&(this==window||D.test(this.constructor))){throw new Error((K?K:"(unnamed)")+" constructor must be called with the 'new' keyword")}var N=this;M.apply(this,arguments);twttr.each(H,function(O){new O(L,N)})};if(K){twttr.augmentString(K,L);var J=K.split(".").pop();L.name=J.toLowerCase();L._namespace=K;L._name=J}L.lazyLoad=function(N){H.push(N);return L};L.method=twttr.method;L.methods=twttr.methods;L.statics=twttr.statics;L._isKlass=true;M._methodName="constructor";L.subclassOf=function(O){if(!O._isKlass){throw ("You should not be subclassing something that is not a twttr.klass")}twttr.extend(L,O);for(var N in O){if(!L.hasOwnProperty(N)){L[N]=O[N]}}L.uberclass=O;return L};L.mixin=function(){for(var O=0;O<arguments.length;O++){var N=arguments[O];if(!twttr.is.def(N)){console.warn("you have an undefined mixin coming from "+K)}else{N.call(L,L)}}return L};return L},magic:function(H,I){if(twttr.is.string(H)){return twttr.augmentString(H,I)}else{return twttr.aug(H,I)}},bind:function(J,I,H){return function(){return I.apply(J,H?H.concat(Array.prototype.slice.apply(arguments)):arguments)}}});twttr.deprecateAccess=function(L,M,K){K=K||{};if(!twttr.deprecateAccess.isActive||typeof console==="undefined"||typeof L.__defineGetter__!=="function"||typeof L.__defineSetter__!=="function"||typeof L.__lookupGetter__!=="function"||typeof L.__lookupSetter__!=="function"){return }if(L.__lookupGetter__(M)||L.__lookupSetter__(M)){return }if(!!K.now!==!!K.daysRemaining&&console){console.error("To deprecate "+M+", you must provide both a now property and a daysRemaining property, or neither")}var N=L[M],J,I=new Date(K.now+K.daysRemaining*1000*60*60*24),H=I<new Date();var O=function(){if(J||B){return }J=true;var P=['The property "'+M+'" on ',L,"is deprecated."];if(K.replacement){P.push("  Please use "+K.replacement+" instead.")}if(K.daysRemaining&&K.now){P.push("\nTHIS CODE WILL SELF-DESTRUCT ON "+(I.toString()))}if(K.message){P.push("\nMessage: "+message)}P.push("\nPlease remove the usage at ",{stack:new Error().stack});console[H?"error":"warn"].apply(console,P)};L.__defineGetter__(M,function(){O();return N});L.__defineSetter__(M,function(P){O();N=P})};twttr.deprecateAccess.activate=function(H){if(typeof H==="undefined"){H=true}twttr.deprecateAccess.isActive=H};var B=false;twttr.unwarnedAccess=function(I,J){B=true;var H=I[J];B=false;return H};twttr.klass.mixin=function(I,H){return twttr.magic(I,H)};F("twttr.is",{element:function(H){return !!(H&&(this.def(H.nodeType)||(H.document&&H.document.nodeType)))},bool:function(H){return typeof H==="boolean"},nil:function(H){return H===null},def:function(H){return typeof H!=="undefined"},number:function(H){return typeof H==="number"&&isFinite(H)},fn:function(H){return typeof H==="function"},array:function(H){return H?this.number(H.length)&&this.fn(H.splice):false},string:function(H){return typeof H==="string"},blank:function(H){return H===""},falsy:function(H){return !H},object:function(H){return !!(H&&(typeof H==="object"||this.fn(H)))},regex:function(H){return Object.prototype.toString.apply(H)==="[object RegExp]"},inArray:function(J,I){var H=I.length,K=0;for(K=0;K<H;K++){if(I[K]===J){return true}}return false}});twttr.provide("twttr.assets",{getPathFromAbsoluteURL:function(K,J){if(!twttr.cdnBase){return K}if(K.indexOf("/unversioned_dev_assets/")===0){return K}var I;if(K.match(/^https?:/)){function H(L){var M=L.split("://")[1];return M.split("/").slice(1).join("/")}I=H(K)}else{console.warn("A relative path (%o) was passed to getPathFromAbsoluteURL, which expects an absolute URL; you should use twttr.assets.path instead",K);I=K}return this.path(I,J)},path:function(H,I){if(!twttr.cdnBase){return H}if(H.match(/^https?:/)){if(typeof (console)!=="undefined"&&console.warn){console.warn("A fully qualified URL (%o) was passed to twttr.assets.path, which expects a relative path; returning it unchanged",H)}return H}I=I||{};var N=(typeof (I.isSSL)==="undefined")?(twttr.proto=="https"):I.isSSL;var K=(typeof (I.isVersioned)==="undefined")?true:I.isVersioned;var M,L,J;if(K){M=twttr.cdnBase.versioned}else{M=twttr.cdnBase.unversioned}if(N){L=M.ssl;if(M.ssl_akamai&&twttr.decider.isAvailable("ssl_cdn_akamai_fraction")){L=M.ssl_akamai}}else{L=M.http}if(H[0]!=="/"){H="/"+H}J=L[twttr.assets.stringToBucket(H,L.length)];return J+H},stringToBucket:function(J,H){if(!H){throw new Error("Missing numberOfBuckets argument")}var L=J.split("/");var I=L[L.length-1];var M=0;for(var K=0;K<I.length;K++){M+=I.charCodeAt(K)}return M%H}});A(twttr)})});provide("_",function(A){using("util").as(function(B){var D=B.util.params().lang=="en-XX";var C=window._=function(G,F){var H=G,I;if(twttr.is.object(G)){H=G.text;I=G.mode}H=E(H,I);if(F==null){return H}return Mustache.to_html(H,F)};C.pseudoTranslate=function(H){str="[";var F=0;for(var G=0;G<H.length;G++){if(H[G]==">"||H[G]=="}"){F--}else{if(H[G]=="<"||H[G]=="{"){F++}}if(F>0){str+=H[G]}else{str+=H[G].replace(/a/g,"").replace(/e/g,"").replace(/i/g,"").replace(/o/g,"").replace(/u/g,"")}}str+="]";return str};var E=function(H,I){var F=H;if(!twttr.i18n){}else{var G=undefined;if(I){G=(twttr.i18n[I+":"+H]||twttr.i18n[H])}else{G=twttr.i18n[H]}if(G){F=G}}if(D){return C.pseudoTranslate(F)}return F};A(C)})});provide("/account/templates_t1_core.js",function(A){if(!twttr.isMockview){twttr.provide("twttr.templates",{user_css_t1:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n"+C);B.b('<style id="user-style-');B.b(B.v(B.f("style_namespace",E,D,0)));B.b('" class="js-user-style">\n\n\n\n\n\n\n\n\n\na,\n\n\n\n.btn-link,\n\n\n\n\n  \n  \n\n.pretty-link');B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" s,\n.pretty-link");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" b,\n/* Metadata */\n.ns-experiment .story-title a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n/* Account Group */\n.metadata a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n.account-group");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .fullname,\n\n.stats a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.stats a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" strong,\n\n.profile-modal-header .fullname a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.profile-modal-header .username a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n.story-article");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .metadata,\n\n.find-friends-sources li");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .source,\n\n\n\n\n\n.stream-item a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .fullname,\n.stream-item .time a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n.stream-item .view-all-supplements");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n.tweet .details,\n.tweet .content-expansion a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.tweet p a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.tweet");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .action-open-container a,\n\n.client-and-actions a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n.dismiss-promoted");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" b,\n\n.tweet .context .pretty-link");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" s,\n.tweet .context .pretty-link");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" b,\n\n.list .username a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.list-membership-container .create-a-list,\n.list-membership-container .create-a-list");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n.permalink-tweet p a,\n.permalink-tweet .actions a,\n.tweet .actions li");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" b,\n.open .tweet p a,\n.open .original-tweet .action-open-container a,\n.open .original-tweet .actions b,\n\n\n\n.story-header");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .view-tweets,\n.card .list-details a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.card .card-body");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .attribution,\n.new-tweets-bar,\n.onebox .soccer ul.ticker a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n.ns-experiment .story-body-link a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n\n\n.remove-background-btn,\n\n\n\n.stream-item-activity-me .latest-tweet .tweet-row a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(",\n\n\n\n.colored-actions.tweet .actions a,\n.colored-links.tweet p a {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,1765,1804,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(";\n")});E.pop()}if(!B.s(B.f("profile_link_color",E,D,1),E,D,1,0,0,"")){B.b("    color: #0084B4;\n")}B.b("}\n\n\n\n\n\ns,\n.pretty-link");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" s,\n.stream-item-activity-me .latest-tweet .tweet-row a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" s {\n");if(B.s(B.f("profile_pretty_link_color",E,D,1),E,D,0,2044,2090,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    color: #");F.b(F.v(F.f("profile_pretty_link_color",H,G,0)));F.b(";\n")});E.pop()}if(!B.s(B.f("profile_pretty_link_color",E,D,1),E,D,1,0,0,"")){B.b("    color: #66B5D2;\n")}B.b("}\n\n\n\n\n\n.tweet .details .sm-reply,\n.tweet .details .sm-image,\n.tweet .details .sm-video,\n.tweet .details .sm-audio,\n.tweet .details .sm-geo,\n.tweet .details .sm-embed,\n.tweet .details .sm-convo,\n\n");if(B.s(B.f("has_hovers_in_css",E,D,1),E,D,0,2424,2550,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("  .with-icn:hover .action-reply,\n  .with-icn:hover .action-rt,\n  .with-icn:hover .action-fav,\n  .with-icn:hover .action-del,\n")});E.pop()}if(!B.s(B.f("has_hovers_in_css",E,D,1),E,D,1,0,0,"")){B.b("  .tweet .with-icn .action-reply,\n  .tweet .with-icn .action-rt,\n  .tweet .with-icn .action-fav,\n  .tweet .with-icn .action-del,\n")}B.b(".open .original-tweet .actions i,\n\n.permalink-tweet .actions .action-reply,\n.permalink-tweet .actions .action-rt,\n.permalink-tweet .actions .action-fav,\n.permalink-tweet .actions .action-del,\n\n.story-search-link .sm-search,\n.disco-top-tweets,\n\n\n\n.colored-actions .with-icn .action-reply,\n.colored-actions .with-icn .action-rt,\n.colored-actions .with-icn .action-fav,\n.colored-actions .with-icn .action-del {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,3181,3231,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    background-color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(";\n")});E.pop()}if(!B.s(B.f("profile_link_color",E,D,1),E,D,1,0,0,"")){B.b("    background-color: #6684B4;\n")}B.b("}\n\nbody {\n");if(B.s(B.f("profile_use_background_image",E,D,1),E,D,0,3383,3589,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    background-position: left 40px;\n    background-attachment: fixed;\n    background-repeat: repeat;\n");if(!F.s(F.f("profile_background_tile",H,G,1),H,G,1,0,0,"")){F.b("      background-repeat: no-repeat;\n")}});E.pop()}if(B.s(B.f("profile_background_color",E,D,1),E,D,0,3654,3710,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    background-color: #");F.b(F.v(F.f("profile_background_color",H,G,0)));F.b(";\n")});E.pop()}if(!B.s(B.f("profile_background_color",E,D,1),E,D,1,0,0,"")){B.b("    background-color: #c0deed;\n")}B.b("}\n\n\n\n\n\n\n\n\n\n\n.anatomy .tweet p a,\n.anatomy .wrapper .content-main .tweet .actions a,\n.anatomy .tweet");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .action-expand-container,\n.anatomy.oldstyle .wrapper .content-main .tweet");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" .actions .action-reply-container a {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,4101,4140,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(";\n")});E.pop()}if(!B.s(B.f("profile_link_color",E,D,1),E,D,1,0,0,"")){B.b("    color: #0084B4;\n")}B.b("}\n.anatomy .action-expand-container,\n.anatomy.oldstyle .wrapper .content-main .tweet .actions .action-reply-container a {\n  color: #999;\n}\n\n/* anatomy's world Tweet new styles */\n.anatomy .tweet .details .sm-reply,\n.anatomy .tweet .details .sm-image,\n.anatomy .tweet .details .sm-video,\n.anatomy .tweet .details .sm-audio,\n.anatomy .tweet .details .sm-geo,\n.anatomy .tweet .details .sm-embed,\n.anatomy .tweet .actions .action-reply,\n.anatomy .tweet .actions .action-rt,\n.anatomy .tweet .actions .action-fav,\n.anatomy .my-tweet .actions .action-del,\n.anatomy .permalink .tweet.permalink-tweet .actions i,\n.background-hover.anatomy .actions i,\n");if(B.s(B.f("has_hovers_in_css",E,D,1),E,D,0,4900,5347,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(".anatomy.oldstyle .tweet:hover .actions .action-reply,\n/* Permalink replies/inreplyto color on hover */\n.anatomy .permalink-inner .actions .with-icn:hover .action-reply,\n.anatomy .permalink-inner .actions .with-icn:hover .action-rt,\n.anatomy .permalink-inner .actions .with-icn:hover .action-fav,\n.anatomy .permalink-inner .my-tweet .actions .with-icn:hover .action-del,\n.anatomy.oldstyle .permalink-inner .actions .with-icn:hover .action-reply,\n")});E.pop()}B.b(".anatomy.oldstyle .permalink-inner .permalink-tweet .actions .with-icn .action-reply,\n.anatomy.oldstyle .open .original-tweet .actions .with-icn .action-reply,\n.random-delete-selector {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,5581,5631,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    background-color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(";\n")});E.pop()}if(!B.s(B.f("profile_link_color",E,D,1),E,D,1,0,0,"")){B.b("    background-color: #0084B4;\n")}B.b("}\n\n");if(B.s(B.f("has_hovers_in_css",E,D,1),E,D,0,5763,5917,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(".content-main .stream-item .unclickable-tweet:hover a,\n.content-main .stream-item .unclickable-tweet a:hover {\n  color: #999;\n  text-decoration: none;\n}\n")});E.pop()}if(!B.s(B.f("has_hovers_in_css",E,D,1),E,D,1,0,0,"")){B.b(".content-main .stream-item .unclickable-tweet");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" a,\n.content-main .stream-item .unclickable-tweet a");B.b(B.v(B.f("colon_hover",E,D,0)));B.b(" {\n  color: #999;\n  text-decoration: none;\n}\n")}B.b("\n"+C);B.b(".anatomy .permalink-inner .tweet .actions .action-reply,\n.anatomy .permalink-inner .tweet .actions .action-rt,\n.anatomy .permalink-inner .tweet .actions .action-fav,\n.anatomy .permalink-inner .my-tweet .actions .action-del,\n.anatomy.oldstyle .tweet .actions .action-reply,\n.anatomy.oldstyle .permalink-inner .actions .with-icn .action-reply {\n  background-color: #999;\n}\n\n</style>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),activity_modal:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("<div id='activity-modal' style='display: none'>\n  <div class='left-pointer'></div>\n  <a class='dismiss' title=\"Hide\">&times;</a>\n  <p class='header'><span class='new'>New!</span> Activity and @");B.b(B.v(B.f("current_user_screen_name",E,D,0)));B.b("</p>\n  <p class='desc'>\n      View favorites, follows, retweets and more by people you follow in <strong>Activity</strong>.\n  </p>\n  <p class='extra-blurb desc'>\n    View your mentions, tweets that were retweeted and more in <strong>@");B.b(B.v(B.f("current_user_screen_name",E,D,0)));B.b("</strong>.\n  </p>\n</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),more_button:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="stream-item">\n  <div class="more-button-container">\n    <a class="more-button btn">more</a>\n  </div>\n</div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_context:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n");B.b("\n"+C);B.b('<div class="context">\n');if(B.s(B.f("is_sponsored",E,D,1),E,D,0,43,1365,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('    <span class="metadata with-icn js-disclosure" title="');F.b(F.v(F.f("disclosure_text",H,G,0)));F.b('">\n');if(F.s(F.f("was_retweeted",H,G,1),H,G,0,147,443,"{{ }}")){F.rs(H,G,function(K,J,I){if(I.s(I.f("retweeting_status",K,J,1),K,J,0,178,414,"{{ }}")){I.rs(K,J,function(N,M,L){L.b('          <i class="');L.b(L.v(L.f("promoted_badge_class",N,M,0)));L.b('"></i><a href="');if(L.s(L.f("user",N,M,1),N,M,0,247,263,"{{ }}")){L.rs(N,M,function(Q,P,O){O.b(O.v(O.f("profile_path",Q,P,0)))});N.pop()}L.b('" class="js-action-profile-promoted js-user-profile-link" data-user-id="');if(L.s(L.f("user",N,M,1),N,M,0,353,359,"{{ }}")){L.rs(N,M,function(Q,P,O){O.b(O.v(O.f("id",Q,P,0)))});N.pop()}L.b('">Promoted by ');L.b(L.v(L.f("advertiser_name",N,M,0)));L.b("</a>\n")});K.pop()}});H.pop()}if(!F.s(F.f("was_retweeted",H,G,1),H,G,1,0,0,"")){F.b('        <i class="');F.b(F.v(F.f("promoted_badge_class",H,G,0)));F.b('"></i><a href="');if(F.s(F.f("user",H,G,1),H,G,0,553,569,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.v(I.f("profile_path",K,J,0)))});H.pop()}F.b('" class="js-action-profile-promoted js-user-profile-link" data-user-id="');if(F.s(F.f("user",H,G,1),H,G,0,659,665,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.v(I.f("id",K,J,0)))});H.pop()}F.b('">Promoted by ');F.b(F.v(F.f("advertiser_name",H,G,0)));F.b("</a>\n")}F.b("    </span>\n");if(F.s(F.f("in_home_page",H,G,1),H,G,0,770,1345,"{{ }}")){F.rs(H,G,function(K,J,I){if(!I.s(I.f("rendering_on_server",K,J,1),K,J,1,0,0,"")){I.b('        <a class="dismiss-promoted js-action-dismiss with-icn" href="#"><i class="close"></i><b>');if(!I.s(I.f("abtest_dismiss_text_180_any_bucket",K,J,1),K,J,1,0,0,"")){I.b("Dismiss")}if(I.s(I.f("abtest_dismiss_text_180_dismiss_tweet",K,J,1),K,J,0,1025,1038,"{{ }}")){I.rs(K,J,function(N,M,L){L.b("Dismiss Tweet")});K.pop()}if(I.s(I.f("abtest_dismiss_text_180_remove_tweet",K,J,1),K,J,0,1121,1133,"{{ }}")){I.rs(K,J,function(N,M,L){L.b("Remove Tweet")});K.pop()}if(I.s(I.f("abtest_dismiss_text_180_not_interested",K,J,1),K,J,0,1217,1231,"{{ }}")){I.rs(K,J,function(N,M,L){L.b("Not interested")});K.pop()}I.b("</b></a>\n")}I.b("      ");I.b(I.t(I.f("social_context",K,J,0)));I.b("\n"+C)});H.pop()}});E.pop()}if(B.s(B.f("is_top_tweet",E,D,1),E,D,0,1402,1600,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('    <span class="metadata with-icn">\n      <i class="badge-top"></i>');if(F.s(F.f("retweet_count",H,G,1),H,G,0,1489,1522,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("Retweeted ");I.b(I.v(I.f("retweet_count",K,J,0)));I.b(" times")});H.pop()}if(!F.s(F.f("retweet_count",H,G,1),H,G,1,0,0,"")){F.b("Top Tweet")}F.b("\n"+C);F.b("    </span>\n")});E.pop()}if(!B.s(B.f("is_sponsored",E,D,1),E,D,1,0,0,"")){if(B.s(B.f("was_retweeted",E,D,1),E,D,0,1660,2028,"{{ }}")){B.rs(E,D,function(H,G,F){if(F.s(F.f("retweeting_status",H,G,1),H,G,0,1689,2001,"{{ }}")){F.rs(H,G,function(K,J,I){if(I.s(I.f("user",K,J,1),K,J,0,1707,1985,"{{ }}")){I.rs(K,J,function(N,M,L){L.b('          <span class="with-icn"><i class="');if(!L.s(L.f("anatomy_world",N,M,1),N,M,1,0,0,"")){L.b("sm-rt")}if(L.s(L.f("anatomy_world",N,M,1),N,M,0,1810,1823,"{{ }}")){L.rs(N,M,function(Q,P,O){O.b("badge-retweet")});N.pop()}L.b('"></i>Retweeted by <a class="pretty-link js-user-profile-link" href="');L.b(L.v(L.f("profile_path",N,M,0)));L.b('" data-user-id="');L.b(L.v(L.f("id",N,M,0)));L.b('"><b>');L.b(L.v(L.f("name",N,M,0)));L.b("</b></a></span>\n")});K.pop()}});H.pop()}});E.pop()}}B.b("</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),details_pane:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("<div class=\"inner-pane\">\n  <div class='pane-toolbar pane-built-in'>\n");if(B.s(B.f("popable",E,D,1),E,D,0,84,180,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      <a class='pane-back toolbar-control' href='#'><span>&larr;</span> ");F.b(F.v(F.f("back_label",H,G,0)));F.b("</a>\n")});E.pop()}if(B.s(B.f("closable",E,D,1),E,D,0,210,299,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      <a class='pane-close toolbar-control' href='#'>close <span>&times;</span></a>\n")});E.pop()}B.b('    <br style=\'clear: both\' />\n  </div>\n  <div class="pane-components">\n    <div class="pane-components-inner">\n    </div>\n  </div>\n</div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_activity:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("<span class='stream-activity-line'><i></i>");B.b(B.t(B.f("sentence",E,D,0)));B.b("</span>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_manager:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="stream-manager js-stream-manager-container"');if(B.s(B.f("page_name_underscore",E,D,1),E,D,0,80,125,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' id="');F.b(F.v(F.f("page_name_underscore",H,G,0)));F.b('-stream-manager"')});E.pop()}B.b(">\n");if(B.s(B.f("tweets",E,D,1),E,D,0,165,711,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('    <div class="stream-title"></div>\n    <div class="stream-container">\n      <div class="stream ');if(F.s(F.f("page_name_underscore",H,G,1),H,G,0,288,319,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.v(I.f("page_name_underscore",K,J,0)));I.b("-stream")});H.pop()}F.b('">\n        \n        <div class="js-stream-items stream-items" id="stream-items-id">');F.b(F.t(F.f("tweets",H,G,0)));F.b("</div>\n");if(F.s(F.f("show_empty_home",H,G,1),H,G,0,474,538,"{{ }}")){F.rs(H,G,function(K,J,I){I.b('          <div class="component">');I.b(I.rp("empty_home",K,J,""));I.b("</div>\n")});H.pop()}if(F.s(F.f("include_stream_footer",H,G,1),H,G,0,593,657,"{{ }}")){F.rs(H,G,function(K,J,I){I.b('          <div class="component">');I.b(I.rp("stream_end",K,J,""));I.b("</div>\n")});H.pop()}F.b("\n"+C);F.b("      </div>\n    </div>\n")});E.pop()}if(B.s(B.f("rendering_on_server",E,D,1),E,D,0,749,898,"{{ }}")){B.rs(E,D,function(H,G,F){if(!F.s(F.f("tweets",H,G,1),H,G,1,0,0,"")){if(F.s(F.f("profile_page",H,G,1),H,G,0,789,862,"{{ }}")){F.rs(H,G,function(K,J,I){if(!I.s(I.f("can_view",K,J,1),K,J,1,0,0,"")){I.b(I.rp("stream",K,J,"          "))}});H.pop()}}});E.pop()}B.b("</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_tweet:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(!B.s(B.f("render_withheld",E,D,1),E,D,1,0,0,"")){B.b("\n"+C);if(B.s(B.f("is_current_user_withheld",E,D,1),E,D,0,51,76,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("withheld_message",H,G,"  "))});E.pop()}B.b("\n"+C);B.b('<div class="tweet original-tweet js-stream-tweet js-actionable-tweet js-hover js-profile-popup-actionable js-original-tweet ');if(B.s(B.f("hidden_by_activity",E,D,1),E,D,0,254,277,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" sub-stream-item-hidden")});E.pop()}if(B.s(B.f("embedded_by_activity",E,D,1),E,D,0,325,343,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" js-activity-tweet")});E.pop()}B.b(" ");B.b(B.rp("common_tweet_classes",E,D,""));B.b(' colored-links colored-actions" ');B.b(B.rp("tweet_data",E,D,""));B.b('>\n  <i class="dogear"></i>\n  <div class="content">\n    <div class="stream-item-header">\n');B.b(B.rp("tweet_timestamp",E,D,"      "));if(B.s(B.f("anatomy_world",E,D,1),E,D,0,580,812,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('        <div class="js-open-close-tweet toggle-expansion">\n          <a class="expand-link" href="#">Expand</a>\n          <a class="collapse-link" href="#">Close</a>\n          <span>&nbsp;&middot;&nbsp;</span>\n        </div>\n')});E.pop()}B.b(B.rp("tweet_user_block",E,D,"      "));if(!B.s(B.f("anatomy_world",E,D,1),E,D,1,0,0,"")){B.b(B.rp("tweet_actions",E,D,"        "))}B.b('    </div>\n    <p class="js-tweet-text">');B.b(B.t(B.f("linkified_text",E,D,0)));B.b('</p>\n    <div class="stream-item-footer">\n');B.b(B.rp("tweet_context",E,D,"      "));B.b('      <a class="details with-icn js-details" href="#">\n        <span class="js-icon-container"');if(B.s(B.f("place_name",E,D,1),E,D,0,1172,1204,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-placename="');F.b(F.v(F.f("place_name",H,G,0)));F.b('"')});E.pop()}B.b(">\n");if(B.s(B.f("is_reply",E,D,1),E,D,0,1244,1457,"{{ }}")){B.rs(E,D,function(H,G,F){if(!F.s(F.f("anatomy_world",H,G,1),H,G,1,0,0,"")){F.b('              <i class="sm-reply"></i>\n')}if(F.s(F.f("anatomy_world",H,G,1),H,G,0,1376,1428,"{{ }}")){F.rs(H,G,function(K,J,I){I.b('              <i class="sm-convo"></i>\n')});H.pop()}});E.pop()}B.b('        </span>\n        <b>\n          <span class="view-open js-view-details">\n');if(B.s(B.f("is_reply",E,D,1),E,D,0,1575,1803,"{{ }}")){B.rs(E,D,function(H,G,F){if(!F.s(F.f("anatomy_world",H,G,1),H,G,1,0,0,"")){F.b("                In reply to ");F.b(F.v(F.f("in_reply_to_name",H,G,0)));F.b("\n"+C)}if(F.s(F.f("anatomy_world",H,G,1),H,G,0,1723,1772,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("                View conversation\n")});H.pop()}});E.pop()}if(!B.s(B.f("is_reply",E,D,1),E,D,1,0,0,"")){if(B.s(B.f("anatomy_world",E,D,1),E,D,0,1875,1994,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('                <span class="action-expand-container">\n                  Expand\n                </span>\n')});E.pop()}}B.b('          </span>\n          <span class="hide-open js-hide-details">\n            ');if(B.s(B.f("is_reply",E,D,1),E,D,0,2133,2150,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("Hide conversation")});E.pop()}B.b("\n"+C);if(!B.s(B.f("is_reply",E,D,1),E,D,1,0,0,"")){if(B.s(B.f("anatomy_world",E,D,1),E,D,0,2222,2339,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('                <span class="action-close-container">\n                  Close\n                </span>\n')});E.pop()}}B.b("          </span>\n        </b>\n      </a>\n");if(B.s(B.f("anatomy_world",E,D,1),E,D,0,2450,2484,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("tweet_actions",H,G,"        "))});E.pop()}B.b("    </div>\n");B.b(B.rp("stream_tweet_expansion",E,D,"    "));B.b("  </div>\n</div>\n")}if(B.s(B.f("render_withheld",E,D,1),E,D,0,2603,2633,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("stream_tweet_withheld",H,G,"  "))});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),bg_img_css:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n"+C);B.b('<style id="user-style-');B.b(B.v(B.f("screen_name",E,D,0)));B.b('-bg-img" class="js-user-style-bg-img">\n  body.user-style-');B.b(B.v(B.f("screen_name",E,D,0)));B.b(" {\n");if(B.s(B.f("profile_use_background_image",E,D,1),E,D,0,150,300,"{{ }}")){B.rs(E,D,function(H,G,F){if(F.s(F.f("profile_background_image_url",H,G,1),H,G,0,190,262,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("        background-image: url(");I.b(I.v(I.f("profile_background_image_url",K,J,0)));I.b(");\n")});H.pop()}});E.pop()}B.b("  }\n</style>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_loading:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="stream-loading">\n  <div class="stream-end-inner">\n    <span class="spinner" title="Loading..."></span>\n  </div>\n</div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_dogear:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="tweet-dogear"></div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_meta:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("<div class='tweet-meta'>\n  <span class='icons'>\n");if(B.s(B.f("is_sponsored",E,D,1),E,D,0,69,199,"{{ }}")){B.rs(E,D,function(H,G,F){if(F.s(F.f("retweet_count",H,G,1),H,G,0,94,176,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("        <span class='retweet-icon'></span> <em>");I.b(I.v(I.f("retweet_count_text",K,J,0)));I.b("</em>\n")});H.pop()}});E.pop()}B.b("\n"+C);if(!B.s(B.f("decider_activity_read",E,D,1),E,D,1,0,0,"")){if(!B.s(B.f("is_sponsored",E,D,1),E,D,1,0,0,"")){if(B.s(B.f("was_retweeted",E,D,1),E,D,0,299,467,"{{ }}")){B.rs(E,D,function(H,G,F){if(F.s(F.f("retweeting_status",H,G,1),H,G,0,332,436,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("            <span class='retweet-icon'></span> ");if(I.s(I.f("user",K,J,1),K,J,0,389,416,"{{ }}")){I.rs(K,J,function(N,M,L){L.b("<em>by ");L.b(L.v(L.f("screen_name",N,M,0)));L.b("</em>")});K.pop()}I.b("\n"+C)});H.pop()}});E.pop()}}}B.b("\n"+C);B.b('    <div class="extra-icons">\n');if(!B.s(B.f("can_expand",E,D,1),E,D,1,0,0,"")){if(B.s(B.f("is_reply",E,D,1),E,D,0,615,689,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("          <span class='reply-icon icon js-reply-notice'>@</span>\n")});E.pop()}B.b('        <span class="inlinemedia-icons js-icon-container"></span>\n        ');if(B.s(B.f("show_geo_icon",E,D,1),E,D,0,795,824,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('<span class="geo-pin"></span>')});E.pop()}B.b("\n"+C)}if(B.s(B.f("can_expand",E,D,1),E,D,0,886,922,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("tweet_timestamp",H,G,"        "))});E.pop()}B.b("    </div>\n  </span>\n</div>\n\n");if(B.s(B.f("can_expand",E,D,1),E,D,0,982,1004,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("tweet_actions",H,G,"  "))});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_text:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="tweet-text js-tweet-text">');B.b(B.t(B.f("linkified_text",E,D,0)));B.b("</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_timestamp:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<small class="time">\n    <a href="');B.b(B.v(B.f("permalink_path",E,D,0)));B.b('" class="tweet-timestamp js-permalink" title="');B.b(B.v(B.f("explicit_timestamp",E,D,0)));B.b('"><span class="_timestamp js-short-timestamp ');if(B.s(B.f("is_relative_timestamp",E,D,1),E,D,0,191,212,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("js-relative-timestamp")});E.pop()}B.b('" data-time="');B.b(B.v(B.f("actual_timestamp",E,D,0)));B.b('" data-long-form="true">');B.b(B.v(B.f("short_timestamp",E,D,0)));B.b("</span></a>\n</small>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_user_name:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("user",E,D,1),E,D,0,9,403,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("<span class='tweet-user-name'>\n  <a class='tweet-screen-name user-profile-link js-action-profile-name' data-user-id='");F.b(F.v(F.f("id",H,G,0)));F.b("' href='");F.b(F.v(F.f("profile_path",H,G,0)));F.b("' title='");F.b(F.v(F.f("name",H,G,0)));F.b("'>");F.b(F.v(F.f("screen_name",H,G,0)));F.b("</a>\n  <span class='tweet-full-name'>");F.b(F.v(F.f("name",H,G,0)));F.b("</span>\n");if(F.s(F.f("show_follow_action",H,G,1),H,G,0,269,371,"{{ }}")){F.rs(H,G,function(K,J,I){if(!I.s(I.f("is_current_user",K,J,1),K,J,1,0,0,"")){I.b('    <span class="tweet-user-follow">\n    </span>\n')}});H.pop()}F.b("</span>\n")});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_user_block:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("user",E,D,1),E,D,0,9,489,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('  <a class="account-group js-account-group js-action-profile js-user-profile-link" href="');F.b(F.v(F.f("profile_path",H,G,0)));F.b('" data-user-id="');F.b(F.v(F.f("id",H,G,0)));F.b('">\n    <img class="avatar js-action-profile-avatar" src="');F.b(F.v(F.f("profile_image_url",H,G,0)));F.b('" alt="');F.b(F.v(F.f("name",H,G,0)));F.b('">\n    <strong class="fullname js-action-profile-name">');F.b(F.v(F.f("name",H,G,0)));F.b('</strong>\n    <span>&rlm;</span>\n    <span class="username js-action-profile-name"><s>@</s><b>');F.b(F.v(F.f("screen_name",H,G,0)));F.b("</b></span>\n");if(F.s(F.f("protected",H,G,1),H,G,0,432,467,"{{ }}")){F.rs(H,G,function(K,J,I){I.b('      <i class="sm-lock"></i>\n')});H.pop()}F.b("  </a>\n")});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),details_pane_container:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div id="details-pane-outer">\n  <div class="details-pane-shell">\n    <div class="details-pane">\n      ');B.b(B.t(B.f("pane",E,D,0)));B.b("\n"+C);B.b("    </div>\n  </div>\n</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),message_notification:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("message",E,D,1),E,D,0,12,435,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("<div data-sender-id='");F.b(F.v(F.f("sender_screen_name",H,G,0)));F.b("' data-message-id=\"");F.b(F.v(F.f("id",H,G,0)));F.b("\" class='notification'>\n  <a class='dismiss' href='#'>&times;</a>\n  <h1>New Message from ");F.b(F.t(F.f("sender_screen_name",H,G,0)));F.b("</h1>\n  <div class='message-text'>");F.b(F.t(F.f("text",H,G,0)));F.b('</div>\n  <div class="message-notification-reply-box">\n    <div class="message-notification-reply-editor"></div>\n    <div class="message-notification-reply-button button">Send</div>\n  </div>\n</div>\n')});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_user_image_48:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("user",E,D,1),E,D,0,9,156,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('<img height="48" width="48" src=\'');F.b(F.v(F.f("profile_image_url",H,G,0)));F.b("' alt='");F.b(F.v(F.f("name",H,G,0)));F.b("' class='user-profile-link js-action-profile-avatar' data-user-id='");F.b(F.v(F.f("id",H,G,0)));F.b("'/>\n")});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_user_with_activity:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("user",E,D,1),E,D,0,9,284,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("  <span class='tweet-user-name'>\n    <a class='tweet-screen-name user-profile-link js-action-profile-name' data-user-id='");F.b(F.v(F.f("id",H,G,0)));F.b("' href='");F.b(F.v(F.f("profile_path",H,G,0)));F.b("' title='");F.b(F.v(F.f("name",H,G,0)));F.b("'>");F.b(F.v(F.f("screen_name",H,G,0)));F.b("</a>\n    <span class='tweet-full-name'>");F.b(F.v(F.f("connector",H,G,0)));F.b(" ");F.b(F.t(F.f("title_object",H,G,0)));F.b("</span>\n  </span>\n")});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_data:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n"+C);B.b('data-tweet-id="');B.b(B.v(B.f("id",E,D,0)));B.b('"\n');B.b(B.t(B.f("tweet_impression_id",E,D,0)));B.b("\n"+C);B.b('data-item-id="');B.b(B.v(B.f("id",E,D,0)));B.b('"\n');if(B.s(B.f("current_user_retweet",E,D,1),E,D,0,97,125,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-my-retweet-id="');F.b(F.v(F.f("id",H,G,0)));F.b('"')});E.pop()}B.b("\n"+C);if(B.s(B.f("was_retweeted",E,D,1),E,D,0,169,238,"{{ }}")){B.rs(E,D,function(H,G,F){if(F.s(F.f("retweeting_status",H,G,1),H,G,0,191,216,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(' data-retweet-id="');I.b(I.v(I.f("id",K,J,0)));I.b('"')});H.pop()}});E.pop()}B.b("\n"+C);if(B.s(B.f("user",E,D,1),E,D,0,266,323,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-screen-name="');F.b(F.v(F.f("screen_name",H,G,0)));F.b('" data-user-id="');F.b(F.v(F.f("id",H,G,0)));F.b('"')});E.pop()}B.b("\n"+C);if(B.s(B.f("protected",E,D,1),E,D,0,347,369,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-protected="true"')});E.pop()}B.b("\n"+C);if(B.s(B.f("is_sponsored",E,D,1),E,D,0,401,422,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-promoted="true"')});E.pop()}B.b("\n"+C);if(B.s(B.f("show_geo_icon",E,D,1),E,D,0,458,474,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-geo="true"')});E.pop()}B.b("\n"+C);B.b('data-is-reply-to="');B.b(B.v(B.f("is_reply",E,D,0)));B.b('"\n');if(B.s(B.f("status_data",E,D,1),E,D,0,541,571,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' data-status="');F.b(F.v(F.f("status_data",H,G,0)));F.b('"')});E.pop()}B.b("\n"+C);if(B.s(B.f("rendering_on_server",E,D,1),E,D,0,612,713,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('data-expanded-footer="');if(F.s(F.f("escape_html_for_attribute",H,G,1),H,G,0,664,682,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.rp("tweet_details",K,J,""))});H.pop()}F.b('"')});E.pop()}B.b("\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_geo_text:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("has_geo",E,D,1),E,D,0,12,259,"{{ }}")){B.rs(E,D,function(H,G,F){if(!F.s(F.f("show_geo_map",H,G,1),H,G,1,0,0,"")){F.b('    <div>\n      <a class="js-tweet-geo-text tweet-geo-text" href="');F.b(F.v(F.f("place_path",H,G,0)));F.b('">\n        ');if(F.s(F.f("place_name",H,G,1),H,G,0,139,158,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("from ");I.b(I.v(I.f("place_name",K,J,0)))});H.pop()}if(!F.s(F.f("place_name",H,G,1),H,G,1,0,0,"")){F.b("view location")}F.b("\n"+C);F.b("      </a>\n    </div>\n")}});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_header:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="header-inner">\n  <h2>\n    <span class="content-header-buttons js-header-button-container"></span>\n    <span class="js-stream-title">');B.b(B.v(B.f("stream_title",E,D,0)));B.b('</span>\n\n    <small class="view-toggler js-view-toggler"></small>\n  </h2>\n  ');if(B.s(B.f("header_help",E,D,1),E,D,0,252,309,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('<p class="js-header-help subheader">');F.b(F.t(F.f("header_help",H,G,0)));F.b("</p>")});E.pop()}B.b("\n"+C);B.b("</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),message_drawer:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="message ');if(!B.s(B.f("rendering_on_server",E,D,1),E,D,1,0,0,"")){B.b(B.v(B.f("type",E,D,0)))}B.b('">\n  <div class="message-inside">\n    <span class="message-text">');B.b(B.t(B.f("text",E,D,0)));B.b("</span\n    >");if(B.s(B.f("close_button",E,D,1),E,D,0,180,219,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('<a class="dismiss" href="#">&times;</a>')});E.pop()}B.b("\n"+C);B.b("  </div>\n</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="stream">\n  \n  <div class="js-stream-items stream-items" id="stream-items-id"></div>\n</div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_item:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="js-stream-item stream-item ');B.b(B.v(B.f("item_class",E,D,0)));B.b('" data-item-id="');B.b(B.v(B.f("item_id",E,D,0)));B.b('" data-item-type="');B.b(B.v(B.f("item_type",E,D,0)));B.b('"');if(B.s(B.f("rendering_on_server",E,D,1),E,D,0,136,179,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(' id="stream-item-');F.b(F.v(F.f("item_type",H,G,0)));F.b("-");F.b(F.v(F.f("item_id",H,G,0)));F.b('"')});E.pop()}B.b(">\n  ");B.b(B.t(B.f("item_html",E,D,0)));B.b("\n"+C);B.b("</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_tweet_withheld:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="tweet original-tweet js-stream-tweet js-actionable-tweet js-profile-popup-actionable js-original-tweet ');if(B.s(B.f("hidden_by_activity",E,D,1),E,D,0,138,161,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" sub-stream-item-hidden")});E.pop()}if(B.s(B.f("embedded_by_activity",E,D,1),E,D,0,209,227,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" js-activity-tweet")});E.pop()}B.b(" ");B.b(B.rp("common_tweet_classes",E,D,""));B.b('" ');B.b(B.rp("tweet_data",E,D,""));B.b('>\n  <i class="dogear"></i>\n  <div class="content">\n    <div class="stream-item-header">\n      <a class="account-group">\n        <strong class="fullname">Tweet withheld</strong>\n      </a>\n');B.b(B.rp("tweet_timestamp",E,D,"      "));B.b('    </div>\n    <p class="js-tweet-text">');B.b(B.t(B.f("linkified_text",E,D,0)));B.b('</p>\n    <div class="stream-item-footer">\n');B.b(B.rp("tweet_context",E,D,"      "));B.b("    </div>\n");B.b(B.rp("stream_tweet_expansion",E,D,"    "));B.b("  </div>\n</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_timestamp_nolink:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<span class="_timestamp js-tweet-timestamp" title="');B.b(B.v(B.f("explicit_timestamp",E,D,0)));B.b('" data-time="');B.b(B.v(B.f("actual_timestamp",E,D,0)));B.b('" data-long-form="true">');B.b(B.v(B.f("full_timestamp",E,D,0)));if(!B.s(B.f("full_timestamp",E,D,1),E,D,1,0,0,"")){B.b("&nbsp;")}B.b("</span>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),user_css_p1:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n"+C);B.b('<style id="user-style-');B.b(B.v(B.f("screen_name",E,D,0)));B.b('">\n  body.user-style-');B.b(B.v(B.f("screen_name",E,D,0)));B.b(" {\n");if(B.s(B.f("profile_use_background_image",E,D,1),E,D,0,114,301,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      background-position: left 40px;\n      background-attachment: fixed;\n");if(!F.s(F.f("profile_background_tile",H,G,1),H,G,1,0,0,"")){F.b("        background-repeat: no-repeat;\n")}});E.pop()}if(B.s(B.f("profile_background_color",E,D,1),E,D,0,368,428,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      background-color: #");F.b(F.v(F.f("profile_background_color",H,G,0)));F.b(";\n")});E.pop()}if(B.s(B.f("profile_text_color",E,D,1),E,D,0,485,528,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_text_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" a,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" ul.stream-tabs li,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .component .promo strong,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .message-thread-preview:hover .message-count,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .list-membership-container li.create-a-list {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,894,937,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover .tweet-screen-name,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover .tweet-timestamp,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover .tweet-geo-text,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover .user-profile-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" span.user-stat-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" a.title-link:hover,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" a.user-stats-count:hover span.user-stats-stat,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item:hover a.user-screen-name,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item:hover .user-meta a,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .user-detailed-list-item:hover a.user-screen-name,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .tweet-activity:hover a.latest-tweet-timestamp,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover a.icon-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover a.icon-link b,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover .tweet-feedback,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .promoted-tweet:hover .social-context a,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard ul.trends li a:hover span.icon-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-sentence .dashboard-activity-item-entity,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-sentence .dashboard-activity-item-entity .user,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-sentence .dashboard-activity-item-count,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-link:hover .dashboard-activity-item-sentence,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-link:hover .dashboard-activity-item-sentence span.user,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .onebox-user-screen-name:hover {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,2773,2827,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(" !important;\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item:hover .tweet-screen-name {\n    color: #333 !important;\n  }\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item:hover .tweet-timestamp {\n    color: #999 !important;\n  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .hovered-stream-item,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" #new-tweets-bar,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" #new-tweets-bar:active {\n");if(B.s(B.f("rgba_tweet_background_color",E,D,1),E,D,0,3343,3405,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      background-color: ");F.b(F.v(F.f("rgba_tweet_background_color",H,G,0)));F.b(";\n")});E.pop()}if(B.s(B.f("rgba_tweet_border_color",E,D,1),E,D,0,3470,3524,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      border-color: ");F.b(F.v(F.f("rgba_tweet_border_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item:hover {\n    border-top-color: transparent;\n    border-bottom-color: #EBEBEB;\n  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" #new-tweets-bar:hover {\n");if(B.s(B.f("rgba_newtweets_background_color",E,D,1),E,D,0,3795,3861,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      background-color: ");F.b(F.v(F.f("rgba_newtweets_background_color",H,G,0)));F.b(";\n")});E.pop()}if(B.s(B.f("rgba_newtweets_border_color",E,D,1),E,D,0,3934,3992,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      border-color: ");F.b(F.v(F.f("rgba_newtweets_border_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .user-screen-name,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .profile-screenname,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .title-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" div.latest-tweet .latest-tweet-timestamp,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" div.truncated-tweet .latest-tweet-timestamp,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" a.user-stats-count span.user-stats-stat,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .welcome-steps li .active a strong,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-sentence span.user {\n");if(B.s(B.f("profile_text_color",E,D,1),E,D,0,4625,4668,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_text_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .user-full-name,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" span.trend-location,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .your-activity h3,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .trends-inner h3,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-rec-inner h3,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .latest-tweet,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .truncated-tweet,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .latest-tweet a.latest-tweet-timestamp,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .truncated-tweet a.latest-tweet-timestamp,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .user-meta,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .user-meta a,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .user-meta a s,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .social-context div,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .dot,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .component .promo,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .component .promo a.definition,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .dismiss,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item .ellip,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .facets-media-not-displayed .not-displayed-text,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .copyright,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item a.icon-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard ul.trends li a span.icon-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard-activity-item-sentence {\n");if(B.s(B.f("rgba_text_color",E,D,1),E,D,0,6333,6372,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: ");F.b(F.v(F.f("rgba_text_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" #page-container,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .user-sidebar-color,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expando-container .dashboard {\n");if(B.s(B.f("profile_sidebar_fill_color",E,D,1),E,D,0,6605,6668,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      \n      background: #");F.b(F.v(F.f("profile_sidebar_fill_color",H,G,0)));F.b(";\n")});E.pop()}if(B.s(B.f("rgba_sidebar_color",E,D,1),E,D,0,6727,6781,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      \n      background: ");F.b(F.v(F.f("rgba_sidebar_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .activity:hover .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .hovered-stream-item .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content  {\n");if(B.s(B.f("rgba_tweet_border_color",E,D,1),E,D,0,7300,7365,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      border-color: ");F.b(F.v(F.f("rgba_tweet_border_color",H,G,0)));F.b(" !important;\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item:hover a.twitter-atreply:hover,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item.open a.twitter-atreply,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item.colorful-links a.twitter-atreply,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item:hover a.twitter-hashtag:hover,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item.open a.twitter-hashtag,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item.colorful-links a.twitter-hashtag,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item:hover a.twitter-timeline-link:hover,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item.open a.twitter-timeline-link,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .expanding-stream-item.colorful-links a.twitter-timeline-link {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,8225,8279,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(" !important;\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" s,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .pretty-link s {\n");if(B.s(B.f("profile_pretty_link_color",E,D,1),E,D,0,8430,8480,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_pretty_link_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard s,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .pretty-link s,\n  body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .dashboard .user-small-list-item:hover .user-meta a s {\n");if(B.s(B.f("profile_pretty_link_sidebar_color",E,D,1),E,D,0,8757,8815,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      color: #");F.b(F.v(F.f("profile_pretty_link_sidebar_color",H,G,0)));F.b(";\n")});E.pop()}B.b("  }\n\n");B.b(B.rp("pill_css",E,D,"  "));B.b("</style>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),withheld_message:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="withheld-message">');B.b(B.v(B.f("text",E,D,0)));B.b('  <a href="');B.b(B.v(B.f("withheld_help_path",E,D,0)));B.b('" target="_blank">Learn more</a></div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_contributor:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("contributor",E,D,1),E,D,0,16,170,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('  <span class="tweet-contributors">by <a href="');F.b(F.v(F.f("profile_path",H,G,0)));F.b('" class="user-profile-link" data-screen-name="');F.b(F.v(F.f("screen_name",H,G,0)));F.b('">');F.b(F.v(F.f("screen_name",H,G,0)));F.b("</a></span>\n")});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),new_tweets_bar:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="stream-item">\n  <div class="new-tweets-bar js-new-tweets-bar">\n');if(B.s(B.f("tweets_count_phrase",E,D,1),E,D,0,103,138,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("      ");F.b(F.v(F.f("tweets_count_phrase",H,G,0)));F.b("\n"+C)});E.pop()}if(!B.s(B.f("tweets_count_phrase",E,D,1),E,D,1,0,0,"")){B.b("      ");if(B.s(B.f("count_one",E,D,1),E,D,0,212,231,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.v(F.f("count",H,G,0)));F.b(" new Tweet")});E.pop()}if(B.s(B.f("count_other",E,D,1),E,D,0,261,281,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.v(F.f("count",H,G,0)));F.b(" new Tweets")});E.pop()}B.b("\n"+C)}B.b("  </div>\n</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),posting_tweet_box:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<form method="post" action="/status/update">\n  <div class="tweet-box condensed">\n    <div class="tweet-box-title">\n      <h2>Whats happening?</h2>\n    </div>\n    <div class="text-area">\n      <div class="text-area-editor twttr-editor">\n        <textarea class="twitter-anywhere-tweet-box-editor" name="status" style="width: 482px; height: 36px;"></textarea>\n      </div>\n    </div>\n  </div>\n</form>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_actions:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b(' <ul class="actions js-actions">\n  <li class="action-reply-container">\n    <a class="with-icn js-action-reply" data-modal="tweet-reply" href="#" title="Reply">\n      <i class="action-reply"></i>\n      <b>Reply</b>\n    </a>\n  </li>\n');if(B.s(B.f("allowed_to_retweet",E,D,1),E,D,0,256,568,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('    <li class="action-rt-container">\n      <a class="with-icn js-toggle-rt" data-modal="tweet-retweet" href="#">\n        <i class="action-rt"></i>\n        \n        <b><span class="undo-retweet" title="Undo retweet">Retweeted</span><span class="retweet" title="Retweet">Retweet</span></b>\n      </a>\n    </li>\n')});E.pop()}B.b('  <li class="action-del-container">\n    <a class="with-icn js-action-del" href="#" title="Delete">\n      <i class="action-del"></i>\n      <b>Delete</b>\n    </a>\n  </li>\n  <li class="action-fav-container">\n    <a class="with-icn js-toggle-fav" href="#">\n      <i class="action-fav"></i>\n      \n      <b><span class="unfavorite" title="Undo favorite">Favorited</span><span class="favorite" title="Favorite">Favorite</span></b>\n    </a>\n  </li>\n');if(!B.s(B.f("anatomy_world",E,D,1),E,D,1,0,0,"")){B.b('    <li class="action-open-container">\n      <span class="separator">&middot;</span>\n      <a class="with-icn js-open-close-tweet" href="');B.b(B.v(B.f("permalink_path",E,D,0)));B.b('">\n        <span class="close-tweet" title="Close Tweet"> Close</span>\n        <span class="open-tweet" title="Open Tweet"> Open</span>\n        <span class="details-tweet" title="View Tweet details"> Details</span>\n      </a>\n    </li>\n')}B.b("</ul>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_details_dropdown:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="tweet-details-dropdown js-tweet-details-dropdown">\n  <div class="tweet-details-fixer">\n    <div class="tweet-details">\n      <div class="tweet-media-container js-tweet-media-container"></div>\n      <div class="loading-media js-media-loading-indicator">Loading media...</div>\n      <div class="machine-translated-tweet js-machine-translated-tweet"></div>\n      ');if(B.s(B.f("has_retweet_count",E,D,1),E,D,0,394,451,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('<div class="social-proof js-tweet-stats-container"></div>')});E.pop()}B.b("\n"+C);B.b("      ");if(B.s(B.f("show_geo_icon",E,D,1),E,D,0,498,533,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('<div class="geo js-tiny-geo"></div>')});E.pop()}B.b("\n"+C);B.b('      <div class="via">\n        <span class="tweet-source">');B.b(B.v(B.f("explicit_timestamp",E,D,0)));B.b("</span>\n");B.b(B.rp("tweet_source",E,D,"        "));B.b('        <span class="tweet-source">&middot;</span>\n        <a href="');B.b(B.v(B.f("permalink_path",E,D,0)));B.b('" class="tweet-source js-permalink">Details</a>\n      </div>\n    </div>\n  </div>\n</div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),common_tweet_classes:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n"+C);if(B.s(B.f("is_sponsored",E,D,1),E,D,0,18,33,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" promoted-tweet")});E.pop()}if(B.s(B.f("is_my_tweet",E,D,1),E,D,0,66,75,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" my-tweet")});E.pop()}if(B.s(B.f("favorited",E,D,1),E,D,0,105,115,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" favorited")});E.pop()}if(B.s(B.f("current_user_retweet",E,D,1),E,D,0,154,164,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(" retweeted")});E.pop()}B.b("\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_source:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<span class="tweet-source">via ');B.b(B.t(B.f("source",E,D,0)));B.b("</span>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),dashboard:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="dashboard">\n');if(B.s(B.f("rendering_on_server",E,D,1),E,D,0,50,80,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("mini_home_profile",H,G,"    "))});E.pop()}B.b("</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),page:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b(B.rp("dashboard",E,D,""));B.b(B.rp("content",E,D,""));return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),stream_tweet_expansion:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="expanded-content js-tweet-details-dropdown"></div>\n');return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),home_page:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="main-content">\n');if(B.s(B.f("render_page_content",E,D,1),E,D,0,53,3328,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('    <div class="page-header home-header">\n      <div id="main-tweet-box">\n');F.b(F.rp("posting_tweet_box",H,G,"        "));F.b('      </div>\n      <ul class="stream-tabs">\n        <li class="stream-tab stream-tab-home ');if(F.s(F.f("active_tab_home",H,G,1),H,G,0,269,275,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("active")});H.pop()}F.b('">\n          <a class="tab-text" title=\'All you follow\' href="');F.b(F.v(F.f("index_path",H,G,0)));F.b('">Timeline</a>\n        </li>\n\n');if(F.s(F.f("decider_activity_read",H,G,1),H,G,0,435,1026,"{{ }}")){F.rs(H,G,function(K,J,I){if(I.s(I.f("decider_activity_dark_read",K,J,1),K,J,0,477,986,"{{ }}")){I.rs(K,J,function(N,M,L){L.b('            <li class="stream-tab stream-tab-your_activity ');if(L.s(L.f("active_tab_your_activity",N,M,1),N,M,0,566,572,"{{ }}")){L.rs(N,M,function(Q,P,O){O.b("active")});N.pop()}L.b('">\n              <a class="tab-text" title=\'@');L.b(L.v(L.f("current_user_screen_name",N,M,0)));L.b("' href=\"");L.b(L.v(L.f("your_activity_path",N,M,0)));L.b('">@');L.b(L.v(L.f("current_user_screen_name",N,M,0)));L.b('</a>\n            </li>\n            <li class="stream-tab stream-tab-activity ');if(L.s(L.f("active_tab_activity",N,M,1),N,M,0,836,842,"{{ }}")){L.rs(N,M,function(Q,P,O){O.b("active")});N.pop()}L.b('">\n              <a class="tab-text" title=\'Activity\' href="');L.b(L.v(L.f("activity_path",N,M,0)));L.b('">Activity</a>\n            </li>\n')});K.pop()}});H.pop()}F.b("\n"+C);if(!F.s(F.f("decider_activity_read",H,G,1),H,G,1,0,0,"")){F.b('          <li class="stream-tab stream-tab-mentions ');if(F.s(F.f("active_tab_mentions",H,G,1),H,G,0,1165,1171,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("active")});H.pop()}F.b('">\n            <a class="tab-text" title=\'Mentions\' href="');F.b(F.v(F.f("mentions_path",H,G,0)));F.b('">@Mentions</a>\n          </li>\n          <li class="stream-tab stream-tab-retweets dropdown-link ');if(F.s(F.f("active_tab_retweets",H,G,1),H,G,0,1392,1398,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("active")});H.pop()}F.b('">\n            <a class="tab-text" href="#">Retweets<i></i></a>\n          </li>\n')}F.b("\n"+C);F.b('        <li class="stream-tab stream-tab-searches dropdown-link ');if(F.s(F.f("active_tab_searches",H,G,1),H,G,0,1626,1632,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("active")});H.pop()}F.b('">\n          <a class="tab-text" href="#">Searches<i></i></a>\n        </li>\n\n        <li class="stream-tab stream-tab-lists dropdown-link ');if(F.s(F.f("active_tab_lists",H,G,1),H,G,0,1815,1821,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("active")});H.pop()}F.b('">\n          <a class="tab-text" href="#">Lists<i></i></a>\n        </li>\n');if(F.s(F.f("decider_network_discovery",H,G,1),H,G,0,1953,2211,"{{ }}")){F.rs(H,G,function(K,J,I){I.b('          <li class="stream-tab stream-tab-discovery activity-subtabs ');if(I.s(I.f("active_tab_network_discovery",K,J,1),K,J,0,2057,2063,"{{ }}")){I.rs(K,J,function(N,M,L){L.b("active")});K.pop()}I.b('">\n            <a class="tab-text" title=\'Discover\' href="');I.b(I.v(I.f("discovery_path",K,J,0)));I.b('">Discover</a>\n          </li>\n')});H.pop()}F.b("      </ul>\n    </div>\n");if(F.s(F.f("decider_activity_read",H,G,1),H,G,0,2295,3092,"{{ }}")){F.rs(H,G,function(K,J,I){if(I.s(I.f("decider_activity_dark_read",K,J,1),K,J,0,2333,3056,"{{ }}")){I.rs(K,J,function(N,M,L){if(L.s(L.f("activity_subtabs",N,M,1),N,M,0,2363,3028,"{{ }}")){L.rs(N,M,function(Q,P,O){O.b('          <ul class="stream-subtabs stream-subtabs-activity ');if(O.s(O.f("active_tab_activity",Q,P,1),Q,P,0,2448,2454,"{{ }}")){O.rs(Q,P,function(T,S,R){R.b("active")});Q.pop()}O.b('">\n            <li class="stream-tab stream-subtab-your_activity ');if(O.s(O.f("active_subtab_your_activity",Q,P,1),Q,P,0,2575,2581,"{{ }}")){O.rs(Q,P,function(T,S,R){R.b("active")});Q.pop()}O.b('">\n              <a class="tab-text" href="');O.b(O.v(O.f("your_activity_path",Q,P,0)));O.b('">about you</a>\n            </li>\n            <li class="stream-tab stream-tab-separator">&middot;</li>\n            <li class="stream-tab stream-subtab-activity ');if(O.s(O.f("active_subtab_activity",Q,P,1),Q,P,0,2866,2872,"{{ }}")){O.rs(Q,P,function(T,S,R){R.b("active")});Q.pop()}O.b('">\n              <a class="tab-text" href="');O.b(O.v(O.f("activity_path",Q,P,0)));O.b('">by people you follow</a>\n            </li>\n          </ul>\n')});N.pop()}});K.pop()}});H.pop()}F.b(F.rp("stream_manager",H,G,"    "));F.b("    ");if(F.s(F.f("rendering_on_server",H,G,1),H,G,0,3171,3301,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("<script>twttr.tweetsVisibleTime = new Date();if (window.ttft) window.ttft.serverRendered('home');twttr.keynoteTTFTPing();<\/script>")});H.pop()}F.b("\n"+C)});E.pop()}B.b('</div>\n<div class="dashboard">\n');if(B.s(B.f("render_page_content",E,D,1),E,D,0,3410,3483,"{{ }}")){B.rs(E,D,function(H,G,F){if(F.s(F.f("current_user",H,G,1),H,G,0,3432,3463,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.rp("home_dashboard",K,J,"      "))});H.pop()}});E.pop()}B.b("</div>\n\n");B.b(B.rp("details_pane_container",E,D,""));return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),content:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<div class="content-main js-content-main breakable">\n  <div id="js-promptbird-below-black-bar-hook"></div>\n  <div id="js-empty-timeline-recommendations-module-hook"></div>\n  <div class="content-header js-stream-header">\n');B.b(B.rp("stream_header",E,D,"    "));B.b('  </div>\n  <div class="stream js-stream-manager-container">\n');if(B.s(B.f("rendering_on_server",E,D,1),E,D,0,332,472,"{{ }}")){B.rs(E,D,function(H,G,F){F.b(F.rp("stream_manager",H,G,"      "));F.b("      <script>if (window.ttft) window.ttft.serverRendered('");F.b(F.v(F.f("page_name",H,G,0)));F.b("');twttr.keynoteTTFTPing();<\/script>\n")});E.pop()}B.b("  </div>\n</div>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),pill_css:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b("\n"+C);B.b(".profile-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" a {\n");if(B.s(B.f("profile_link_color",E,D,1),E,D,0,61,111,"{{ }}")){B.rs(E,D,function(H,G,F){F.b("    color: #");F.b(F.v(F.f("profile_link_color",H,G,0)));F.b(" !important;\n")});E.pop()}B.b("}\n\na:hover .geo-pin, body.user-style-");B.b(B.v(B.f("screen_name",E,D,0)));B.b(" .stream-item:hover .geo-pin {\n  background-color: #");B.b(B.v(B.f("profile_link_color",E,D,0)));B.b(";\n}\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),tweet_labels:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");if(B.s(B.f("is_top_tweet",E,D,1),E,D,0,17,225,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('    <span class="tweet-context icon-link"><i class="badge-tweet badge-tweet-top"></i>');if(F.s(F.f("retweet_count",H,G,1),H,G,0,121,154,"{{ }}")){F.rs(H,G,function(K,J,I){I.b("Retweeted ");I.b(I.v(I.f("retweet_count",K,J,0)));I.b(" times")});H.pop()}if(!F.s(F.f("retweet_count",H,G,1),H,G,1,0,0,"")){F.b("Top Tweet")}F.b("</span>\n")});E.pop()}B.b("\n"+C);if(B.s(B.f("is_sponsored",E,D,1),E,D,0,261,931,"{{ }}")){B.rs(E,D,function(H,G,F){F.b('  <a href="');if(F.s(F.f("retweeting_status",H,G,1),H,G,0,295,329,"{{ }}")){F.rs(H,G,function(K,J,I){if(I.s(I.f("user",K,J,1),K,J,0,304,320,"{{ }}")){I.rs(K,J,function(N,M,L){L.b(L.v(L.f("profile_path",N,M,0)))});K.pop()}});H.pop()}if(!F.s(F.f("retweeting_status",H,G,1),H,G,1,0,0,"")){if(F.s(F.f("user",H,G,1),H,G,0,382,398,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.v(I.f("profile_path",K,J,0)))});H.pop()}}F.b('" class="icon-link promoted-arrow tweet-context user-profile-link js-action-profile-promoted" data-user-id="');if(F.s(F.f("user",H,G,1),H,G,0,546,552,"{{ }}")){F.rs(H,G,function(K,J,I){I.b(I.v(I.f("id",K,J,0)))});H.pop()}F.b('" title="');F.b(F.v(F.f("disclosure_text",H,G,0)));F.b('"><span><i class="badge-tweet badge-tweet-');F.b(F.v(F.f("disclosure_type",H,G,0)));F.b('"></i><b>Promoted by ');F.b(F.v(F.f("advertiser_name",H,G,0)));F.b("</b></span></a>\n\n");if(F.s(F.f("in_home_page",H,G,1),H,G,0,726,913,"{{ }}")){F.rs(H,G,function(K,J,I){if(!I.s(I.f("rendering_on_server",K,J,1),K,J,1,0,0,"")){I.b('      <a class="icon-link tweet-feedback dismiss-action js-action-dismiss"><i></i><b>Dismiss</b></a>\n')}I.b("    ");I.b(I.t(I.f("social_context",K,J,0)));I.b("\n"+C)});H.pop()}});E.pop()}return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]}),user_link:new Mustache.TwitterTemplate(function(E,D,C){var B=this;B.b(C=C||"");B.b('<a class="pretty-link js-user-profile-link" href="');B.b(B.v(B.f("profile_path",E,D,0)));B.b('" data-user-id="');B.b(B.v(B.f("id",E,D,0)));B.b('"><b>');B.b(B.v(B.f("name",E,D,0)));B.b("</b></a>\n");return B.fl()},"",Mustache.twitterHogan,{sectionTags:[{o:"_i",c:"i"}]})})}A();loadrunner.Script.loaded.push("/account/templates_t1_core.js")});provide("EventProvider",function(A){using().as(function(B){twttr.provide("twttr.EventProvider",{events:null,_provider:function(){if(!this._eventProvider){this._eventProvider=$("<div/>")}return this._eventProvider},_createEvent:function(C){if(!this.events){this.events={}}if(!this.events[C]){this.events[C]=new $.Event(C)}},trigger:function(){this._createEvent(arguments[0]);var C=this._provider();C.trigger.apply(C,arguments)},bind:function(){this._createEvent(arguments[0]);var C=this._provider();C.bind.apply(C,arguments)},one:function(){this._createEvent(arguments[0]);var C=this._provider();C.one.apply(C,arguments)},unbind:function(){var C=this._provider();C.unbind.apply(C,arguments)},_signalProvider:function(){if(!this._signalProviderObj){this._signalProviderObj={fired:{},queues:{}}}return this._signalProviderObj},signal:function(D){var F=this._signalProvider();if(!F.fired[D]){F.fired[D]=true;var C=F.queues[D]||[];for(var E=0;E<C.length;E++){C[E].call(null)}delete F.queues[D]}},waitForSignal:function(C,D){var E=this._signalProvider();if(E.fired[C]){D.call()}else{if(!E.queues[C]){E.queues[C]=[]}E.queues[C].push(D)}}});A(twttr.EventProvider)})});provide("bluejs/init",function(A){using(function(){twttr.anywhere=twttr.anywhere||{};twttr.anywhere.api=twttr.anywhere.api||{};twttr.anywhere.remote=twttr.anywhere.remote||{};var D=["models","util","proxies","mixins"];for(var C=0,B=D.length;C<B;++C){twttr.anywhere.api[D[C]]={}}twttr.anywhere.api.config={useLocalStorage:false,cacheObjects:true,includeEntities:false};twttr.anywhere.api.updateConfig=function(E){twttr.aug(twttr.anywhere.api.config,E)};twttr.anywhere.api.initialize=function(E){this.updateConfig(E);twttr.anywhere.api.globalEvents=twttr.aug({},twttr.EventProvider);for(var F in twttr.anywhere.api.models){if(F=="Base"){continue}(function(){twttr.anywhere.api.proxies[F]=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.models[F],function(G){this.event=G})}())}twttr.anywhere.api.util.BaseCollection._name="twttr.anywhere.proxies.Collection";twttr.anywhere.api.proxies.Collection=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.util.BaseCollection,function(G){this.event=G});delete twttr.anywhere.api.util.BaseCollection._name;if(twttr.anywhere.api.config.useLocalStorage&&window.localStorage){twttr.anywhere.api.cache=new twttr.anywhere.api.util.LocalStorageCache()}else{twttr.anywhere.api.cache=new twttr.anywhere.api.util.RequestCache()}};A()})});provide("bluejs/config/endpoints",function(A){using(function(){var D="i";var C="1";var B=twttr.anywhere.api.endpoints={"blocks/blocking/ids":{url:"blocks/blocking/ids",type:"GET"},":user/:list_id/subscribers/create":{url:":user/:list_id/subscribers",type:"POST",optional_parameters:true},"promoted_content/:event_type/log":{url:"promoted_content/:event_type/log",type:"GET",optional_parameters:true},":user/lists":{url:":user/lists",type:"GET",optional_parameters:true},"lists/all":{url:"lists/all",type:"GET",optional_parameters:true},"geo/search":{url:"geo/search",type:"GET",optional_parameters:true},"followers/ids":{url:"followers/ids",type:"GET",optional_parameters:true},"users/show":{url:"users/show",type:"GET",optional_parameters:true},"urls/resolve":{url:"urls/resolve",type:"GET",optional_parameters:true},"account/settings":{url:"account/settings",type:"GET"},"account/update_profile_background_image":{url:"account/update_profile_background_image",type:"POST",optional_parameters:true},"users/recommendations/hide":{url:"users/recommendations/hide",type:"POST",optional_parameters:true},"friendships/update":{url:"friendships/update",type:"POST",optional_parameters:true},":user/lists/memberships":{url:":user/lists/memberships",type:"GET",optional_parameters:true},"lists/destroy":{url:"lists/destroy",type:"POST",optional_parameters:true},"saved_searches/show/:id":{url:"saved_searches/show/:id",type:"GET",optional_parameters:true},"friendships/show":{url:"friendships/show",type:"GET",optional_parameters:true},"lists/statuses":{url:"lists/statuses",type:"GET",optional_parameters:true},"statuses/friends":{url:"statuses/friends",type:"GET",optional_parameters:true},"users/lookup":{url:"users/lookup",type:"GET",optional_parameters:true},"statuses/show":{url:"statuses/show",type:"GET",optional_parameters:true},"statuses/user_timeline":{url:"statuses/user_timeline",type:"GET",optional_parameters:true},"statuses/profile_timeline":{url:"statuses/profile_timeline",type:"GET",optional_parameters:true},"statuses/network_timeline":{url:"statuses/network_timeline",type:"GET",optional_parameters:true,version:D,internal_auth:true},"statuses/media_timeline":{url:"statuses/media_timeline",type:"GET",optional_parameters:true},"statuses/:id/retweeted_by/ids":{url:"statuses/:id/retweeted_by/ids",type:"GET",optional_parameters:true},"trends/available":{url:"trends/available",type:"GET",optional_parameters:true},":user/:id/subscribers/destroy":{url:":user/:id/subscribers",type:"DELETE",optional_parameters:true},":user/:id/members/destroy":{url:":user/:id/members",type:"DELETE",optional_parameters:true},"lists/members/destroy":{url:"lists/members/destroy",type:"POST",optional_parameters:true},"account/update_delivery_device":{url:"account/update_delivery_device",type:"POST",optional_parameters:true},"direct_messages/new":{url:"direct_messages/new",type:"POST",optional_parameters:true},"users/suggestions/random":{url:"users/suggestions/random",type:"GET",optional_parameters:true},"geo/nearby_places":{url:"geo/nearby_places",type:"GET",optional_parameters:true},"blocks/blocking":{url:"blocks/blocking",type:"GET",optional_parameters:true},"friendships/accept":{url:"friendships/accept",type:"POST",optional_parameters:true},"statuses/update":{url:"statuses/update",type:"POST",optional_parameters:true},"statuses/update_with_media":{url:"statuses/update_with_media",type:"POST",host:twttr.domains.upload,use_host_in_prod:true,optional_parameters:true},"saved_searches/create":{url:"saved_searches/create",type:"POST",optional_parameters:true},":user/:list_id/subscribers":{url:":user/:list_id/subscribers",type:"GET",optional_parameters:true},"statuses/retweeted_to_me":{url:"statuses/retweeted_to_me",type:"GET",optional_parameters:true},":user/:list_id/subscribers/:id":{url:":user/:list_id/subscribers/:id",type:"GET",optional_parameters:true},"statuses/retweets/:id":{url:"statuses/retweets/:id",type:"GET",optional_parameters:true},"statuses/public_timeline":{url:"statuses/public_timeline",type:"GET"},"statuses/friends_timeline":{url:"statuses/friends_timeline",type:"GET",optional_parameters:true},"trends/weekly":{url:"trends/weekly",type:"GET",optional_parameters:true},"account/update_profile_image":{url:"account/update_profile_image",type:"POST",optional_parameters:true},"users/profile_image/:screen_name":{url:"users/profile_image/:screen_name",type:"GET",optional_parameters:true},"users/suggestions":{url:"users/suggestions",type:"GET",optional_parameters:true},"friendships/cancel":{url:"friendships/cancel",type:"POST",optional_parameters:true},"statuses/sample":{url:"statuses/sample",type:"GET",optional_parameters:true},"account/update_profile":{url:"account/update_profile",type:"POST",optional_parameters:true},"notifications/follow":{url:"notifications/follow",type:"POST",optional_parameters:true},"geo/place":{url:"geo/place",type:"POST",optional_parameters:true},"lists/show":{url:"lists/show",type:"GET",optional_parameters:true},"statuses/followers":{url:"statuses/followers",type:"GET",optional_parameters:true},"friendships/accept_all":{url:"friendships/accept_all",type:"POST"},"help/test":{url:"help/test",type:"GET"},":user/lists/subscriptions":{url:":user/lists/subscriptions",type:"GET",optional_parameters:true},"direct_messages/destroy":{url:"direct_messages/destroy",type:"POST",optional_parameters:true},"statuses/home_timeline":{url:"statuses/home_timeline",type:"GET",optional_parameters:true},":user/:list_id/members/:id":{url:":user/:list_id/members/:id",type:"GET",optional_parameters:true},report_spam:{url:"report_spam",type:"POST",optional_parameters:true},"related_results/show/:id":{url:"related_results/show/:id",type:"GET",optional_parameters:true},"account/rate_limit_status":{url:"account/rate_limit_status",type:"GET"},"urls/shorten":{url:"urls/shorten",type:"GET",optional_parameters:true},"geo/reverse_geocode":{url:"geo/reverse_geocode",type:"GET",optional_parameters:true},"trends/daily":{url:"trends/daily",type:"GET",optional_parameters:true},"account/verify_credentials":{url:"account/verify_credentials",type:"GET"},":user/lists/create":{url:":user/lists",type:"POST",optional_parameters:true},"account/update_profile_colors":{url:"account/update_profile_colors",type:"POST",optional_parameters:true},"users/suggestions/:slug/members":{url:"users/suggestions/:slug/members",type:"GET",optional_parameters:true},"geo/similar_places":{url:"geo/similar_places",type:"GET",optional_parameters:true},"blocks/create":{url:"blocks/create",type:"POST",optional_parameters:true},":user/:list_id/members":{url:":user/:list_id/members",type:"GET",optional_parameters:true},"friends/ids":{url:"friends/ids",type:"GET",optional_parameters:true},"favorites/destroy/:id":{url:"favorites/destroy/:id",type:"POST",optional_parameters:true},"geo/id/:id":{url:"geo/id/:id",type:"GET",optional_parameters:true},"statuses/retweet":{url:"statuses/retweet",type:"GET",optional_parameters:true},"favorites/:id":{url:"favorites/:id",type:"GET",optional_parameters:true},"statuses/retweeted_by_me":{url:"statuses/retweeted_by_me",type:"GET",optional_parameters:true},":user/:list_id/members/create":{url:":user/:list_id/members",type:"POST",optional_parameters:true},"lists/members/create":{url:"lists/members/create",type:"POST",optional_parameters:true},"users/search":{url:"users/search",type:"GET",optional_parameters:true},"statuses/filter":{url:"statuses/filter",type:"POST",optional_parameters:true},"friendships/create":{url:"friendships/create",type:"POST",optional_parameters:true},"account/settings/create":{url:"account/settings",type:"POST",optional_parameters:true},"trends/current":{url:"trends/current",type:"GET",optional_parameters:true},"users/suggestions/:slug":{url:"users/suggestions/:slug",type:"GET",optional_parameters:true},"statuses/firehose":{url:"statuses/firehose",type:"GET",optional_parameters:true},saved_searches:{url:"saved_searches",type:"GET"},direct_messages:{url:"direct_messages",type:"GET",optional_parameters:true},"friendships/deny_all":{url:"friendships/deny_all",type:"POST"},"lists/update":{url:"lists/update",type:"POST",optional_parameters:true},"blocks/destroy":{url:"blocks/destroy",type:"POST",optional_parameters:true},"friendships/exists":{url:"friendships/exists",type:"GET",optional_parameters:true},"users/contributors":{url:"users/contributors",type:"GET",optional_parameters:true},"statuses/mentions":{url:"statuses/mentions",type:"GET",optional_parameters:true},"favorites/create/:id":{url:"favorites/create/:id",type:"POST",optional_parameters:true},trends:{url:"trends",type:"GET"},"trends/:woeid":{url:"trends/:woeid",type:"GET",optional_parameters:true},"urls/shorten_multiple":{url:"urls/shorten_multiple",type:"GET",optional_parameters:true},"statuses/destroy":{url:"statuses/destroy",type:"POST",optional_parameters:true},"statuses/retweet/:id":{url:"statuses/retweet/:id",type:"POST",optional_parameters:true},"direct_messages/sent":{url:"direct_messages/sent",type:"GET",optional_parameters:true},"blocks/exists":{url:"blocks/exists",type:"GET",optional_parameters:true},"saved_searches/destroy/:id":{url:"saved_searches/destroy/:id",type:"POST",optional_parameters:true},"statuses/retweets_of_me":{url:"statuses/retweets_of_me",type:"GET",optional_parameters:true},"friendships/deny":{url:"friendships/deny",type:"POST",optional_parameters:true},"friendships/destroy":{url:"friendships/destroy",type:"POST",optional_parameters:true},"account/end_session":{url:"account/end_session",type:"POST"},"notifications/leave":{url:"notifications/leave",type:"POST",optional_parameters:true},"statuses/:id/retweeted_by":{url:"statuses/:id/retweeted_by",type:"GET",optional_parameters:true},"users/recommendations":{url:"users/recommendations",type:"GET",optional_parameters:true},"account/view_possibly_sensitive":{url:"account/view_possibly_sensitive",type:"GET",optional_parameters:true,internal:true},"account/update_view_possibly_sensitive":{url:"account/update_view_possibly_sensitive",type:"GET",optional_parameters:true,internal:true},"account/personalization_settings":{url:"account/personalization_settings",type:"GET",optional_parameters:true,internal:true},"account/update_personalization_settings":{url:"account/update_personalization_settings",type:"POST",optional_parameters:true,internal:true},"account/has_dismissed_geo_promo":{url:"account/has_dismissed_geo_promo",type:"GET",optional_parameters:true,internal:true},"account/update_has_dismissed_geo_promo":{url:"account/update_has_dismissed_geo_promo",type:"GET",optional_parameters:true,internal:true},"account/geo_location":{url:"account/geo_location",type:"POST",optional_parameters:true,internal:true},"account/email_status":{url:"account/email_status",type:"GET",optional_parameters:true,internal:true},"users/send_recommendation_rating":{url:"users/send_recommendation_rating",type:"POST",optional_parameters:true,internal:true},"users/send_invites_by_email":{url:"users/send_invites_by_email",type:"POST",optional_parameters:true,internal:true},"users/following_followers_of":{url:"users/following_followers_of",type:"GET",optional_parameters:true,internal:true},"users/follows_in_common_with":{url:"users/follows_in_common_with",type:"GET",optional_parameters:true,internal:true},"users/update_discoverability":{url:"users/update_discoverability",type:"POST",optional_parameters:true,internal:true},"users/show_for_profile":{url:"users/show_for_profile",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/services":{url:"find_sources/contacts/services",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/matches":{url:"find_sources/contacts/matches",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/others":{url:"find_sources/contacts/others",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/follow_all":{url:"find_sources/contacts/follow_all",type:"POST",optional_parameters:true,internal:true},"find_sources/contacts/add_to_list":{url:"find_sources/contacts/add_to_list",type:"POST",optional_parameters:true,internal:true},"promos/random_json_promo":{url:"promos/random_json_promo",type:"GET",optional_parameters:true,internal:true,mime_type:""},search:{url:"phoenix_search",type:"GET",optional_parameters:true,internal:true,mime_type:"phoenix"},"i/search":{url:"search",type:"GET",optional_parameters:true,version:D,internal_auth:true},"i/discovery":{url:"discovery",type:"GET",optional_parameters:true,version:D,internal_auth:true},"api/related_results/show/:id":{url:"api/related_results/show/:id",type:"GET",optional_parameters:true,internal:true},"friendships/incoming":{url:"friendships/incoming",type:"GET",optional_parameters:true},"friend_requests/accept":{url:"friend_requests/accept",type:"POST",optional_parameters:true,internal:true},"friend_requests/deny":{url:"friend_requests/deny",type:"POST",optional_parameters:true,internal:true},"friendships/set_shares":{url:"friendships/set_shares",type:"POST",optional_parameters:true,internal:true},"bouncers/reset":{url:"bouncers/reset",type:"POST",optional_parameters:true,internal:true},"account/resend_confirmation_email":{url:"account/resend_confirmation_email",type:"GET",optional_parameters:true,internal:true,mime_type:""},"download/apps":{url:"download/apps",type:"GET",optional_parameters:true,internal:true,mime_type:""},"download/send_link":{url:"download/send_link",type:"POST",optional_parameters:true,internal:true},"devices/list":{url:"devices/list",type:"GET",internal:true},"devices/carriers":{url:"devices/carriers",type:"GET",internal:true},"devices/create":{url:"devices/create",type:"POST",optional_parameters:true,internal:true,mime_type:""},"devices/destroy":{url:"devices/destroy",type:"POST",optional_parameters:true,internal:true,mime_type:""},"statuses/flag_possibly_sensitive":{url:"statuses/flag_possibly_sensitive",type:"POST",optional_parameters:true},"statuses/update_possibly_sensitive":{url:"statuses/update_possibly_sensitive",type:"POST",optional_parameters:true},"promoted_content/home_timeline":{url:"promoted_content/home_timeline",type:"GET"},"promoted_content/feedback":{url:"promoted_content/feedback",type:"POST",optional_parameters:true},"statuses/oembed":{url:"statuses/oembed",optional_parameters:true},"direct_messages/conversations":{url:"direct_messages/conversations",type:"GET",optional_parameters:true,version:D,internal_auth:true},"direct_messages/conversation_with":{url:"direct_messages/conversation_with",type:"GET",optional_parameters:true,version:D,internal_auth:true},"users/get_prompt":{url:"users/get_prompt",type:"GET",internal:true,optional_parameters:true},"users/dismiss_prompt":{url:"users/dismiss_prompt",type:"POST",internal:true,optional_parameters:true},"statuses/following_timeline":{url:"statuses/following_timeline",type:"GET",optional_parameters:true},"search/facets":{url:"search/facets",type:"GET",optional_parameters:true,internal:true},"search/image_facets":{url:"search/image_facets",type:"GET",optional_parameters:true,version:D,internal_auth:true},"search/video_facets":{url:"search/video_facets",type:"GET",optional_parameters:true,version:D,internal_auth:true},"activity/activity_by_user":{url:"activity/by_user",optional_parameters:true,version:D},"activity/activity_of_me":{url:"activity/about_me",optional_parameters:true,version:D},"activity/activity_by_people_i_follow":{url:"activity/by_friends",optional_parameters:true,version:D},"statuses/:id/activity":{url:"statuses/:id/activity",optional_parameters:false,version:D},"statuses/:id/activity/summary":{url:"statuses/:id/activity/summary",optional_parameters:false,version:D}};A(B)})});provide("bluejs/util/request_helpers",function(A){using(function(){var F={};var I=/localhost\.twitter\.com/;function D(K,J){return function(N,L,M){delete F[K];if(!N||L===0||L>=600){J({error:true,status:0,reason:"No response or network disconnected."})}else{var O=M.getResponseHeader("X-Twitter-Identity");if(O){N._identity=O}J(N)}}}function C(K,J){return function(M,O){delete F[K];var L="An error occured";if(M.status==401){L="Access denied"}else{if(M.status==403){L="Permission denied"}}function N(P){try{return JSON.parse(P)}catch(Q){return{}}}J({error:true,status:M.status,response:N(M.responseText),reason:L,xhr:M})}}var B=(function(){var L=0;var J;var K;if(window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)){J=function(){return new twttr.anywhere.remote.server.contentWindow.XMLHttpRequest()};K=function(M){return function(){return new twttr.anywhere.api.util.RemoteRequest.hosts[M].contentWindow.XMLHttpRequest()}}}else{J=function(){try{return new twttr.anywhere.remote.server.contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(M){}};K=function(M){return function(){try{return new twttr.anywhere.api.util.RemoteRequest.hosts[M].contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(N){}}}}return function(P,N,M){var O=++L;N.success=D(O,M);N.error=C(O,M);N.data=N.data||{};N.headers=N.headers||{};N.headers["X-PHX"]="true";if(N.host&&(twttr.domains.local.match(I)||N.use_host_in_prod)){N.xhr=K(N.host);delete N.host;delete N.use_host_in_prod}else{if(!P){N.xhr=J}}E(O,N);return O}}());function G(K,J){var N=K.split("/"),L=0;var M=$.map(N,function(O){if(O.indexOf(":")===0){return J[L++]}else{return O}});return M.join("/")}function E(K,J){if(J.headers){var M=J.headers;J.headers=null;J.beforeSend=function(O){for(var N in M){O.setRequestHeader(N,M[N])}}}var L=$.ajax(J);F[K]=L}function H(N,M){var J,L,K={dataType:"json",type:N.type||"get",url:""};if(N.use_host_in_prod){K.use_host_in_prod=true}K.type=K.type.toLowerCase();if(N.domain){K.url+=N.domain}else{K.url+="/";if(!N.internal){K.url+=twttr.is.def(N.version)?N.version:"1";K.url+="/"}}K.url+=N.url;J=M.slice(0,N.url.split(":").length-1);if(J.length>0){K.url=G(K.url,J)}if(N.mime_type!==""){K.url+=N.mime_type?("."+N.mime_type):".json"}K.data={};if(N.optional_parameters){L=M.slice(J.length);if(L.length>1){throw new "Optional parameter list is longer than expected"}K.data=L[0]}if(K.type==="delete"||K.type==="put"){K.data._method=N.type.toLowerCase();K.type="post"}if(N.headers){K.headers=N.headers}if(N.host){K.host=N.host}if(N.internal_auth||K.type!=="get"){K.data.post_authenticity_token=twttr.anywhere.api.config.postAuthenticityToken}return K}if(window.isTestMode){twttr.anywhere.api.buildRequestOptions=H}twttr.anywhere.api.makeRequest=function(L,K,J){return B(L.internal,H(L,K),J)};twttr.anywhere.api.cancelApiRequest=function(K){var J=F[K];if(J){J.abort()}};A({makeRequest:twttr.anywhere.api.makeRequest,cancelApiRequest:twttr.anywhere.api.cancelApiRequest})})});provide("bluejs/util/local_storage_cache",function(A){using(function(){var B={"users/show":{},"account/verify_credentials":{},"users/lookup":{}};var D=0.5;var C=twttr.klass("twttr.anywhere.api.util.LocalStorageCache",function(){}).methods({clear:function(){for(var E in twttr.storage.getAll(/twitter_anywhere_cache_/)){twttr.storage.expire(E)}},put:function(H,F,E){if(H in B){var G=this._createKey(H,F);twttr.storage.setWithExpiry(G,JSON.stringify(E),D);return true}else{return false}},get:function(H,F){var G=this._createKey(H,F),E;if((E=twttr.storage.get(G))){return JSON.parse(E)}else{return null}},expire:function(F){for(var E in twttr.storage.getAll(/twitter_anywhere_cache_/)){if(E.match(F)){twttr.storage.expire(E)}}},writeThroughCallback:function(G,F,E){return twttr.bind(this,function(H){this.put(G,F,H);E(H)})},_createKey:function(F,E){return"twitter_anywhere_cache_"+JSON.stringify([F,E])}});A(C)})});provide("bluejs/util/object_cache",function(A){using(function(){var B=twttr.klass("twttr.anywhere.api.util.ObjectCache",function(C,D){this.store={};this.size=0;this.options=D||{};this.keys=this.options.keys||[{name:"id",type:"number"},{name:"id",type:"string"}];this.keyNames={};for(var E=0;E<this.keys.length;E++){this.keyNames[this.keys[E].type]=this.keys[E].name}this.shouldCacheAssociated=!!this.options.cacheAssociated;this.shouldExpireAssociated=!!this.options.expireAssociated;this.klass=C;this.constructor._instances.push(this);C._cache=this}).statics({_capacity:7000,_instances:[],_currentSize:0,_epoch:(new Date),_maxAge:300000,isAtCapacity:function(){return this._currentSize===this._capacity},eject:function(){var E=this._instances[0];for(var D=1,C=this._instances.length;D<C;++D){if(this._instances[D].size>E.size){E=this._instances[D]}}E.eject()},sweeper:function(){var D;for(var F=0,C=this._instances.length;F<C;++F){D=this._instances[F];for(var E in D){if(D[E].createdAt-this._epoch>this._maxAge){D[E].expire()}}}},flush:function(){for(var D=0,C=this._instances.length;D<C;++D){this._instances[D].flush()}}}).methods({_persist:function(D,C){this.store[D]={value:C.data(),accessCount:1,lastAccess:(new Date)};this.size++;this.constructor._currentSize++},_touch:function(C){var D=(new Date);this.store[C].accessCount++;this.store[C].createdAt=D;this.store[C].lastAccess=D-this.constructor._epoch},_eject:function(){this.size--;this.constructor._currentSize--},eject:function(){var D;var E=(new Date)-this.constructor._epoch;for(var C in this.store){if(this.store[C].lastAccess<E){D=C;E=this.store[C].lastAccess}}delete this.store[D];this._eject()},flush:function(){this.constructor._currentSize-=this.size;this.store={};this.size=0},get:function(D){var F=typeof D,E=this.keyNames[F];if(F==="string"){D=D.toLowerCase()}var C=E+"_"+D;if(this.store[C]){this._touch(C);return new this.klass(this.store[C].value)}return null},getMulti:function(F){var G=[];var E=[];for(var D=0,C=F.length;D<C;++D){var H=this.get(F[D]);if(H){G.push(H)}else{E.push(F[D])}}return{hits:new twttr.anywhere.api.util.BaseCollection(G),misses:E}},cache:function(D,M){M=M||{};var F=this.shouldCacheAssociated;if(twttr.is.def(M.shouldCacheAssociated)){F=M.shouldCacheAssociated}if(this.constructor.isAtCapacity()){this.constructor.eject()}var L,H,G;for(var E=0,I=this.keys.length;E<I;++E){G=this.keys[E].name;L=D[G];if(this.keys[E].type==="string"){L=L.toLowerCase()}H=G+"_"+L;this._persist(H,D)}if(F){var C=D.constructor._registry;if(C){for(var K in C){var J=D[K];if(J){this.cacheAssociated(J)}}}}return D},cacheAssociated:function(D){if(D instanceof twttr.anywhere.api.util.BaseCollection&&D.length()){D=D.array;var F=D[0].constructor._cache;if(F){for(var E=0,C=D.length;E<C;++E){F.cache(D[E])}}}else{var F=D.constructor._cache;if(F){F.cache(D)}}},expire:function(D,L){L=L||{};var F=this.shouldExpireAssociated;if(twttr.is.def(L.shouldExpireAssociated)){F=L.shouldExpireAssociated}var J,K;for(var E=0,G=this.keys.length;E<G;++E){K=D[this.keys[E]]+"";J=J||this.store[K];delete this.store[K];this._eject()}if(J){if(F){var C=D.constructor._registry;if(C){for(var I in C){var H=D[I];if(H){this.expireAssociated(H)}}}}return true}return false},expireAssociated:function(D){if(D instanceof twttr.anywhere.api.util.BaseCollection&&D.length()){D=D.array;var F=D[0].constructor._cache;if(F){for(var E=0,C=D.length;E<C;++E){F.expire(D[E])}}}else{var F=D.constructor._cache;if(F){F.expire(D)}}}});twttr.augmentString("twttr.anywhere.api.util.expireObject",function(C){this.constructor._cache.expire(this,C)});twttr.augmentString("twttr.anywhere.api.util.cacheObject",function(C){this.constructor._cache.cache(this,C)});A(B)})});provide("bluejs/util/request_cache",function(A){using(function(){var B={};var C=twttr.klass("twttr.anywhere.api.util.RequestCache",function(){this.store={}}).statics({DEFAULT_TTL:300000}).methods({clear:function(){this.store={}},inject:function(H,E,D,F){var G={response:D,timestamp:new Date};if(F){G.RTL=F}this.store[twttr.anywhere.api.util._createRequestKey(H,E)]=G;return true},put:function(G,E,D,F){if(G in B){return this.inject.apply(this,arguments)}else{return false}},get:function(H,E){var F=twttr.anywhere.api.util._createRequestKey(H,E),D;var G=this.store[F];if(G){if((G.RTL!==undefined&&G.RTL===0)||((new Date)-G.timestamp>this.constructor.DEFAULT_TTL)){delete this.store[F]}else{if(G.RTL!==undefined){G.RTL--}return G.response}}return null},expire:function(E){for(var D in this.store){if(D.match(E)){delete this.store[D]}}},writeThroughCallback:function(F,E,D){return twttr.bind(this,function(G){this.put(F,E,G);D(G)})}});A(C)})});provide("bluejs/util/helpers",function(A){using(function(){twttr.klass("twttr.anywhere.api.util.EventChain",function(){}).methods(twttr.EventProvider);var B={cast:true,cancel:true,success:true,complete:true,timeout:true,error:true,before:true,eventName:true,cacheOptions:true};var C=["phxcom"];twttr.augmentObject(twttr.anywhere.api.util,{chain:new twttr.anywhere.api.util.EventChain(),noop:function(){},defaultTrigger:"current_user",camelize:(function(){var D={};return function(F){var E=D[F];if(!E){E=F.replace(/_(.)/g,function(G,H){return H.toUpperCase()});D[F]=E}return E}}()),filterOptions:function(J,F){var I={};var E=J.concat(C);for(var H=0,D=E.length;H<D;++H){var G=E[H];if(twttr.is.def(F[G])){I[G]=F[G]}}return I},underscore:(function(){var D={};return function(F){var E=D[F];if(!E){E=F.replace(/([a-z])([A-Z])/g,function(G,I,H){return(I+"_"+H).toLowerCase()});D[F]=E}return E}}()),buildCollection:function(E,G){var H=new twttr.anywhere.api.util.BaseCollection();for(var F=0,D=G.length;F<D;++F){H.push(new E(G[F]))}return H},traverse:function(G,F){if(!F.length){return G}var E=F.shift();if(twttr.is.def(G[E])&&!twttr.is.nil(G[E])){return twttr.anywhere.api.util.traverse(G[E],F)}else{var D=twttr.anywhere.api.util.traverseCurrentTrends(G,E);return D?D:null}},traverseCurrentTrends:function(E,D){if(D=="current_trends"){for(key in E){if(E.hasOwnProperty(key)){return E[key]}}}return null},cleanParams:function(F){var E={};for(var D in F){if(!B[D]){E[D]=F[D]}}return E},optify:function(D){var E={success:twttr.anywhere.api.util.noop,error:twttr.anywhere.api.util.noop,complete:twttr.anywhere.api.util.noop};if(!D){return E}if(twttr.is.fn(D)){return twttr.merge({},E,{success:D})}else{return twttr.merge({},E,D)}},useStringIdentifier:function(F,E){var D=E+"_str";if(!F){return }if(F[D]){F[E]=F[D].toString();delete F[D]}else{if(F[E]){F[E]=F[E].toString()}}},unpackTweetEnvelope:function(D){if(D.promoted_status){D.promoted_status.impression_id=D.impression_id;D.promoted_status.experiments=D.experiments;D.promoted_status.disclosure_type=D.disclosure_type;D.promoted_status.disclosure_text=D.disclosure_text;D.promoted_status.socialContext=D.social_context;return D.promoted_status}else{if(D.entities&&D.entities.promoted_content){D.impression_id=D.entities.promoted_content.impression_id;D.disclosure_type=D.entities.promoted_content.disclosure_type;D.experiments=D.entities.promoted_content.experiments;D.disclosure_text=D.entities.promoted_content.disclosure_text;delete D.entities.promoted_content;return D}else{return D}}},serializeArgs:function(J){var I="";for(var G=0,H=J.length;G<H;++G){var L=J[G];var D=[];if(typeof (L)==="object"){for(var K in L){D.push(K)}D.sort();for(var F=0,E=D.length;F<E;++F){I+=D[F]+L[D[F]]}}else{I+=JSON.stringify(L)}}return I},_createRequestKey:function(E,D){return JSON.stringify([E,twttr.anywhere.api.util.serializeArgs(D)])},sanitize:function(F){if(!F){return F}var E=["\u0000","\u200e","\u200f","\u2028","\u2029","\u202a","\u202b","\u202c","\u202d","\u202e","\ufffe","\ufeff","\uffff"];var D;for(D=0;D<E.length;D++){F=F.replace(E[D],"")}return F},returnClassFromType:function(D){if(twttr.is.array(D)){return[twttr.anywhere.api.models[D[0]]]}else{return twttr.anywhere.api.models[D]}},genEventName:function(){return"chain_"+(new Date()).getTime()+Math.random()*1000},proxyNameFromType:function(D){if(D===undefined){return null}return(D===null||twttr.is.array(D))?"Collection":D},makeRemoteRequest:function(J,F,E,D){var G=this;var H,I=F;D=D||{};H=typeof (E)==="function"?{success:E}:E;new twttr.anywhere.api.util.RemoteRequest(twttr.merge({methodName:J,args:F,callbacks:H},D)).send()},callMethod:function(D){var J,M=twttr.anywhere.api.util.RemoteRequest.priorities.NORMAL,E=twttr.anywhere.api.cache,L=true,F={};if(D.options){J=D.options.cast;delete D.options.cast;if(D.options.headers){F=D.options.headers;delete D.options.headers}if(D.options.priority){M=D.options.priority;delete D.options.priority}if(D.options.useRequestCache){L=D.options.useRequestCache;delete D.options.useRequestCache}}J=J||D.cast;var G=D.params[D.params.length-1];if(twttr.is.object(G)){D.params[D.params.length-1]=twttr.anywhere.api.util.cleanParams(G)}var H;function K(N){if(N.packed_response_type){if(N.available_features){E.inject("account/available_features",{},N.available_features,1)}}else{D.dataSource.shift()}var Q=D.dataSource.length?twttr.anywhere.api.util.traverse(N,D.dataSource):N;var P=!twttr.is.def(Q)||twttr.is.nil(Q);var O;if(twttr.is.array(J)){O=P?new twttr.anywhere.api.util.BaseCollection:twttr.anywhere.api.util.buildCollection(J[0],Q)}else{if(P){O=null}else{O=(J)?new J(Q):Q}}setTimeout(function(){D.options.success(O,N)},0)}if(E&&L&&(H=E.get(D.url,D.params))){K(H)}else{var I={before:D.options.before,success:(E)?E.writeThroughCallback(D.url,D.params,K):K,error:D.options.error,complete:D.options.complete,timeout:D.options.timeout,cancel:D.options.cancel};twttr.anywhere.api.util.makeRemoteRequest(D.url,D.params,I,{headers:F,priority:M})}},chainableFn:function(D,F){var E;if(!F.eventName){E=twttr.anywhere.api.util.genEventName()}else{E=F.eventName;delete F.eventName}function G(H,I){if(G._curry&&H instanceof twttr.anywhere.api.util.BaseCollection){if(G._curry instanceof twttr.anywhere.api.util.BaseCollection){H=H.concat(G._curry)}else{H.push(G._curry)}}D(H,{response:I});twttr.anywhere.api.util.chain.trigger(E,[H])}G.event=E;return G},cacheFn:function(D,E){return function(J){E=E||{};var I;if(J instanceof twttr.anywhere.api.util.BaseCollection){var G=J.toArray();for(var H=0,F=G.length;H<F;++H){if(twttr.is.object(G[H])&&G[H].constructor._isModel&&G[H].constructor.isCacheable()){I=G[H].constructor._cache.get(G[H].toParam());if(E.skipOverwrite&&I){G[H]=I}else{G[H].cache(E)}}}}else{if(J instanceof twttr.anywhere.api.models.Base){if(J.constructor.isCacheable()){I=J.constructor._cache.get(J.toParam());if(E.skipOverwrite&&I){J=I}else{J.cache(E)}}}}D.apply({},arguments)}},expiryFn:function(D){return function(H){if(H instanceof twttr.anywhere.api.util.BaseCollection){var F=H.toArray();for(var G=0,E=F.length;G<E;++G){if(F[G].constructor._isModel&&F[G].constructor.isCacheable()){F[G].expire()}}}else{if(H instanceof twttr.anywhere.api.models.Base){if(H.constructor.isCacheable()){H.expire()}}}D.apply({},arguments)}},writeThroughFn:function(D,E,F,H){var G=function(L,J){var K;for(var I in J){K=J[I];if(twttr.is.fn(K)){K=K.apply(F,[L].concat(H))}L.sync(I,K)}};return function(L){if(L instanceof twttr.anywhere.api.util.BaseCollection){var J=L.toArray();for(var K=0,I=J.length;K<I;++K){if(J[K].constructor._isModel&&J[K].constructor.isCacheable()){G(J[K],E)}}}else{if(L instanceof twttr.anywhere.api.models.Base){if(L.constructor.isCacheable()){G(L,E)}}}D.apply({},arguments)}},triggerFn:function(E,F,D){return function(G){E.trigger(F,arguments);D.apply({},arguments)}},decorateCallbacks:function(E,F,G){var J,I=["success","error","complete","before"];for(var H=0,D=I.length;H<D;++H){J=I[H];G.callbacks[J]=twttr.anywhere.api.util.triggerFn(E,F+"_"+J,G.callbacks[J],G.args)}},chainableMethod:function(F,E,H){if(twttr.is.fn(E)){H=E;E={}}var D=twttr.anywhere.api.util.proxyNameFromType(F);var G=function(){var Q={};var M=this instanceof twttr.anywhere.api.models.Base?this.constructor:this;var N=Array.prototype.slice.call(arguments);var K=N.pop();if(K!==undefined&&K!==null){if(twttr.is.array(K)||!twttr.is.object(K)||(F===null&&twttr.is.fn(K))){N.push(K)}else{if(twttr.is.fn(K)){Q.success=K}else{Q=K}}}var O=[].concat(E.decorators||[]);Q.success=Q.success||twttr.anywhere.api.util.noop;Q.error=Q.error||twttr.anywhere.api.util.noop;Q.before=Q.before||twttr.anywhere.api.util.noop;Q.complete=Q.complete||twttr.anywhere.api.util.noop;if(!E.writes){if(!twttr.is.def(E.cache)||E.cache!==false){O.push({decorator:twttr.anywhere.api.util.cacheFn,args:[Q.cacheOptions]})}if(E.expire){O.push({decorator:twttr.anywhere.api.util.expiryFn,args:[]})}}else{O.push({decorator:twttr.anywhere.api.util.writeThroughFn,args:[E.writes,this,N]});if(!twttr.is.def(E.cache)||E.cache!==false){O.push({decorator:twttr.anywhere.api.util.cacheFn,args:[{skipOverwrite:true}]})}}var P,R;if(E.triggers){R=twttr.is.fn(E.triggers)?E.triggers(this):E.triggers;if(E.triggeredBy){P=twttr.anywhere.api.models[E.triggeredBy]}else{P=M}twttr.anywhere.api.util.decorateCallbacks(P,R,{callbacks:Q,args:N})}Q=twttr.anywhere.api.util.optify(Q);O.push({decorator:twttr.anywhere.api.util.chainableFn,args:[Q]});Q.cast=twttr.anywhere.api.util.returnClassFromType(F);N.push(Q);var I=null;if(M._isModel&&M.isCacheable()&&E.cacheLookup){I=E.cacheLookup.apply(M,N)}if(I&&I.partialHit){for(var J=0,L=O.length;J<L;++J){Q.success=O[J].decorator.apply(this,[Q.success].concat(O[J].args))}Q.success._curry=I.curry;H.apply(this,I.args)}else{if(I){Q.success=twttr.anywhere.api.util.chainableFn(Q.success,Q);setTimeout(function(){Q.success(I)},0)}else{for(var J=0,L=O.length;J<L;++J){Q.success=O[J].decorator.apply(this,[Q.success].concat(O[J].args))}I=H.apply(this,N)}}if(!Q.eventName&&D&&this.constructor!=twttr.anywhere.api.util.BaseCollection){return new twttr.anywhere.api.proxies[D](Q.success.event)}else{return I}};G.proxyName=D;G.returnType=F;return G},aliasMethod:function(E,G){var D=twttr.anywhere.api.util.proxyNameFromType(E);var F=function(){return G.apply(this,arguments)};F.proxyName=D;return F},proxyModel:function(F,G){var H=F._name.replace("models","proxies");var E=twttr.klass(H,G);for(var D in F.prototype){(function(){var I=D;E.prototype[I]=function(){var M=Array.prototype.slice.call(arguments);var L=!!F.prototype[I].proxyName;var J;if(L){J=twttr.anywhere.api.util.genEventName();var O=M.pop();var K={};if(O!==null&&O!==undefined){if(twttr.is.array(O)||!twttr.is.object(O)||(F==twttr.anywhere.api.util.BaseCollection&&twttr.is.fn(O))){M.push(O)}else{K=O}}K=twttr.anywhere.api.util.optify(K);K.eventName=J;M.push(K)}var N=this;twttr.anywhere.api.util.chain.one(this.event,function(Q,P){F.prototype[I].apply(P,M)});if(L){return new twttr.anywhere.api.proxies[F.prototype[I].proxyName](J)}}}())}return E},protoExtend:function(E){function D(){}D.prototype=E;return new D()}});A()})});provide("bluejs/util/model",function(A){using(function(){twttr.augmentObject(twttr.anywhere.api.util,{model:function(C,F){if(!F){F=function(H){twttr.anywhere.api.models.Base.call(this,H)}}var B=twttr.klass(C,F).subclassOf(twttr.anywhere.api.models.Base).statics({_eventing:twttr.aug({},twttr.EventProvider)}).statics({_isModel:true,_uniqueKey:"id",_extensionMethods:[],trigger:function(){this._eventing.trigger.apply(this._eventing,arguments)},_bindWrapper:function G(I,H){return function(J){J.type=I;H.apply({},arguments)}},_bind:function(M,J,I){if(twttr.is.fn(I)){I={success:I}}var N=this;var L=J.split(".");var H,K;H=L.shift();L=L.join(".");for(var O in I){(function(){var P=O;K=H+"_"+P;if(L!==""){K+="."+L}M.call(N._eventing,K,N._bindWrapper(H,I[P]))}())}},bind:function(J,I){var L=J.split(" ");for(var K=0,H=L.length;K<H;++K){this._bind(this._eventing.bind,L[K],I)}},one:function(J,I){var L=J.split(" ");for(var K=0,H=L.length;K<H;++K){this._bind(this._eventing.one,L[K],I)}},unbind:function(I,L){var K=I.split(" ");for(var J=0,H=K.length;J<H;++J){this._unbind(K[J],L)}},_unbind:function(K,N){var O=["success","error","complete","before"];if(K[0]=="."){this._eventing.unbind(K,N);return }var M=this;var H=K.split(".");var I,P;I=H.shift();H=H.join(".");for(var J=0,L=O.length;J<L;++J){(function(){var Q=O[J];P=I+"_"+Q;if(H!==""){P+="."+H}M._eventing.unbind(P,N)}())}},identify:function(I){var H=I;if(I instanceof this){H=I[this._uniqueKey]}return H},isCacheable:function(){return !!(twttr.anywhere.api.config.cacheObjects&&this._cache)}}).methods({toParam:function(){return this.constructor.identify(this)},reload:twttr.anywhere.api.util.aliasMethod(C.split(".").pop(),function(){var H=[this.constructor.identify(this)].concat(Array.prototype.slice.apply(arguments));return this.constructor.find.apply(this.constructor,H)})});function D(H){return twttr.anywhere.api.util.underscore(H).toLowerCase()}function E(I,H){H=H||D(I);if(!B._registry){B._registry={}}B._registry[H]=I}B.hasMany=function(I,H){H=H||D(I);if(!B._registry){B._registry={}}B._registry[H]=[I];return B};B.belongsTo=function(I,H){E(I,H);return B};B.hasOne=function(I,H){E(I,H);return B};B.cache=function(H){new twttr.anywhere.api.util.ObjectCache(B,H);B.prototype.cache=twttr.anywhere.api.util.cacheObject;B.prototype.expire=twttr.anywhere.api.util.expireObject;return B};B.uniqueKey=function(H){B._uniqueKey=H;return B};B.extend=function(H){B._extensionMethods.push(H);return B};return B}});A(twttr.anywhere.api.util.model)})});provide("bluejs/util/remote_request",function(A){using(function(){var C=/localhost\.twitter\.com/;var B=twttr.klass("twttr.anywhere.api.util.RemoteRequest",function(E){this.id=++this.constructor.requestId;this.methodName=E.methodName;this.requestParameters=E.args||[];if(this.constructor.piggybackWhitelist[this.methodName]){this.signature=twttr.anywhere.api.util._createRequestKey(this.methodName,this.requestParameters)}else{this.signature=this.id}this.priority=E.priority||this.constructor.priorities.NORMAL;this.headers=E.headers||{};this.retryCount=0;this.timeoutTimer=null;this.pendingRequestId=null;var H=this;var G=twttr.anywhere.api.util.noop;this.requestCallbacks={before:E.callbacks.before||G,success:E.callbacks.success||G,error:E.callbacks.error||G,complete:E.callbacks.complete||G,timeout:E.callbacks.timeout||function(I){I.wait()},cancel:E.callbacks.cancel||G};var D=this.requestCallbacks.error;this.requestCallbacks.error=function(K){function I(L,M){trackClient({page:"api",action:"error"},{status_code:L,item_names:["methodName="+E.methodName,"args="+JSON.stringify(E.args||[]),"X-MID="+M.getResponseHeader("X-MID"),"X-Transaction="+M.getResponseHeader("X-Transaction"),"X-RateLimit-Remaining="+M.getResponseHeader("X-RateLimit-Remaining"),"X-RateLimit-Class="+M.getResponseHeader("X-RateLimit-Class")]})}if(K.status===H.constructor.RATE_LIMIT_STATUS){var J=H.constructor.apiErrorCodeFromResponse(K);if(J===H.constructor.RATE_LIMIT_API_CODE){twttr.anywhere.api.globalEvents.trigger("rate_limited")}else{if(J==null){twttr.anywhere.api.globalEvents.trigger("unknown_error");K.xhr&&I(400,K.xhr)}}}if(twttr.loggedIn&&K.status==H.constructor.UNAUTHORIZED_STATUS&&K.response["error"]=="Could not authenticate you."){window.location.reload()}D.apply({},arguments);if(K.status===H.constructor.FORBIDDEN_STATUS){K.xhr&&I(403,K.xhr)}};var F=this.constructor.timings[this.methodName];if(!twttr.is.def(F)||F.totalRequests>this.constructor.sampleWindow){this.constructor.timings[this.methodName]={timeTotal:0,totalRequests:0}}this.constructor.timings[this.methodName].totalRequests++}).statics({RATE_LIMIT_STATUS:400,UNAUTHORIZED_STATUS:401,FORBIDDEN_STATUS:403,RATE_LIMIT_API_CODE:88,useDynamicBackoff:false,requestId:1,sampleWindow:15,maxRetries:3,maxProcessing:3,defaultRequestLatency:5000,latencySteps:[5000,10000,20000],priorities:{IMMEDIATE:4,HIGH:3,NORMAL:2,LOW:1},hosts:{},timings:{},processing:0,pipeline:[],pending:{},piggybackWhitelist:{"activity/activity_by_people_i_follow":true},apiErrorCodeFromResponse:function(D){if(D.response&&D.response.errors&&D.response.errors.length&&D.response.errors[0]){return D.response.errors[0].code}else{return null}},isReady:function(D){if(window.isTestMode){throw new Error("JS API methods must be stubbed when used in tests: "+D.url)}else{return twttr.is.def(twttr.anywhere.remote.server)}},isBacklogged:function(){return this.pipeline.length>0},isCapped:function(){return false},isAvailable:function(){return this.processing<this.maxProcessing},isIdle:function(){return this.processing===0},flush:function(){if(!this.isBacklogged()){return }var F=this.maxProcessing-this.processing;for(var E=0,D=F;E<D;++E){this.reschedule()}},reschedule:function(){if(!this.isBacklogged()){return }var G=0,F=this.pipeline[G];for(var E=0,D=this.pipeline.length;E<D;++E){if(this.pipeline[E].request.priority>F.request.priority){G=E;F=this.pipeline[E]}}this.pipeline.splice(G,1);F.runner()}}).methods({setStart:function(D){this.startedOn=D},setEnd:function(D){this.endedOn=D;this.constructor.timings[this.methodName].timeTotal+=this.latency()},latency:function(){return this.endedOn-this.startedOn},dynamicBackoff:function(){var D=this.constructor.timings[this.methodName];if(D.timeTotal!==0){return Math.floor(D.timeTotal/D.totalRequests)}return this.constructor.defaultRequestLatency},incrementalBackoff:function(){return this.constructor.latencySteps[this.retryCount]},_stop:function(){this["stopped_"+this.retryCount]=true;delete this.constructor.pending[this.signature];if(this.pendingRequestId){twttr.anywhere.api.cancelApiRequest(this.pendingRequestId)}this._clearTimer()},_clearTimer:function(){if(this.timeoutTimer){clearTimeout(this.timeoutTimer);this.timeoutTimer=null}},_startTimer:function(D){var E=this;D=!!D;var F=null;if(D){F=this.constructor.useDynamicBackoff?this.dynamicBackoff:this.incrementalBackoff}this._clearTimer();this.timeoutTimer=setTimeout(function(){var I=E.constructor.pending[E.signature];for(var H=0,G=I.length;H<G;++H){I[H].requestCallbacks.timeout(E)}},D?F.call(this):this.constructor.defaultRequestLatency)},cancel:function(){var F=this.constructor.pending[this.signature];if(F.length>1){for(var E=0,D=F.length;E<D;++E){if(F[E].id===this.id){F.splice(E,1)}}}else{this._stop()}this.requestCallbacks.cancel(this)},retry:function(){var F=this.constructor.pending[this.signature];if(F.length>1){for(var E=0,D=F.length;E<D;++E){if(F[E].id===this.id){F.splice(E,1)}}}else{this._stop()}this.retryCount++;if(this.retryCount>this.constructor.maxRetries){var G={response:{error:"Connection timeout"}};this.requestCallbacks.error(G);this.requestCallbacks.complete(G);return }this.signature=this.signature+"_"+this.retryCount;this.send()},wait:function(){this._startTimer()},request:function(E,D){if((!this.constructor.isReady(E)&&!E.internal)||this.constructor.isCapped()){this.constructor.pipeline.push({request:this,runner:D});return }this._run(D)},_run:function(D){this.setStart(new Date);this._startTimer();this.constructor.processing++;D.call(this)},responseHandler:function(D,F){var E=this;return function(G){E.constructor.processing--;if(E.constructor.isAvailable()&&E.constructor.isBacklogged()){E.constructor.reschedule()}E.setEnd(new Date);if(!E["stopped_"+D]){F(G)}}},_buildRequestCallback:function(){var E=this;var D=this.retryCount;return this.responseHandler(D,function(G){E._clearTimer();var I=E.constructor.pending[E.signature];var J=G&&G.error?"error":"success";for(var H=0,F=I.length;H<F;++H){I[H].requestCallbacks[J].apply({},[G,E]);I[H].requestCallbacks.complete.apply({},[G,E])}delete E.constructor.pending[E.signature]})},send:function(){var E=this,F=twttr.anywhere.api.endpoints[this.methodName];if(!F){throw new Error("The endpoint, "+this.methodName+" is not a registered API method")}if(this.constructor.pending[this.signature]){this.constructor.pending[this.signature].push(this);this.requestCallbacks.before.apply({},[this]);return }else{this.constructor.pending[this.signature]=[this]}function D(){var H=E._buildRequestCallback(),G=Array.prototype.slice.apply(E.requestParameters);E.requestCallbacks.before.apply({},[E]);E.pendingRequestId=twttr.anywhere.api.makeRequest(F,G,H)}F=twttr.merge({},F,{headers:this.headers});if((twttr.domains.local.match(C)||F.use_host_in_prod)&&F.host&&!this.constructor.hosts[F.host]){url=twttr.proto+"://"+F.host+"/receiver.html";twttr.createIframe(url,function(){E.constructor.hosts[F.host]=this;E.request(F,D)})}else{this.request(F,D)}}});A(B)})});provide("bluejs/util/base_collection",function(A){using(function(){var B=twttr.anywhere.api.util.chainableMethod;var C=function(E){return B(null,function(){var G=Array.prototype.slice.call(arguments,0);var F=G.pop();var H=E.apply(this,G);F.success(H);return H})};var D=twttr.klass("twttr.anywhere.api.util.BaseCollection",function(E){this.array=E||[]}).methods({each:C(function(G){for(var F=0,E=this.array.length;F<E;++F){G(this.array[F],F)}return this}),sort:C(function(){this.array.sort.apply(this.array,arguments);return this}),isEmpty:function(){return this.array.length===0},toArray:function(){return this.array},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(F,H){if(arguments.length!==2){throw"Exception: Wrong number of arguments, 3 required"}for(var G=0,E=this.array.length;G<E;++G){F=H(F,this.array[G])}return F},join:function(G,E){if(twttr.is.fn(G)){E=G;G=""}var F=this.array.join(G);if(E){E(F)}return F},concat:function(E){if(E instanceof this.constructor){E=E.array}return new this.constructor(this.array.concat(E))},find:C(function(G){for(var F=0,E=this.array.length;F<E;++F){if(G(this.array[F],F)){return this.array[F]}}return null}),filter:C(function(H){var F=new this.constructor();for(var G=0,E=this.array.length;G<E;++G){if(H(this.array[G],G)){F.push(this.array[G])}}return F}),some:function(G){for(var F=0,E=this.array.length;F<E;++F){if(G.call(this.array,this.array[F],F,this.array)){return true}}return false},every:function(G){for(var F=0,E=this.array.length;F<E;++F){if(!G.call(this.array,this.array[F],F,this.array)){return false}}return true},map:C(function(H){var F=new this.constructor();for(var G=0,E=this.array.length;G<E;++G){F.push(H(this.array[G],G))}return F}),none:function(E){var F=this.any(E);return !F},length:function(){return this.array.length},get:C(function(G,E){var F=this.array[G];if(E){E(F)}return F}),push:function(){if(arguments[0] instanceof this.constructor){this.array.push.apply(this.array,arguments[0].array)}else{this.array.push.apply(this.array,arguments)}return this},pop:function(H,E){var G;if(twttr.is.fn(H)){E=H;H=undefined}if(H){var F=this.array.length-H;G=new this.constructor(this.array.slice(F));this.array=this.array.slice(0,F)}else{G=this.array.pop()}if(E){E(G)}return G},shift:function(){return this.array.shift()},unshift:function(){if(arguments[0] instanceof this.constructor){this.array.unshift.apply(this.array,arguments[0].array)}else{this.array.unshift.apply(this.array,arguments)}return this},first:C(function(F,E){if(!F){F=1}if(twttr.is.fn(F)){E=F;F=1}var G;if(F==1){G=this.array[0]}else{G=new this.constructor(this.array.slice(0,F))}if(E){E(G)}return G}),slice:function(H,E){var F=[H];if(E!==undefined&&E!==null){F.push(E)}var G=this.array.slice.apply(this.array,F);return new this.constructor(G)},reverse:C(function(){return new this.constructor(this.array.reverse())}),last:C(function(F,E){if(!F){F=1}if(twttr.is.fn(F)){E=F;F=1}var G;if(F==1){G=this.array[this.array.length-1]}else{G=new this.constructor(this.array.slice(this.array.length-F))}if(E){E(G)}return G})});A(D)})});provide("bluejs/mixins/status_actions",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod;var E=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var D=twttr.augmentString("twttr.anywhere.api.mixins.StatusActions",{retweet:E("Status",function(F){return twttr.anywhere.api.models.Status.retweet(this,F)}),favorite:E("Status",function(F){return twttr.anywhere.api.models.Status.favorite(this,F)}),unfavorite:E("Status",function(F){return twttr.anywhere.api.models.Status.unfavorite(this,F)}),reply:E("Status",function(G,F){return twttr.anywhere.api.models.Status.reply(this,G,F)})});A(D)})});provide("bluejs/mixins/phoenix/user",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;var E=twttr.anywhere.api.util.filterOptions;var D=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.User",function(F){F.statics({_bulkFollowing:0,startBulkFollowing:function(){this._bulkFollowing++},stopBulkFollowing:function(){this._bulkFollowing--},isBulkFollowing:function(){return this._bulkFollowing>0},findForProfile:C("User",{cacheLookup:function(I,H){var G=this._cache.get(I);if(G){var J={cursor:-1,count:15,user_id:G.id};if((cachedFriends=twttr.API._requestCache.get("statuses/friends",[J]))){twttr.API._requestCache.inject("statuses/friends",[J],cachedFriends,1);return G}else{return false}}else{return false}},decorators:[{decorator:function(G){return function(I,L){if(L.response.friends){var J={cursor:-1,count:15,user_id:I.id};twttr.API._requestCache.inject("statuses/friends",[J],L.response.friends,1)}if(L.response.recommendations){var K={limit:4,pc:false,user_id:I.id};twttr.API._requestCache.inject("users/recommendations",[K],L.response.recommendations,1)}if(L.response.timeline){var H={include_entities:1,include_available_features:1,contributor_details:true,include_rts:true,user_id:I.id};twttr.API._requestCache.inject("statuses/user_timeline",[H],L.response.timeline,1)}G.apply({},arguments)}},args:[]}]},function(H,G){var I;if(twttr.is.string(H)){I={screen_name:H}}else{I={user_id:H}}B({options:G,url:"users/show_for_profile",params:[I],dataSource:["","user"]})})});F.methods({setWantRetweetsOn:C("User",{expire:true,triggers:"does_want_retweets",triggerTarget:function(G){return"current_user"}},function(G){B({options:G,url:"friendships/update",params:[twttr.merge(G,{user_id:this.id,retweets:"1"})],dataSource:[""]})}),setWantRetweetsOff:C("User",{expire:true,triggers:"doesnt_want_retweets",triggerTarget:function(G){return"current_user"}},function(G){B({options:G,url:"friendships/update",params:[twttr.merge(G,{user_id:this.id,retweets:"0"})],dataSource:[""]})})});return F});A(D)})});provide("bluejs/mixins/phoenix/current_user",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;var E=twttr.anywhere.api.util.filterOptions;var D=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.CurrentUser",function(F){F.methods({followingFollowersOf:C(["User"],function(H,G){var I={cursor:-1};if(twttr.is.string(H)){I.screen_name=H}else{I.user_id=H}B({options:G,url:"users/following_followers_of",params:[twttr.merge(I,G)],dataSource:["","users"]})}),followsInCommonWith:C(["User"],function(H,G){var I={cursor:-1};if(twttr.is.string(H)){I.screen_name=H}else{I.user_id=H}B({options:G,url:"users/follows_in_common_with",params:[twttr.merge(I,G)],dataSource:["","users"]})}),updateDiscoverability:C(undefined,function(H,G){B({options:G,url:"users/update_discoverability",params:[twttr.merge(H,{id:this.id})],dataSource:[""]})}),viewPossiblySensitive:C(undefined,function(G){B({options:G,url:"account/view_possibly_sensitive",params:[{}],dataSource:["","view_possibly_sensitive"]})}),updateViewPossiblySensitive:C(undefined,function(H,G){B({options:G,url:"account/update_view_possibly_sensitive",params:[{do_show:H}],dataSource:["","view_possibly_sensitive"]})}),personalizationSettings:C(undefined,function(G){B({options:G,url:"account/personalization_settings",params:[{}],dataSource:[""]})}),updatePersonalizationSettings:C(undefined,function(H,G){B({options:G,url:"account/update_personalization_settings",params:[{use_cookie_personalization:H.use_cookie_personalization,cookie_personalization_prompt_displayed:H.cookie_personalization_prompt_displayed}],dataSource:[""]})}),hasDismissedGeoPromo:C(undefined,function(G){B({options:G,url:"account/has_dismissed_geo_promo",params:[{}],dataSource:["","has_dismissed_geo_promo"]})}),updateHasDismissedGeoPromo:C(undefined,function(H,G){B({options:G,url:"account/update_has_dismissed_geo_promo",params:[{has_dismissed_geo_promo:H}],dataSource:["","has_dismissed_geo_promo"]})}),emailStatus:C(undefined,function(G){B({options:G,url:"account/email_status",params:[{}],dataSource:["","email_status"]})}),emailBounceReset:C(undefined,function(G){B({options:G,url:"bouncers/reset",params:[{}],dataSource:[""]})}),emailResendConfirmation:C(undefined,function(G){B({options:G,url:"account/resend_confirmation_email",params:[{}],dataSource:[""]})}),geoLocation:C(undefined,function(G){B({options:G,url:"account/geo_location",params:[G],dataSource:[""]})})});twttr.augmentObject(F.prototype.friends,{accept:C("User",{triggers:"acceptFollow",triggeredBy:"User"},function(H,G){B({options:G,url:"friendships/accept",params:[{user_id:H}],dataSource:[""]})}),acceptAll:C("User",function(G){B({options:G,url:"friendships/accept_all",params:[{}],dataSource:["","user"]})}),deny:C("User",function(H,G){B({options:G,url:"friendships/deny",params:[{user_id:H}],dataSource:[""]})}),denyAll:C("User",function(G){B({options:G,url:"friendships/deny_all",params:[{}],dataSource:["","user"]})}),cancel:C("User",{triggers:"cancel_request",triggeredBy:"User"},function(H,G){B({options:G,url:"friendships/cancel",params:[{user_id:H}],dataSource:["","user"]})})});return F});A(D)})});provide("bluejs/mixins/phoenix/status",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var E=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var F=twttr.anywhere.api.util.filterOptions;var C=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.Status",function(G){G.belongsTo("Status","retweetingStatus");G.extend(function(){if(this.isPromoted()){twttr.anywhere.api.util.PromotedStore.putStatus(this)}});G.statics({search:D(["Status"],function(I,H){if(H.near){H.near=encodeURIComponent(H.near)}if(H.within){H.within=encodeURIComponent(H.within)}B({options:H,url:"search",params:[twttr.merge({q:I},H)],dataSource:["","statuses"]})}),related:D(["RelatedTweets"],function(J,H){var I=$.extend({},H);B({options:H,url:"related_results/show/:id",params:[J,I],dataSource:[""]})})});G.methods({related:E(["RelatedTweets"],function(H){return twttr.anywhere.api.models.Status.related(this,H)}),isPromoted:function(){return !!(this.impressionId)},logImpressionIfPromoted:function(){if(this.isPromoted()&&!this.loggedImpression){twttr.API.util.PromotedContent.logImpression(this.impressionId);this.loggedImpression=true}}});return G});A(C)})});provide("bluejs/mixins/phoenix/rate_user_recommendation",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;var C=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.RateUserRecommendation",function(E){E.extend(function(){if(!!this.user.promotedContent){twttr.anywhere.api.util.PromotedStore.putUser(this.user)}});E.statics({rate:D(undefined,function(F){B({options:F,url:"users/send_recommendation_rating",params:[F],dataSource:[""]})})});return E});A(C)})});provide("bluejs/models/base",function(A){using(function(){var C=0;var B=twttr.klass("twttr.anywhere.api.models.Base",function(M){if(!M){return null}if(M.constructor.uber&&M.constructor.uber.constructor==twttr.anywhere.api.models.Base){return M}this.attributes={};var E=this.constructor._registry;for(var P in M){this.data(P,M[P]);if(P.indexOf("_")!==0){var O=twttr.anywhere.api.util.camelize(P);if(!this[O]){var K=null,H=false;if(E&&E[O]){var G=E[O];if(twttr.is.array(G)){G=G[0];if(twttr.is.fn(G)){G=G(M)}}else{if(twttr.is.fn(G)){G=G(M)}}if(G){K=twttr.anywhere.api.models[G];H=twttr.is.array(E[O])}}if(H){this[O]=twttr.anywhere.api.util.buildCollection(K,this.data(P))}else{if(K){this[O]=new K(this.data(P))}else{this[O]=this.data(P)}}}}}if(this.constructor._extensionMethods){var F={};for(var J in this){F[J]=true}for(var L=0,N=this.constructor._extensionMethods.length;L<N;++L){var D=this.constructor._extensionMethods[L];D.call(this,this)}for(var J in this){if(!twttr.is.def(F[J])){var I=this[J]&&this[J].data&&twttr.is.fn(this[J].data);this.data(twttr.anywhere.api.util.underscore(J),I?this[J].data():this[J])}}}this._objectId=++C}).methods({sync:function(D,F){var E=twttr.anywhere.api.util.underscore(D);var G=twttr.anywhere.api.util.camelize(D);if(F instanceof twttr.anywhere.api.models.Base){this.attributes[E]=F.attributes}else{this.data(E,F)}this[G]=F;if(this.constructor.isCacheable&&this.constructor.isCacheable()){this.cache()}return F},data:function(D,E){if(typeof D=="string"&&typeof E!="undefined"){this.attributes[D]=E;return E}if(typeof D=="object"&&typeof E=="undefined"){return twttr.merge(this.attributes,D)}if(typeof D=="string"&&typeof E=="undefined"){return this.attributes[D]}if(typeof D=="undefined"&&typeof E=="undefined"){return this.attributes}},clone:function(F){var E=$.extend({},this);E.attributes=$.extend({},this.attributes);if(F){for(var D in F){E.sync(D,F[D])}}return E}});A(B)})});provide("bluejs/models/user",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var G=twttr.anywhere.api.util.aliasMethod;var M=twttr.anywhere.api.util.callMethod;var F=twttr.anywhere.api.util.filterOptions;var L=twttr.anywhere.api.util.noop;var J=twttr.anywhere.api.util.defaultTrigger;var H=twttr.anywhere.api.models.Base;var C=twttr.anywhere.api.util.model("twttr.anywhere.api.models.User",function(Q){function N(S,R){return S.length!=0&&R.length/S.length>0.3}Q.name=twttr.anywhere.api.util.sanitize(Q.name);if(Q.name&&twttr.i18n&&twttr.i18n.rtl){var O=Q.name.match(twttr.constants.regexps.rtlChar);if(!O||!N(Q.name,O)){Q.name="\u202a"+Q.name+"\u202c"}}Q.description=twttr.anywhere.api.util.sanitize(Q.description);if(window.location.protocol==="https:"&&twttr.cdnBase){if(Q.profile_image_url&&Q.profile_image_url.indexOf("http:")===0){Q.profile_image_url=twttr.assets.getPathFromAbsoluteURL(Q.profile_image_url,{isSSL:true,isVersioned:false})}if(Q.profile_background_image_url&&Q.profile_background_image_url.indexOf("http:")===0){Q.profile_background_image_url=twttr.assets.getPathFromAbsoluteURL(Q.profile_background_image_url,{isSSL:true,isVersioned:false})}}twttr.anywhere.api.models.Base.call(this,Q);var P=this;this.lists=function(){return twttr.anywhere.api.models.User.prototype.lists.apply(P,arguments)};this.lists.find=function(){return twttr.anywhere.api.models.User.prototype.lists.find.apply(P,arguments)}}).uniqueKey("screenName").cache({keys:[{name:"id",type:"number"},{name:"screenName",type:"string"}]}).hasOne("Status").statics({find:D("User",{cacheLookup:function(P,O){var N=this._cache.get(P);return N?N:false}},function(O,N){var P;if(twttr.is.string(O)){P={screen_name:O}}else{P={user_id:O}}M({options:N,url:"users/show",params:[P],dataSource:["user"]})}),findAll:D(["User"],{cacheLookup:function(O,P){if(P.reload){delete P.reload;return false}var N=this._cache.getMulti(O);var Q=N.hits;if(N.misses.length){if(Q.isEmpty()){return false}else{return{partialHit:true,curry:Q,args:[N.misses,P]}}}else{return Q}}},function(O,P){var T=[];var S=[];var R=P&&P.stringifiedIds;for(var Q=0,N=O.length;Q<N;++Q){if(twttr.is.string(O[Q])&&!R){T.push(O[Q])}else{S.push(O[Q])}}M({options:P,url:"users/lookup",params:[{user_id:S.join(","),screen_name:T.join(",")}],dataSource:["users"]})}),findAllCached:function(O){var N=this._cache.getMulti(O);return N.hits},current:D("CurrentUser",function(N){M({options:N,url:"account/verify_credentials",params:[],dataSource:["user"]})}),search:D(["User"],function(O,N){M({options:N,url:"users/search",params:[twttr.merge(N,{q:O})],dataSource:["users"]})}),recommendedUsers:D(["UserRecommendation"],function(N){twttr.abdecider.choose("wtf_test_ranker_141");M({options:N,url:"users/recommendations",params:[N],dataSource:[""]})}),recommendedUsers2:D(["UserRecommendation"],function(N){twttr.abdecider.choose("wtf_test_ranker_141");M({options:N,url:"users/recommendations",params:[twttr.merge({expanded_results_format:1},N)],dataSource:["","users"]})})}).methods({bind:twttr.anywhere.api.util.bindMethod,favorites:D(["Status"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"favorites/:id",params:[this.id,N],dataSource:["statuses"]})}),timeline:D(["Status"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"statuses/user_timeline",params:[twttr.merge(N,{user_id:this.id})],dataSource:["statuses"]})}),profileTimeline:D(["Status"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"statuses/profile_timeline",params:[twttr.merge(N,{user_id:this.id})],dataSource:["statuses"]})}),media:D(["Status"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"statuses/media_timeline",params:[twttr.merge(N,{user_id:this.id})],dataSource:["statuses"]})}),followingTweets:D(["Status"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"statuses/following_timeline",params:[twttr.merge(N,{user_id:this.id})],dataSource:["statuses"]})}),followers:D(["User"],function(N){M({options:N,url:"statuses/followers",params:[twttr.merge({cursor:-1},N,{user_id:this.id})],dataSource:["","users"]})}),friends:D(["User"],function(N){M({options:N,url:"statuses/friends",params:[twttr.merge({cursor:-1},N,{user_id:this.id})],dataSource:["","users"]})}),activity:D(["Activity"],function(N){M({options:N,url:"activity/activity_by_user",params:[twttr.merge(N,{user_id:this.id})],dataSource:[""]})}),friendIds:D(undefined,function(N){M({options:N,url:"friends/ids",params:[twttr.merge({cursor:-1},N,{user_id:this.id})],dataSource:["","ids"]})}),followerIds:D(undefined,function(N){M({options:N,url:"followers/ids",params:[twttr.merge({cursor:-1},N,{user_id:this.id})],dataSource:["","ids"]})}),_isFollowing:function(P,O,N){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:P,user_b:O}],{success:N.success,error:N.error})},isFollowing:function(N,P){P=twttr.anywhere.api.util.optify(P);var O=twttr.anywhere.api.models.User.identify(N);this._isFollowing(this.id,O,P)},isFriend:function(N,O){this.isFollowing(N,O)},isFollowedBy:function(N,P){P=twttr.anywhere.api.util.optify(P);var O=twttr.anywhere.api.models.User.identify(N);this._isFollowing(O,this.id,P)},isMutual:function(N,Q){Q=twttr.anywhere.api.util.optify(Q);var P=twttr.anywhere.api.models.User.identify(N);var O=Q.success;Q.success=function(R){O(R.following&&R.followedBy)};return this.relationshipWith(N,Q)},relationshipWith:function(N,Q){Q=twttr.anywhere.api.util.optify(Q);var R=this;var P=twttr.anywhere.api.models.User.identify(N);var O={source_id:this.id};if(twttr.is.string(P)){O.target_screen_name=P}else{O.target_id=P}twttr.anywhere.api.util.makeRemoteRequest("friendships/show",[O],{success:function(T){var S={following:T.relationship.source.following,followedBy:T.relationship.source.followed_by};if(R instanceof twttr.anywhere.api.models.CurrentUser){S.notifications=T.relationship.source.notifications_enabled;S.blocking=T.relationship.source.blocking;S.wantRetweets=T.relationship.source.want_retweets;S.canDM=T.relationship.source.can_dm}Q.success(S)},error:Q.error})},block:D("User",{expire:true,triggers:"block",triggerTarget:J},function(N){M({options:N,url:"blocks/create",params:[twttr.merge(N,{user_id:this.id})],dataSource:["user"]})}),unblock:D("User",{expire:true,triggers:"unblock",triggerTarget:J},function(N){M({options:N,url:"blocks/destroy",params:[twttr.merge(N,{user_id:this.id})],dataSource:["user"]})}),similarUsers:D(["UserRecommendation"],function(N){M({options:N,url:"users/recommendations",params:[twttr.merge(N,{user_id:this.id})],dataSource:[""]})}),directMessage:G("DirectMessage",function(O,N){return twttr.anywhere.api.models.DirectMessage.send(this.id,O,N)}),dm:G("DirectMessage",function(O,N){return this.directMessage(O,N)}),follow:D("User",{expire:true,writes:{followRequestSent:function(N){return N["protected"]?true:false},following:function(N){return N["protected"]?false:true}},triggers:function(N){if(N["protected"]&&!N.following){return"follow_request"}else{return"follow"}},triggerTarget:J},function(N){M({options:N,url:"friendships/create",params:[$.extend({user_id:this.id},N)],dataSource:["user"]})}),unfollow:D("User",{expire:true,writes:{followRequestSent:false,following:false},triggers:"unfollow",triggerTarget:J},function(O){var N=(this["protected"]&&this.followRequestSent)?"friendships/cancel":"friendships/destroy";M({options:O,url:N,params:[$.extend({user_id:this.id},O)],dataSource:["user"]})}),report:D("User",{expire:true,triggers:"report",triggerTarget:J},function(N){M({options:N,url:"report_spam",params:[twttr.merge(N,{user_id:this.id})],dataSource:["user"]})}),setNotificationsOn:D("User",{expire:true,writes:{notifications:true},triggers:"subscribe",triggerTarget:J},function(N){M({options:N,url:"friendships/update",params:[{user_id:this.id,device:"1"}],dataSource:["user"]})}),setNotificationsOff:D("User",{expire:true,writes:{notifications:false},triggers:"unsubscribe",triggerTarget:J},function(N){M({options:N,url:"friendships/update",params:[{user_id:this.id,device:"0"}],dataSource:["user"]})}),lists:D(["List"],function(N){M({options:N,url:":user/lists",params:[this.id,N],dataSource:["lists_list","lists"]})}),allLists:D(["List"],function(N){N.user_id=this.id;N.reverse=true;M({options:N,url:"lists/all",params:[N],dataSource:["lists_list"]})}),memberships:D(["List"],function(N){M({options:N,url:":user/lists/memberships",params:[this.id,N],dataSource:["lists_list","lists"]})}),subscriptions:D(["List"],function(N){M({options:N,url:":user/lists/subscriptions",params:[this.id,N],dataSource:["lists_list","lists"]})}),contributors:D(["User"],function(N){M({options:N,url:"users/contributors",params:[{id:this.id}],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.User);twttr.klass("twttr.anywhere.api.models.CurrentUser",function(O){twttr.anywhere.api.models.User.call(this,O);var N=this;this.lists.create=function(){return N.constructor.prototype.lists.create.apply(N,arguments)}}).subclassOf(twttr.anywhere.api.models.User).statics({_eventing:twttr.aug({},twttr.EventProvider)}).methods({recommendedUsers:G(["UserRecommendation"],function(N){return twttr.anywhere.api.models.User.recommendedUsers(N)}),recommendedUsers2:G(["UserRecommendation"],function(N){return twttr.anywhere.api.models.User.recommendedUsers2(N)}),inboundActivity:D(["Activity"],function(N){M({options:N,url:"activity/activity_of_me",params:[N],dataSource:[""]})}),networkActivity:D(["Activity"],function(N){M({options:N,url:"activity/activity_by_people_i_follow",params:[N],dataSource:[""]})}),directMessages:D(["DirectMessage"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"direct_messages",params:[N],dataSource:["direct_messages"]})}),dms:G(["DirectMessage"],function(N){return this.directMessages(N)}),conversations:D(["Conversation"],function(N){M({options:N,url:"direct_messages/conversations",params:[N],dataSource:[""]})}),conversationWith:D(["DirectMessage"],function(N){M({options:N,url:"direct_messages/conversation_with",params:[N],dataSource:[""]})}),_isFollowing:function(P,O,N){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:P,user_b:O}],{success:N.success,error:N.error})},isFollowing:function(N,P){P=twttr.anywhere.api.util.optify(P);var O=twttr.anywhere.api.models.User.identify(N);if(this.constructor.isCacheable()&&!(N instanceof twttr.anywhere.api.models.User)){N=this.constructor._cache.get(O)}if(N instanceof twttr.anywhere.api.models.User){P.success(N.following);return }this._isFollowing(this.id,O,P)},receivedMessages:G(["DirectMessage"],function(N){return this.directMessages(N)}),sentMessages:D(["DirectMessage"],function(N){if(!twttr.is.def(N.include_entities)){N.include_entities=twttr.anywhere.api.config.includeEntities}M({options:N,url:"direct_messages/sent",params:[N],dataSource:["direct_messages"]})}),homeTimeline:D(["Status"],function(O){var N="statuses/home_timeline";if(!twttr.is.def(O.include_entities)){O.include_entities=twttr.anywhere.api.config.includeEntities}if(O.withoutRetweets){N="statuses/friends_timeline"}M({options:O,url:N,params:[O],dataSource:["statuses"]})}),mentions:D(["Status"],function(N){M({options:N,url:"statuses/mentions",params:[N],dataSource:["statuses"]})}),_retweets:D(["Status"],function(O,N){M({options:N,url:O,params:[N],dataSource:["statuses"]})}),trendLocation:D(["Location"],function(N){M({options:N,url:"account/settings",params:[],dataSource:["","trend_location"]})}),setTrendLocation:D(["Location"],{triggers:"changedLocation"},function(O,N){M({options:N,url:"account/settings/create",params:[{trend_location_woeid:O}],dataSource:["","trend_location"]})}),setGeoEnabled:function(Q,O){var P=this;var N=O.success;O.success=function(){P.sync("geoEnabled",Q);if(N){N.apply(P,arguments)}};M({options:O,url:"account/settings/create",params:[{geo_enabled:Q}],dataSource:["","geo_enabled"]})},setLanguage:D(["Language"],function(O,N){M({options:N,url:"account/settings/create",params:[{lang:O}],dataSource:[]})}),retweeting:G(["Status"],function(N){return this._retweets("statuses/retweeted_by_me",N)}),retweets:G(["Status"],function(N){return this._retweets("statuses/retweeted_to_me",N)}),retweeted:G(["Status"],function(N){return this._retweets("statuses/retweets_of_me",N)}),blocks:D(["User"],function(N){M({options:N,url:"blocks/blocking",params:[N],dataSource:["users"]})}),lists:G(["List"],function(N){return this.constructor.uber.lists.call(this,N)}),friends:G(["User"],function(N){return this.constructor.uber.friends.call(this,N)}),isBlocking:function(N,P){P=twttr.anywhere.api.util.optify(P);var O=twttr.anywhere.api.models.User.identify(N);twttr.anywhere.api.util.makeRemoteRequest("blocks/exists",[{user_id:O}],{success:function(Q){P.success((Q.user?true:false))},error:function(Q){if(Q.status==404){P.success(false)}else{P.error(Q)}}})},update:D("User",{expire:true,triggers:"update",triggeredBy:"User"},function(N){M({options:N,url:"account/update_profile",params:[N],dataSource:["user"]})}),profileImage:D(undefined,function(O,N){M({options:N,url:"users/profile_image/:screen_name",params:[O,twttr.merge({redirect:false},N)],dataSource:[""]})}),savedSearches:D(["SavedSearch"],function(N){M({options:N,url:"saved_searches",params:[],dataSource:["saved_searches"]})}),searches:G(["SavedSearch"],function(N){return this.savedSearches(N)}),logout:function(N){parent.twttr.anywhere.signOut()}});twttr.augmentObject(twttr.anywhere.api.models.User.prototype.lists,{find:D("List",{cacheLookup:function(O,N){var P=twttr.API.List._cache.get(O);return P?P:false}},function(O,N){N=twttr.anywhere.api.util.optify(N);if(twttr.is.string(O)){N.slug=O}else{N.list_id=O}M({options:N,url:"lists/show",params:[twttr.merge({owner_id:this.id},N)],dataSource:["list"]})})});twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.lists,{create:D("List",{triggers:"create",triggeredBy:"List"},function(O,N){M({options:N,url:":user/lists/create",params:[this.id,twttr.merge(N,{name:O,send_error_codes:true})],dataSource:["list"]})})});twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.savedSearches,{find:D("SavedSearch",function(O,N){M({options:N,url:"saved_searches/show/:id",params:[O,N],dataSource:["saved_search"]})}),create:D("SavedSearch",{triggers:"create",triggeredBy:"SavedSearch"},function(O,N){M({options:N,url:"saved_searches/create",params:[{query:O}],dataSource:["saved_search"]})})});twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.friends,{pending:D(undefined,function(O){var N=F(["cursor"],O);M({options:O,url:"friendships/incoming",params:[N],dataSource:["","ids"]})})});twttr.anywhere.api.models.CurrentUser.prototype._name=function(){return"current_user"};twttr.anywhere.api.models.CurrentUser.identify=twttr.anywhere.api.models.User.identify;twttr.anywhere.api.models.CurrentUser._registry=twttr.anywhere.api.models.User._registry;twttr.anywhere.api.models.CurrentUser._extensionMethods=twttr.anywhere.api.models.User._extensionMethods;twttr.anywhere.api.models.CurrentUser.isCacheable=twttr.anywhere.api.models.User.isCacheable;if(twttr.anywhere.api.models.CurrentUser.isCacheable()){twttr.anywhere.api.models.CurrentUser._cache=twttr.anywhere.api.models.User._cache}var K=["trigger","bind","_bind","unbind","_unbind","one","_bindWrapper"];for(var E=0,I=K.length;E<I;++E){twttr.anywhere.api.models.CurrentUser[K[E]]=twttr.anywhere.api.models.User[K[E]]}var B=["block","unblock","report","follow","unfollow","setNotificationsOn","setNotificationsOff"];for(var E=0,I=B.length;E<I;++E){twttr.anywhere.api.models.CurrentUser.prototype[B[E]]=L}twttr.anywhere.api.models.CurrentUser.mixin(twttr.anywhere.api.mixins.phoenix.CurrentUser);A(C)})});provide("bluejs/models/direct_message",function(A){using(function(){var E=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var D=twttr.anywhere.api.util.callMethod;var C=twttr.anywhere.api.util.defaultTrigger;var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.DirectMessage",function(G){if(G){twttr.anywhere.api.util.useStringIdentifier(G,"id")}this.constructor.uberclass.call(this,G)}).belongsTo("User","sender").belongsTo("User","recipient").statics({send:E("DirectMessage",{triggers:"send",triggerSource:C,triggerTarget:function(G){return G.recipient}},function(G,I,H){D({options:H,url:"direct_messages/new",params:[{user:twttr.anywhere.api.models.User.identify(G),text:I}],dataSource:["direct_message"]})})}).methods({destroy:E("DirectMessage",{triggers:"delete",triggerTarget:C},function(G){D({options:G,url:"direct_messages/destroy",params:[{id:this.id}],dataSource:["direct_message"]})})});A(B)})});provide("bluejs/models/saved_search",function(A){using(function(){var E=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var D=twttr.anywhere.api.util.callMethod;var C=twttr.anywhere.api.util.defaultTrigger;var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SavedSearch").methods({destroy:E("SavedSearch",{triggers:"delete",triggerTarget:C},function(G){D({options:G,url:"saved_searches/destroy/:id",params:[this.id,G],dataSource:["saved_search"]})}),results:E(["SearchResult"],function(G){G.q=this.query;D({options:G,url:"search",params:[G],dataSource:["","results"]})})});A(B)})});provide("bluejs/models/list",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var C=twttr.anywhere.api.util.callMethod;var G=twttr.anywhere.api.util.filterOptions;var B=twttr.anywhere.api.util.defaultTrigger;var E=twttr.anywhere.api.util.model("twttr.anywhere.api.models.List").cache({keys:[{name:"id",type:"number"}],shouldCacheAssociated:false}).belongsTo("User").methods({subscribe:D("List",{expire:true,triggers:"follow",triggerTarget:B,writes:{subscriberCount:function(){return this.subscriberCount+1}}},function(H){C({options:H,url:":user/:list_id/subscribers/create",params:[this.user.id,this.id,{}],dataSource:["list"]})}),follow:F("List",function(H){return this.subscribe(H)}),unsubscribe:D("List",{expire:true,triggers:"unfollow",triggerTarget:B,writes:{subscriberCount:function(){return this.subscriberCount-1}}},function(H){C({options:H,url:":user/:id/subscribers/destroy",params:[this.user.id,this.id,{}],dataSource:["list"]})}),unfollow:F("List",function(H){return this.unsubscribe(H)}),add:D("List",{expire:true,triggers:"add",triggerTarget:B,writes:{memberCount:function(){return this.memberCount+1}}},function(H,I){C({options:I,url:"lists/members/create",params:[{list_id:this.id,user_id:H.id}],dataSource:["list"]})}),remove:D("List",{expire:true,triggers:"remove",triggerTarget:B,writes:{memberCount:function(){return this.memberCount-1}}},function(H,I){C({options:I,url:"lists/members/destroy",params:[{list_id:this.id,user_id:H.id}],dataSource:["list"]})}),owner:function(){return this.user},isMember:function(H,J){J=twttr.anywhere.api.util.optify(J);var K=J.error;J.error=function(L){if(L.status===404&&L.reason.match("not a member")){J.success(false)}else{if(K){K(L)}}};var I=J.success;J.success=function(L){if(L.screenName){I(true)}else{I(false)}};C({options:J,url:":user/:list_id/members/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(H),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},isSubscriber:function(H,J){J=twttr.anywhere.api.util.optify(J);var K=J.error;J.error=function(L){if(L.status===404&&L.reason.match("not a subscriber")){J.success(false)}else{if(K){K(L)}}};var I=J.success;J.success=function(L){if(L.screenName){I(true)}else{I(false)}};C({options:J,url:":user/:list_id/subscribers/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(H),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},destroy:D("List",{expire:true,cache:false,triggers:"delete",triggerTarget:B},function(H){C({options:H,url:"lists/destroy",params:[{list_id:this.id}],dataSource:["list"]})}),update:D("List",{expire:true,triggers:"update",triggerTarget:B},function(H){H=twttr.anywhere.api.util.optify(H);var I=G(["name","description","mode"],H);C({options:H,url:"lists/update",params:[twttr.merge({list_id:this.id,send_error_codes:true},I)],dataSource:["list"]})}),statuses:D(["Status"],function(H){H=twttr.anywhere.api.util.optify(H);if(!twttr.is.def(H.include_entities)){H.include_entities=twttr.anywhere.api.config.includeEntities}C({options:H,url:"lists/statuses",params:[twttr.merge({list_id:this.id},H)],dataSource:["statuses"]})}),subscribers:D(["User"],function(H){C({options:H,url:":user/:list_id/subscribers",params:[this.user.id,this.id,H],dataSource:["users_list","users"]})}),followers:F(["User"],function(H){return this.subscribers(H)}),members:D(["User"],function(H){C({options:H,url:":user/:list_id/members",params:[this.user.id,this.id,H],dataSource:["users_list","users"]})}),following:F(["User"],function(H){return this.members(H)})});A(E)})});provide("bluejs/models/location",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var H=twttr.anywhere.api.util.filterOptions;var C=twttr.anywhere.api.cache;var E=twttr.anywhere.api.util.noop;var G=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Location").uniqueKey("woeid").statics({trends:D(["Trend"],function(I,K){var J=this.identify(I);B({options:K,url:"trends/:woeid",params:[J,K],dataSource:["",0,"trends"]})})}).methods({trends:F(["Trend"],function(I){return this.constructor.trends(this.woeid,I)})});A(G)})});provide("bluejs/models/trend",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var H=twttr.anywhere.api.util.filterOptions;var C=twttr.anywhere.api.cache;var E=twttr.anywhere.api.util.noop;var G=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Trend").uniqueKey("query").statics({locations:D(["Location"],function(I){var J=H(["lat","long","lang"],I);B({options:I,url:"trends/available",params:[J],dataSource:[""]})}),current:D(["Trend"],function(I){B({options:I,url:"trends/current",params:[I],dataSource:["","trends","current_trends"]})})});A(G)})});provide("bluejs/models/status",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var C=twttr.anywhere.api.util.callMethod;var B=twttr.anywhere.api.util.defaultTrigger;var G=twttr.anywhere.api.util.filterOptions;var E=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Status",function(H){if(H){H=twttr.anywhere.api.util.unpackTweetEnvelope(H);twttr.anywhere.api.util.useStringIdentifier(H,"id");twttr.anywhere.api.util.useStringIdentifier(H,"in_reply_to_status_id");twttr.anywhere.api.util.useStringIdentifier(H.current_user_retweet,"id");H.text=twttr.anywhere.api.util.sanitize(H.text)}this.constructor.uberclass.call(this,H)}).cache({keys:[{name:"id",type:"string"}],cacheAssociated:true}).belongsTo("User").belongsTo("Status","retweetedStatus").hasOne("Place").extend(function(){this.isRetweet=!!this.retweetedStatus}).statics({find:D("Status",{cacheLookup:function(J,I){var H=this._cache.get(J);return H?H:false}},function(J,H){var I=G(["trim_user","include_entities","contributor_details"],H);if(!twttr.is.def(I.include_entities)){I.include_entities=twttr.anywhere.api.config.includeEntities}if(!twttr.is.def(I.contributor_details)){I.contributor_details=true}if(!twttr.is.def(I.include_entities)){I.include_entities=1}C({options:H,url:"statuses/show",params:[twttr.merge(I,{id:J})],dataSource:["status"]})}),unretweet:D("Status",{expire:true,cache:false,triggers:"unretweet",triggerTarget:function(H){return"current_user"}},function(H,K){var J=this.identify(H);var I=K.success;K.success=function(L){L.expire();I.apply(L,arguments)};C({options:K,url:"statuses/destroy",params:[{id:J}],dataSource:["status"]})}),update:D("Status",{triggers:"update",triggerTarget:B},function(H,I){I.include_entities=true;I.status=H;C({options:I,url:"statuses/update",params:[I],dataSource:["status"]})}),updateWithMedia:D("Status",{triggers:"update_with_media",triggerTarget:B},function(H,I){I.include_entities=true;I.status=H;C({options:I,url:"statuses/update_with_media",params:[I],dataSource:["status"]})}),publicTimeline:D(["Status"],function(H){C({options:H,url:"statuses/public_timeline",params:[],dataSource:["statuses"]})}),networkTimeline:D(["Status"],function(H){C({options:H,url:"statuses/network_timeline",params:[H],dataSource:["statuses"]})}),promotedHomeTimeline:D(["Status"],function(H){C({options:H,url:"promoted_content/home_timeline",params:[],dataSource:["","promoted_tweets"]})}),retweet:D("Status",{triggers:"retweet",triggerSource:function(H){if(H instanceof twttr.anywhere.api.models.Base){return H}else{return"status_"+H}},triggerTarget:function(H){return"current_user"}},function(H,J){var I=this.identify(H);C({options:J,url:"statuses/retweet/:id",params:[I,J],dataSource:["status"]})}),favorite:D("Status",{triggers:"favorite",triggerSource:function(H){if(H instanceof twttr.anywhere.api.models.Base){return H}else{return"status_"+H}},triggerTarget:function(H){return"current_user"}},function(H,J){var I=this.identify(H);C({options:J,url:"favorites/create/:id",params:[I,J],dataSource:["status"]})}),unfavorite:D("Status",{triggers:"unfavorite",triggerSource:function(H){if(H instanceof twttr.anywhere.api.models.Base){return H}else{return"status_"+H}},triggerTarget:function(H){return"current_user"}},function(H,J){var I=this.identify(H);C({options:J,url:"favorites/destroy/:id",params:[I,J],dataSource:["status"]})}),reply:F("Status",function(H,K,J){var I=this.identify(H);J=twttr.merge(twttr.anywhere.api.util.optify(J),{in_reply_to_status_id:I});return this.update(K,J)}),search:D(["SearchResult"],function(I,H){C({options:H,url:"search",params:[twttr.merge({q:I},H)],dataSource:["","results"]})})}).methods(twttr.anywhere.api.mixins.StatusActions).methods({bind:twttr.anywhere.api.util.bindMethod,activity:D(["Activity"],function(H){C({options:H,url:"statuses/:id/activity",params:[this.id],dataSource:[""]})}),summary:D(undefined,function(H){C({options:H,url:"statuses/:id/activity/summary",params:[this.id],dataSource:[""]})}),destroy:D("Status",{expire:true,cache:false,triggers:"delete",triggerTarget:function(H){return"current_user"}},function(I){var J=this;var H=I.success;I.success=function(){J.expire();H.apply(J,arguments)};C({options:I,url:"statuses/destroy",params:[{id:this.id}],dataSource:["status"]})}),retweets:D(["Status"],function(H){C({options:H,url:"statuses/retweets/:id",params:[this.id,H],dataSource:["status"]})}),retweeters:D(["User"],function(H){C({options:H,url:"statuses/:id/retweeted_by",params:[this.id,H],dataSource:["users"]})}),contributor:F(["User"],function(H){var I=this.data("contributors");if(I&&twttr.is.array(I)&&I.length===1){return twttr.anywhere.api.models.User.find(this.data("contributors")[0],H)}else{H.success(null)}}),inReplyToUser:F("User",function(H){H=twttr.anywhere.api.util.optify(H);if(this.inReplyToUserId){return twttr.anywhere.api.models.User.find(this.inReplyToUserId,H)}else{H.success(null)}}),inReplyTo:F("Status",function(H){H=twttr.anywhere.api.util.optify(H);if(this.inReplyToStatusId){return twttr.anywhere.api.models.Status.find(this.inReplyToStatusId,H)}else{H.success(null)}}),flag:D(undefined,function(I){var H,J={id:this.id};if(I.isOurTweet){H="statuses/update_possibly_sensitive";J.possibly_sensitive=(typeof (I.possibly_sensitive)==="undefined")||I.possibly_sensitive}else{H="statuses/flag_possibly_sensitive"}C({options:I,url:H,params:[J],dataSource:["status"]})}),oembed:D(undefined,function(H){var I={url:"http://twitter.com/"+this.user.status_name+"/statuses/"+this.id,lang:H.lang,target:H.target,align:H.align};C({options:H,url:"statuses/oembed",params:[I],dataSource:["status"]})})}).mixin(twttr.anywhere.api.mixins.phoenix.Status);A(E)})});provide("bluejs/models/promptbird",function(A){using(function(){var E=twttr.anywhere.api.util.chainableMethod;var C=twttr.anywhere.api.util.callMethod;var D=null;var H=function(K,J){K=K||{};C({options:J,url:"users/get_prompt",params:[K],dataSource:[""]})};var I=E(D,H);var B=function(K,J){K=K||{};C({options:J,url:"users/dismiss_prompt",params:[K],dataSource:[""]})};var F=E(D,B);var G=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promptbird").statics({getPrompt:I,dismissPrompt:F});A(G)})});provide("bluejs/models/search_result",function(A){using(function(){var C=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchResult").methods(twttr.anywhere.api.mixins.StatusActions);A(B)})});provide("bluejs/models/place",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var E=twttr.anywhere.api.util.aliasMethod;var C=twttr.anywhere.api.util.callMethod;var F=twttr.anywhere.api.util.filterOptions;var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Place").belongsTo("Place","contained_within").statics({find:D("Place",function(H,G){C({options:G,url:"geo/id/:id",params:[H,G],dataSource:["place"]})}),search:D(["Place"],function(H){var I=["lat","long","lon","query","ip","granularity","accuracy","autocomplete","max_results","contained_within","attribute:street_address","require_activity"];var G=F(I,H);C({options:H,url:"geo/search",params:[G],dataSource:["","result","places"]})}),reverseGeocode:D(["Place"],function(J,K,H){var I=["long","accuracy","granularity","max_results"];var G=F(I,H);if(G["long"]){K=G["long"];delete G["long"]}C({options:H,url:"geo/reverse_geocode",params:[twttr.merge({},G,{lat:J,lon:K})],dataSource:["","result","places"]})}),create:D("Place",function(K,M,N,J,H,I){var L=["long","attribute:street_address","accuracy"];var G=F(L,I);if(G["long"]){N=G["long"];delete G["long"]}C({options:I,url:"geo/place",params:[twttr.merge({},G,{token:K,lat:M,lon:N,name:J,contained_within:H})],dataSource:[""]})}),similar:D(["Place"],function(K,L,I,H){var J=["long","contained_within","attribute:street_address","accuracy"];var G=F(J,H);if(G["long"]){L=G["long"];delete G["long"]}C({options:H,url:"geo/similar_places",params:[twttr.merge({},G,{lat:K,lon:L,name:I})],dataSource:["","result","places"]})})});A(B)})});provide("bluejs/models/user_recommendation",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod,B=twttr.anywhere.api.util.callMethod;var D=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserRecommendation").hasOne("User").hasMany("User","connections").statics({hide:C(["UserRecommendation"],function(E,G,F){F.recommended_user_id=E;F.token=G;B({options:F,url:"users/recommendations/hide",params:[F],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.RateUserRecommendation);A(D)})});provide("bluejs/models/suggestion_category",function(A){using(function(){var B=twttr.anywhere.api.util;var C=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SuggestionCategory").hasMany("SuggestionCategory","categories").hasMany("User","users").hasMany("User","sample").statics({getAll:B.chainableMethod(["SuggestionCategory"],function(D){D.localize=true;B.callMethod({options:D,url:"users/suggestions",params:[D],dataSource:[""]})}),randomSample:B.chainableMethod(["User"],function(D){D.localize=true;B.callMethod({options:D,url:"users/suggestions/random",params:[D],dataSource:[""]})})}).methods({members:B.chainableMethod(["User"],function(D){D.localize=true;B.callMethod({options:D,url:"users/suggestions/:slug/members",params:[this.slug,D],dataSource:[""]})})});A(C)})});provide("bluejs/models/related_tweets",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedTweets").hasMany("RelatedResult","results");A(B)})});provide("bluejs/models/related_result",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedResult").hasOne("Status","value");A(B)})});provide("bluejs/util/promoted_content",function(A){using("constants").as(function(C,D){var F=twttr.anywhere.api.util.filterOptions,B=D.promotedContent.linkType;var E=twttr.klass("twttr.anywhere.api.util.PromotedContent",twttr.anywhere.api.util.noop).statics({loggedImpressions:{},logImpression:function(G){if(!this.loggedImpressions[G]){this.loggedImpressions[G]=true;this._logImpressionIdEvent(G,B.DISPLAYED)}},logProfileImageClick:function(G){this._logImpressionIdEvent(G,B.PROFILE_PIC)},logScreenNameClick:function(G){this._logImpressionIdEvent(G,B.SCREEN_NAME)},logPermalinkClick:function(G){this._logImpressionIdEvent(G,B.PERMALINK)},logDismissUser:function(G){this._logImpressionIdEvent(G,B.DISMISS_WITHOUT_REASON)},logShowDetails:function(G){this._logImpressionIdEvent(G,B.DETAIL)},logHashtagClick:function(G,H){H=H.replace(/^#/,"");this._logImpressionIdEvent(G,B.HASHTAG,{q:H})},logUserMentionClick:function(G,H){this._logImpressionIdEvent(G,B.USER_NAME,{username:H})},logUrlClick:function(H,G){this._logImpressionIdEvent(H,B.URL,{src:G})},logDismissUninteresting:function(G){this._logImpressionIdEvent(G,B.DISMISS_UNINTERESTING)},logDismissRepetitive:function(G){this._logImpressionIdEvent(G,B.DISMISS_REPETITIVE)},logDismissSpam:function(G){this._logImpressionIdEvent(G,B.DISMISS_SPAM)},logDismissOther:function(G){this._logImpressionIdEvent(G,B.DISMISS_WITHOUT_REASON)},logFooterProfileClick:function(G){this._logImpressionIdEvent(G,B.FOOTER_PROFILE)},logTrendImpression:function(G,H){this._logPromotedTrendIdEvent(G,"i",H)},logTrendClick:function(G,H){this._logPromotedTrendIdEvent(G,"c",H)},feedback:function(G){var H=F(["impression_id","status_id","reason","comments"],G);callMethod({options:G,url:"promoted_content/feedback",params:[H],dataSource:[""]})},_logPromotedTrendIdEvent:function(G,I,H){if(G&&I){H=$.extend({promoted_trend_id:G},H);this._logEvent(I,H)}},_logImpressionIdEvent:function(I,H,G){if(I&&H){G=$.extend({impression_id:I},G);this._logEvent(H,G)}},_logEvent:function(I,H){var G=twttr.hosts.remote+"/1/promoted_content/"+I+"/log.png?"+$.param(H);(new Image()).src=G}});twttr.klass("twttr.anywhere.api.util.PromotedStore",twttr.anywhere.api.util.noop).statics({get:function(G){return this._store()[G]},putStatus:function(G){var H=G.impressionId;this._store()[H]=this._promotedDataForStatus(G)},putUser:function(G){var H=G.promotedContent.impression_id;this._store()[H]=this._promotedDataForUser(G)},getPromotedUserInstance:function(G,H){var J=twttr.anywhere.api.util.protoExtend;G=J(G);G.attributes=J(G.attributes);G.impressionId=H;G.attributes.impression_id=H;var I=this.get(H);if(I){G.promotedContent=I.promotedContent;G.attributes.promoted_content=I.promotedContent}return G},getPromotedStatusInstance:function(G,H){var J=twttr.anywhere.api.util.protoExtend;var I=this.get(H);G=J(G);G.impressionId=I.impressionId;G.experiments=I.experiments;G.attributes=J(G.attributes);G.attributes.impression_id=I.impressionId;G.attributes.experiments=I.experiments;return G},_promotedDataForStatus:function(G){G=$.extend({},G);return{impressionId:G.impressionId,experiments:G.experiments}},_promotedDataForUser:function(G){G=$.extend({},G);return{promotedContent:G.promotedContent}},_store:function(){this.store=this.store||{};return this.store}});A(E)})});provide("bluejs/models/address_book",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var C=twttr.anywhere.api.util.callMethod;var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.AddressBook").statics({contactsServices:D(undefined,function(E){C({options:E,url:"find_sources/contacts/services",params:[E],dataSource:["","services"]})}),contactsMatches:D(["User"],function(E){C({options:E,url:"find_sources/contacts/matches",params:[E],dataSource:["","users"]})}),contactsOthers:D("",function(E){C({options:E,url:"find_sources/contacts/others",params:[E],dataSource:["","contacts"]})}),followAllContacts:D("",function(E){C({options:E,url:"find_sources/contacts/follow_all",params:[E],dataSource:[""]})}),addContactsToList:D("",function(E,F){C({options:F,url:"find_sources/contacts/add_to_list",params:[{list_id:E}],dataSource:["","user_ids"]})}),sendInvitesByEmail:D(undefined,function(F,E){source=(E&&E.source);C({options:E,url:"users/send_invites_by_email",params:[{addresses:F.join(","),source:source}],dataSource:[""]})})});A(B)})});provide("bluejs/models/promo",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var C=twttr.anywhere.api.util.callMethod;var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promo").statics({random:D(undefined,function(F,E){C({options:E,url:"promos/random_json_promo",params:[F],dataSource:[""]})})});A(B)})});provide("bluejs/models/urls",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;var C=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Urls").statics({resolve:D(undefined,function(F,E){B({options:E,url:"urls/resolve",params:[{urls:F}],dataSource:[""]})}),shorten:D(undefined,function(F,E){B({options:E,url:"urls/shorten",params:[{url:F}],dataSource:[""]})}),shortenMultiple:D(undefined,function(F,E){B({options:E,url:"urls/shorten_multiple",params:[{urls:F}],dataSource:[""]})})});A(C)})});provide("bluejs/models/blob",function(A){using(function(){var B=twttr.anywhere.api.util.aliasMethod;var C=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Blob").methods({get:function(D){D(this)}});A(C)})});provide("bluejs/models/device",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;var D=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Device").statics({list:C(null,function(E){B({options:E,url:"devices/list",params:[],dataSource:[""]})}),carriers:C("Blob",function(E){B({options:E,url:"devices/carriers",params:[E],dataSource:["carriers"]})}),create:C(null,function(F,E){B({options:E,url:"devices/create",params:[F],dataSource:[""]})}),destroy:C(null,function(F,E){B({options:E,url:"devices/destroy",params:[{id:F}],dataSource:[""]})})});A(D)})});provide("bluejs/models/download",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;var D=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Download").statics({apps:C("",function(E,F){B({options:E,url:"download/apps",params:[{lang:F}],dataSource:[""]})}),sendLink:C("",function(F,G,E){B({options:E,url:"download/send_link",params:[{email_or_phone:F,app_id:G}],dataSource:[""]})})});A(D)})});provide("bluejs/models/search",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var C=twttr.anywhere.api.util.callMethod;var B=twttr.anywhere.api.util.defaultTrigger;var E=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Search",function(G){this.constructor.uberclass.call(this,G)}).statics({search:D("SearchStory",function(H,G){C({options:G,url:"i/search",params:[twttr.merge({q:H},G)],dataSource:[""]})}),imageFacets:D(["Status"],function(H,G){twttr.anywhere.api.models.Search._requestFacets("search/image_facets",H,G)}),videoFacets:D(["Status"],function(H,G){twttr.anywhere.api.models.Search._requestFacets("search/video_facets",H,G)}),_requestFacets:function(H,I,G){if(!twttr.is.def(G.include_entities)){G.include_entities=twttr.anywhere.api.config.includeEntities}C({options:G,url:H,params:[twttr.merge({q:I},G)],dataSource:["statuses"]})}});A(E)})});provide("bluejs/models/conversation",function(A){using(function(){var D=twttr.anywhere.api.util.chainableMethod;var F=twttr.anywhere.api.util.aliasMethod;var C=twttr.anywhere.api.util.callMethod;var B=twttr.anywhere.api.util.defaultTrigger;var E=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Conversation",function(G){if(G){twttr.anywhere.api.util.useStringIdentifier(G,"id")}this.constructor.uberclass.call(this,G)}).belongsTo("User");A(E)})});provide("bluejs/models/activity",function(A){using(function(){var E=twttr.anywhere.api.util.chainableMethod;var I=twttr.anywhere.api.util.aliasMethod;var D=twttr.anywhere.api.util.callMethod;var C=twttr.anywhere.api.util.defaultTrigger;var B=twttr.anywhere.api.util.camelize;var G=twttr.anywhere.api.util.BaseCollection;var F={favorite:{sources:"User",targets:"Status",target_objects:null},mention:{sources:"User",targets:"User",target_objects:"Status"},reply:{sources:"User",targets:"Status",target_objects:"Status"},retweet:{sources:"User",targets:"Status",target_objects:"Status"},follow:{sources:"User",targets:"User",target_objects:null},list_member_added:{sources:"User",targets:"User",target_objects:"List"},list_created:{sources:"User",targets:"List",target_objects:null}};var H=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Activity",function(K){if(K.event){K.action=K.event}else{if(K.action){K.event=K.action}}twttr.anywhere.api.models.Base.call(this,K);for(var J in F){this.sync("is_"+J,this.event===J)}this.sync("timestamp",twttr.helpers.parseDateString(this.createdAt))});H.hasMany(function(J){return F[J.event].sources||null},"sources").hasMany(function(J){return F[J.event].targets||null},"targets").hasMany(function(J){return F[J.event].target_objects||null},"targetObjects").statics({classMap:F});A(H)})});provide("bluejs/models/topic_story",function(A){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TopicStory").methods({getId:function(){return this.attributes.query}});A()})});provide("bluejs/models/news_article",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsArticle").hasOne("SocialProof","socialProof").methods({getId:function(){return this.getExpandedUrl()},getDisplayUrl:function(){return this.url.display_url},getExpandedUrl:function(){return this.url.expanded_url},getImage:function(F){for(var C=0,E=this.media.length;C<E;C++){var D=this.media[C];if(D.type==="photo"){return F&&D.media_url_https||D.media_url}}return null}});A()})});provide("bluejs/models/news_story",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsStory").hasMany("NewsArticle","articles").methods({getId:function(){return this.articles.get(0).getId()}});A()})});provide("bluejs/models/user_story",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserStory");B.hasMany("User","users");A(B)})});provide("bluejs/models/tweet_story",function(A){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TweetStory").hasOne("Status","status").methods({getId:function(){return this.status.id}});A()})});provide("bluejs/models/story",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Story",function(D){var C={};$.extend(C,D);C.content=D.data;delete C.data;twttr.anywhere.api.models.Base.call(this,C)}).methods({getId:function(){return this.content.getId()}}).hasOne(function(C){return twttr.util.capitalize(C.type)+"Story"},"content");A(B)})});provide("bluejs/models/search_story",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchStory");B.hasMany("Story","stories");A(B)})});provide("bluejs/models/stories",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Stories");B.hasMany("Story","stories");A()})});provide("bluejs/models/discovery",function(A){using(function(){var C=twttr.anywhere.api.util.chainableMethod;var B=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Discovery",function(D){this.constructor.uberclass.call(this,D)}).statics({discovery:C("Stories",function(D){B({options:D,url:"i/discovery",params:[D],dataSource:[""]})})});A()})});provide("bluejs/models/sports_story",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SportsStory").hasOne(function(C){return twttr.util.capitalize(C.sport)+"SportsEvents"},"events");A()})});provide("bluejs/models/soccer_events",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SoccerSportsEvents").methods({getMatchedEvent:function(){return this.items[this.matchedEventId]},getMatchedEventData:function(){return this.items[this.matchedEventId].event_data},getMatchedTeam:function(D){var C=D?this.getMatchedEventData().home_team:this.getMatchedEventData().away_team;C.team_logo_url=(C.team_logo_url_https&&twttr.isSSL())?C.team_logo_url_https:C.team_logo_url_http;if(!C.team_logo_url){C.team_logo_url=(C.user.profile_image_url_https&&twttr.isSSL())?C.user.profile_image_url_https:C.user.profile_image_url}return C},getMatchState:function(){return this.getMatchedEventData().match_state},getOtherMatchState:function(){var C=this;var D=jQuery.map(this.items,function(F,G){if(F.event_data.match_state.current_status==="scheduled"||G===C.matchedEventId){return null}var E=decodeURIComponent(F.event_data.match_hashtag);return{event_id:G,home_name:F.event_data.home_team.team_name,away_name:F.event_data.away_team.team_name,score:F.event_data.match_state.score,search_path:twttr.router.searchResultsPath({query:E}),live:F.event_data.match_state.current_status=="inprogress",hashtag:E}});return D}});A()})});provide("bluejs/models/social_proof",function(A){using(function(){var B=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SocialProof").hasMany("Status","statuses");A()})});provide("extendAPI",function(A){using().as(function(B){twttr.extendAPI=function(){twttr.API.DirectMessage.extend(function(){this.threadId=this.senderScreenName===twttr.currentUser.screenName?this.recipientScreenName:this.senderScreenName});var D=function(E){var H=E.retweetedStatus;var G=new twttr.API.Status;var F;for(F in E){if(F==="activities"){continue}G[F]=E[F];delete E[F]}for(F in H){E[F]=H[F]}E.retweetingStatus=G;E.wasRetweeted=true;if(twttr.currentUser&&G.user&&G.user.id===twttr.currentUser.id){H.sync("current_user_retweet",{id:G.id})}delete E.retweetingStatus.retweetedStatus;delete E.retweetingStatus.attributes.retweeted_status;C(E)};var C=function(E){if(E.retweetingStatus.isPromoted()){E.attributes.impression_id=E.retweetingStatus.attributes.impression_id;E.attributes.experiments=E.retweetingStatus.attributes.experiments;E.attributes.disclosure_text=E.retweetingStatus.attributes.disclosure_text;E.attributes.disclosure_type=E.retweetingStatus.attributes.disclosure_type;E.impressionId=E.retweetingStatus.impressionId;E.experiments=E.retweetingStatus.experiments;E.disclosureText=E.retweetingStatus.disclosureText;E.disclosureType=E.retweetingStatus.disclosureType;delete E.retweetingStatus.impressionId;delete E.retweetingStatus.experiments;delete E.retweetingStatus.attributes.impression_id;delete E.retweetingStatus.attributes.experiments;delete E.retweetingStatus.disclosureText;delete E.retweetingStatus.disclosureType;delete E.retweetingStatus.attributes.disclosure_text;delete E.retweetingStatus.attributes.disclosure_type}};twttr.API.Status.extend(function(){if(this.isRetweet){D(this)}function F(H){return H===null||(typeof H==="undefined")}this.isReply=!!this.inReplyToStatusId;this.hasGeo=Boolean(!F(this.coordinates)||this.place&&this.place.id);if(this.hasGeo){this.placeName=this.place&&this.place.fullName?this.place.fullName:null}var E=!F(this.coordinates)||(!F(this.place)&&this.place.placeType=="poi");var G=this.entities&&this.entities.places&&this.entities.places.length>0;this.showGeoMap=E&&!G;this.showGeoIcon=E||G});twttr.API.User.extend(function(){var E=twttr.currentUserScreenName===this.screenName;this.is_only_admin_accessible=twttr.isAdmin&&!E&&(this.deactivated_bit||this.suspended||(this["protected"]&&!this.following))});twttr.API.CurrentUser.extend(function(){var E=this;this.hasLists=function(){return E.counts&&(E.counts.lists.owned||E.counts.lists.subscribed)};this.hasSavedSearches=function(){return E.counts&&E.counts.saved_searches}});twttr.API.List.extend(function(){this.isOwnList=twttr.currentUser?twttr.currentUser.id===this.user.id:null});twttr.API.SavedSearch.extend(function(){var E=this.query.match(/^place:([a-f0-9]{16})$/);this.isPlaceSearch=Boolean(E);if(E){this.placeId=E[1]}})};A(twttr.extendAPI)})});provide("bluejs/api",function(A){using("bluejs/init",function(){twttr.anywhere.api.initialize();var B={};twttr.aug(B,twttr.anywhere.api.models);twttr.aug(B,{globalEvents:twttr.anywhere.api.globalEvents});B.setConfig=twttr.anywhere.api.updateConfig;B.getConfig=function(){return twttr.anywhere.api.config};if(!B.util){B.util={}}twttr.aug(B.util,twttr.anywhere.api.util);if(!B._requestCache){B._requestCache=twttr.anywhere.api.cache}A(B)})});provide("$lib/jquery.color.js",function(A){(function(E){E.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(G,F){E.fx.step[F]=function(H){if(H.state==0){H.start=D(H.elem,F);H.end=C(H.end)}H.elem.style[F]="rgb("+[Math.max(Math.min(parseInt((H.pos*(H.end[0]-H.start[0]))+H.start[0]),255),0),Math.max(Math.min(parseInt((H.pos*(H.end[1]-H.start[1]))+H.start[1]),255),0),Math.max(Math.min(parseInt((H.pos*(H.end[2]-H.start[2]))+H.start[2]),255),0)].join(",")+")"}});function C(G){var F;if(G&&G.constructor==Array&&G.length==3){return G}if(F=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(G)){return[parseInt(F[1]),parseInt(F[2]),parseInt(F[3])]}if(F=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(G)){return[parseFloat(F[1])*2.55,parseFloat(F[2])*2.55,parseFloat(F[3])*2.55]}if(F=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(G)){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)]}if(F=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(G)){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)]}return B[E.trim(G).toLowerCase()]}function D(H,F){var G;do{G=E.curCSS(H,F);if(G!=""&&G!="transparent"||E.nodeName(H,"body")){break}F="backgroundColor"}while(H=H.parentNode);return C(G)}var B={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);A();loadrunner.Script.loaded.push("$lib/jquery.color.js")});provide("$lib/modernizr-1.5.js",function(exports){
/*
 * Modernizr JavaScript library 1.5
 * http://www.modernizr.com/
 *
 * Copyright (c) 2009-2010 Faruk Ates - http://farukat.es/
 * Dual-licensed under the BSD and MIT licenses.
 * http://www.modernizr.com/license/
 *
 * Featuring major contributions by
 * Paul Irish  - http://paulirish.com
 */
window.Modernizr=(function(window,doc,undefined){var version="1.5",ret={},enableHTML5=true,docElement=doc.documentElement,mod="modernizr",m=doc.createElement(mod),m_style=m.style,f=doc.createElement("input"),canvas="canvas",canvastext="canvastext",rgba="rgba",hsla="hsla",multiplebgs="multiplebgs",backgroundsize="backgroundsize",borderimage="borderimage",borderradius="borderradius",boxshadow="boxshadow",opacity="opacity",cssanimations="cssanimations",csscolumns="csscolumns",cssgradients="cssgradients",cssreflections="cssreflections",csstransforms="csstransforms",csstransforms3d="csstransforms3d",csstransitions="csstransitions",video="video",audio="audio",input="input",inputtypes=input+"types",svg="svg",smil="smil",svgclippaths=svg+"clippaths",background="background",backgroundColor=background+"Color",canPlayType="canPlayType",localstorage="localStorage",sessionstorage="sessionStorage",applicationcache="applicationCache",webWorkers="webworkers",hashchange="hashchange",crosswindowmessaging="crosswindowmessaging",historymanagement="historymanagement",draganddrop="draganddrop",websqldatabase="websqldatabase",indexedDB="indexedDB",websockets="websockets",smile=":)",tostring=Object.prototype.toString,prefixes=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),tests={},inputs={},attrs={},classes=[],isEventSupported=(function(){var TAGNAMES={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},cache={};function isEventSupported(eventName,element){var canCache=(arguments.length==1);if(canCache&&cache[eventName]){return cache[eventName]}element=element||document.createElement(TAGNAMES[eventName]||"div");eventName="on"+eventName;var isSupported=(eventName in element);if(!isSupported&&element.setAttribute){element.setAttribute(eventName,"return;");isSupported=typeof element[eventName]=="function"}element=null;return canCache?(cache[eventName]=isSupported):isSupported}return isEventSupported})();var _hasOwnProperty=({}).hasOwnProperty,hasOwnProperty;if(typeof _hasOwnProperty!=="undefined"&&typeof _hasOwnProperty.call!=="undefined"){hasOwnProperty=function(object,property){return _hasOwnProperty.call(object,property)}}else{hasOwnProperty=function(object,property){return((property in object)&&typeof object.constructor.prototype[property]==="undefined")}}function set_css(str){m_style.cssText=str}function set_css_all(str1,str2){return set_css(prefixes.join(str1+";")+(str2||""))}function contains(str,substr){return(""+str).indexOf(substr)!==-1}function test_props(props,callback){for(var i in props){if(m_style[props[i]]!==undefined&&(!callback||callback(props[i],m))){return true}}}function test_props_all(prop,callback){var uc_prop=prop.charAt(0).toUpperCase()+prop.substr(1),props=[prop,"Webkit"+uc_prop,"Moz"+uc_prop,"O"+uc_prop,"ms"+uc_prop,"Khtml"+uc_prop];return !!test_props(props,callback)}tests[canvas]=function(){return !!doc.createElement(canvas).getContext};tests[canvastext]=function(){return !!(tests[canvas]()&&typeof doc.createElement(canvas).getContext("2d").fillText=="function")};tests[crosswindowmessaging]=function(){return !!window.postMessage};tests[websqldatabase]=function(){var result=!!window.openDatabase;if(result){try{result=!!openDatabase("testdb","1.0","html5 test db",200000)}catch(err){result=false}}return result};tests[indexedDB]=function(){return !!window[indexedDB]};tests[hashchange]=function(){return isEventSupported(hashchange,window)&&(document.documentMode===undefined||document.documentMode>7)};tests[historymanagement]=function(){return !!(window.history&&history.pushState)};tests[draganddrop]=function(){return isEventSupported("drag")&&isEventSupported("dragstart")&&isEventSupported("dragenter")&&isEventSupported("dragover")&&isEventSupported("dragleave")&&isEventSupported("dragend")&&isEventSupported("drop")};tests[websockets]=function(){return("WebSocket" in window)};tests[rgba]=function(){set_css(background+"-color:rgba(150,255,150,.5)");return contains(m_style[backgroundColor],rgba)};tests[hsla]=function(){set_css(background+"-color:hsla(120,40%,100%,.5)");return contains(m_style[backgroundColor],rgba)};tests[multiplebgs]=function(){set_css(background+":url(//:),url(//:),red url(//:)");return new RegExp("(url\\s*\\(.*?){3}").test(m_style[background])};tests[backgroundsize]=function(){return test_props_all(background+"Size")};tests[borderimage]=function(){return test_props_all("borderImage")};tests[borderradius]=function(){return test_props_all("borderRadius","",function(prop){return contains(prop,"orderRadius")})};tests[boxshadow]=function(){return test_props_all("boxShadow")};tests[opacity]=function(){set_css_all("opacity:.5");return contains(m_style[opacity],"0.5")};tests[cssanimations]=function(){return test_props_all("animationName")};tests[csscolumns]=function(){return test_props_all("columnCount")};tests[cssgradients]=function(){var str1=background+"-image:",str2="gradient(linear,left top,right bottom,from(#9f9),to(white));",str3="linear-gradient(left top,#9f9, white);";set_css((str1+prefixes.join(str2+str1)+prefixes.join(str3+str1)).slice(0,-str1.length));return contains(m_style.backgroundImage,"gradient")};tests[cssreflections]=function(){return test_props_all("boxReflect")};tests[csstransforms]=function(){return !!test_props(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};tests[csstransforms3d]=function(){var ret=!!test_props(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(ret){var st=document.createElement("style"),div=doc.createElement("div");st.textContent="@media ("+prefixes.join("transform-3d),(")+"modernizr){#modernizr{height:3px}}";doc.getElementsByTagName("head")[0].appendChild(st);div.id="modernizr";docElement.appendChild(div);ret=div.offsetHeight===3;st.parentNode.removeChild(st);div.parentNode.removeChild(div)}return ret};tests[csstransitions]=function(){return test_props_all("transitionProperty")};tests[video]=function(){var elem=doc.createElement(video),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('video/ogg; codecs="theora"');var h264='video/mp4; codecs="avc1.42E01E';bool.h264=elem.canPlayType(h264+'"')||elem.canPlayType(h264+', mp4a.40.2"');bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return bool};tests[audio]=function(){var elem=doc.createElement(audio),bool=false;try{if(bool=!!elem.canPlayType){bool=new Boolean(bool);bool.ogg=elem.canPlayType('audio/ogg; codecs="vorbis"');bool.mp3=elem.canPlayType("audio/mpeg;");bool.wav=elem.canPlayType('audio/wav; codecs="1"');bool.m4a=elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")}}catch(e){}return bool};tests[localstorage]=function(){try{return("localStorage" in window)&&window[localstorage]!==null}catch(ex){return false}};tests[sessionstorage]=function(){try{return("sessionStorage" in window)&&window[sessionstorage]!==null}catch(e){return false}};tests[webWorkers]=function(){return !!window.Worker};tests[applicationcache]=function(){var cache=window[applicationcache];return !!(cache&&(typeof cache.status!="undefined")&&(typeof cache.update=="function")&&(typeof cache.swapCache=="function"))};tests[svg]=function(){return !!doc.createElementNS&&!!doc.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};tests[smil]=function(){return !!doc.createElementNS&&/SVG/.test(tostring.call(doc.createElementNS("http://www.w3.org/2000/svg","animate")))};tests[svgclippaths]=function(){return !!doc.createElementNS&&/SVG/.test(tostring.call(doc.createElementNS("http://www.w3.org/2000/svg","clipPath")))};function webforms(){ret[input]=(function(props){for(var i=0,len=props.length;i<len;i++){attrs[props[i]]=!!(props[i] in f)}return attrs})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));ret[inputtypes]=(function(props){for(var i=0,bool,len=props.length;i<len;i++){f.setAttribute("type",props[i]);bool=f.type!=="text";if(bool){f.value=smile;if(/tel|search/.test(f.type)){}else{if(/url|email/.test(f.type)){bool=f.checkValidity&&f.checkValidity()===false}else{bool=f.value!=smile}}}inputs[props[i]]=!!bool}return inputs})("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var feature in tests){if(hasOwnProperty(tests,feature)){classes.push(((ret[feature.toLowerCase()]=tests[feature]())?"":"no-")+feature.toLowerCase())}}if(!ret[input]){webforms()}ret.addTest=function(feature,test){feature=feature.toLowerCase();if(ret[feature]){return }test=!!(test());docElement.className+=" "+(test?"":"no-")+feature;ret[feature]=test;return ret};set_css("");m=f=null;if(enableHTML5&&(function(){var elem=doc.createElement("div");elem.innerHTML="<elem></elem>";return elem.childNodes.length!==1})()){(function(p,e){function q(a,b){if(g[a]){g[a].styleSheet.cssText+=b}else{var c=r[l],d=e[j]("style");d.media=a;c.insertBefore(d,c[l]);g[a]=d;q(a,b)}}function s(a,b){for(var c=new RegExp("\\b("+m+")\\b(?!.*[;}])","gi"),d=function(k){return".iepp_"+k},h=-1;++h<a.length;){b=a[h].media||b;s(a[h].imports,b);q(b,a[h].cssText.replace(c,d))}}function t(){for(var a,b=e.getElementsByTagName("*"),c,d,h=new RegExp("^"+m+"$","i"),k=-1;++k<b.length;){if((a=b[k])&&(d=a.nodeName.match(h))){c=new RegExp("^\\s*<"+d+"(.*)\\/"+d+">\\s*$","i");i.innerHTML=a.outerHTML.replace(/\r|\n/g," ").replace(c,a.currentStyle.display=="block"?"<div$1/div>":"<span$1/span>");c=i.childNodes[0];c.className+=" iepp_"+d;c=f[f.length]=[a,c];a.parentNode.replaceChild(c[1],c[0])}}s(e.styleSheets,"all")}function u(){for(var a=-1,b;++a<f.length;){f[a][1].parentNode.replaceChild(f[a][0],f[a][1])}for(b in g){r[l].removeChild(g[b])}g={};f=[]}for(var r=e.documentElement,i=e.createDocumentFragment(),g={},m="abbr|article|aside|audio|canvas|command|datalist|details|figure|figcaption|footer|header|hgroup|keygen|mark|meter|nav|output|progress|section|source|summary|time|video",n=m.split("|"),f=[],o=-1,l="firstChild",j="createElement";++o<n.length;){e[j](n[o]);i[j](n[o])}i=i.appendChild(e[j]("div"));p.attachEvent("onbeforeprint",t);p.attachEvent("onafterprint",u)})(this,doc)}ret._enableHTML5=enableHTML5;ret._version=version;docElement.className=docElement.className.replace(/\bno-js\b/,"")+" js";return ret})(this,this.document);exports();loadrunner.Script.loaded.push("$lib/modernizr-1.5.js")});provide("$lib/jquery.hashchange.js",function(A){(function(C){var B=(function(){var F={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},D={};function E(G,J){var I=(arguments.length==1);if(I&&D[G]){return D[G]}J=J||document.createElement(F[G]||"div");G="on"+G;var H=(G in J);if(!H&&J.setAttribute){J.setAttribute(G,"return;");H=typeof J[G]=="function"}J=null;return I?(D[G]=H):H}return E})();C.fn.hashchange=function(E){if(B("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7)){this.bind("hashchange",E)}else{var D=location.hash;setInterval(function(){if(D!==location.hash){E(C.Event("hashchange"));D=location.hash}},250)}return this}})(jQuery);A();loadrunner.Script.loaded.push("$lib/jquery.hashchange.js")});provide("$lib/jquery.cookie.js",function(A){jQuery.cookie=function(C,J,M){if(typeof J!="undefined"){M=M||{};if(J===null){J="";M.expires=-1}var F="";if(M.expires&&(typeof M.expires=="number"||M.expires.toUTCString)){var G;if(typeof M.expires=="number"){G=new Date();G.setTime(G.getTime()+(M.expires*24*60*60*1000))}else{G=M.expires}F="; expires="+G.toUTCString()}var L=M.path?"; path="+(M.path):"";var H=M.domain?"; domain="+(M.domain):"";var B=M.secure?"; secure":"";document.cookie=[C,"=",encodeURIComponent(J),F,L,H,B].join("")}else{var E=null;if(document.cookie&&document.cookie!=""){var K=document.cookie.split(";");for(var I=0;I<K.length;I++){var D=jQuery.trim(K[I]);if(D.substring(0,C.length+1)==(C+"=")){E=decodeURIComponent(D.substring(C.length+1));break}}}return E}};A();loadrunner.Script.loaded.push("$lib/jquery.cookie.js")});provide("$lib/jquery.tipsy.js",function(A){(function(C){function B(E,D){this.$element=C(E);this.options=D;this.enabled=true;this.fixTitle()}B.prototype={show:function(){var G=this.getTitle();if(G&&this.enabled){var F=this.tip();F.find(".tipsy-inner")[this.options.html?"html":"text"](G);F[0].className="tipsy";F.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var J=C.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var D=F[0].offsetWidth,I=F[0].offsetHeight;var H=(typeof this.options.gravity=="function")?this.options.gravity.call(this.$element[0]):this.options.gravity;var E;switch(H.charAt(0)){case"n":E={top:J.top+J.height+this.options.offset,left:J.left+J.width/2-D/2};break;case"s":E={top:J.top-I-this.options.offset,left:J.left+J.width/2-D/2};break;case"e":E={top:J.top+J.height/2-I/2,left:J.left-D-this.options.offset};break;case"w":E={top:J.top+J.height/2-I/2,left:J.left+J.width+this.options.offset};break}if(H.length==2){if(H.charAt(1)=="w"){E.left=J.left+J.width/2-15}else{E.left=J.left+J.width/2-D+15}}F.css(E).addClass("tipsy-"+H);if(this.options.fade){F.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{F.css({visibility:"visible",opacity:this.options.opacity})}if(this.options.className){F.addClass(this.options.className)}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){C(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var D=this.$element;if(D.attr("title")||typeof (D.attr("original-title"))!="string"){D.attr("original-title",D.attr("title")||"").removeAttr("title")}},getTitle:function(){var F,D=this.$element,E=this.options;this.fixTitle();var F,E=this.options;if(typeof E.title=="string"){F=D.attr(E.title=="title"?"original-title":E.title)}else{if(typeof E.title=="function"){F=E.title.call(D[0])}}F=(""+F).replace(/(^\s*|\s*$)/,"");return F||E.fallback},tip:function(){if(!this.$tip){this.$tip=C('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};C.fn.tipsy=function(H){if(C.browser.msie&&C.browser.version<9){return this}if(H===true){return this.data("tipsy")}else{if(typeof H=="string"){var J=this.data("tipsy");if(J){J[H]()}return this}}H=C.extend({},C.fn.tipsy.defaults,H);if(H.stopThat){this.each(function(){G(this).hide()});return }function G(L){var M=C.data(L,"tipsy");if(!M){M=new B(L,C.fn.tipsy.elementOptions(L,H));C.data(L,"tipsy",M)}return M}function K(){var L=G(this);L.hoverState="in";if(H.delayIn==0){L.show()}else{L.fixTitle();setTimeout(function(){if(L.hoverState=="in"){L.show()}},H.delayIn)}}function F(){var L=G(this);L.hoverState="out";if(H.delayOut==0){L.hide()}else{setTimeout(function(){if(L.hoverState=="out"){L.hide()}},H.delayOut)}}if(!H.live){this.each(function(){G(this)})}if(H.trigger!="manual"){var D=H.live?"live":"bind",I=H.trigger=="hover"?"mouseenter":"focus",E=H.trigger=="hover"?"mouseleave":"blur";this[D](I,K)[D](E,F)}return this};C.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};C.fn.tipsy.elementOptions=function(E,D){return C.metadata?C.extend({},D,C(E).metadata()):D};C.fn.tipsy.autoNS=function(){return C(this).offset().top>(C(document).scrollTop()+C(window).height()/2)?"s":"n"};C.fn.tipsy.autoWE=function(){return C(this).offset().left>(C(document).scrollLeft()+C(window).width()/2)?"e":"w"}})(jQuery);A();loadrunner.Script.loaded.push("$lib/jquery.tipsy.js")});provide("$lib/jquery.cssanimation.js",function(A){(function(C){var B=/([A-Z])/g;C.fn.stopCssAnimation=function(){this.each(function(){var E=C(this);var G=E.data("cssAnimatedProps");var D=window.getComputedStyle(this,null);var F={};for(var I in G){I=I.replace(B,"-$1").toLowerCase();F[I]=D.getPropertyValue(I)}E.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""});for(var I in F){E.css(I,F[I])}E.data("cssAnimatedProps",null);var H=E.data("cssTimeoutId");if(H!=null){clearTimeout(H);E.data("cssTimeoutId",null)}})};C.fn.animateWithCss=function(H,E,G,L){var J=jQuery.speed(E,G,L);if(jQuery.isEmptyObject(H)){return this.each(J.complete)}var F={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out"};J.easing=J.easing||"swing";J.easing=F[J.easing]?F[J.easing]:J.easing;this.each(function(){C(this).data("cssAnimatedProps",H);var O=window.getComputedStyle(this,null);for(var P in H){P=P.replace(B,"-$1").toLowerCase();C(this).css(P,O.getPropertyValue(P))}});var N=[];for(var D in H){N.push(D)}var K=N.length?N.join(","):"all";this.css({"-moz-transition-property":K,"-moz-transition-duration":J.duration+"ms","-moz-transition-timing-function":J.easing,"-webkit-transition-property":K,"-webkit-transition-duration":J.duration+"ms","-webkit-transition-timing-function":J.easing});this.css(H);var M=this;var I=setTimeout(function(){M.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""});M.data("cssAnimatedProps",null);M.data("cssTimeoutId",null);if(jQuery.isFunction(J.complete)){J.complete.apply(M)}},J.duration);this.data("cssTimeoutId",I);return this}})(jQuery);A();loadrunner.Script.loaded.push("$lib/jquery.cssanimation.js")});provide("IFrame",function(A){using().as(function(B){twttr.provide("twttr.IFrame");twttr.IFrame=(function(){var J="<!DOCTYPE html><html><head>",H="</head><body>",G="</body></html>";var I=function(M,N){for(var L in N){M[L]=N[L]}return M};function C(){var L=["webkit","mozilla","opera","msie"];for(var M=0;M<L.length;M++){if($.browser[L[M]]){return L[M]}}}var K=function(L){return jQuery.map(L||[],function(N,M){return'<link rel="stylesheet" href="'+N+'" type="text/css">'}).join("")};var D=0;var E=function(L){if(!L){return""}D=L.length;return jQuery.map(L||[],function(N,M){return"<script "+($.browser.msie?"onReadyStateChange":"onLoad")+'="scriptReady(this);" type="text/javascript" src="'+N+'"><\/script>'}).join("")};var F=function(V){var L=V.window.document,S=this,U=$('<iframe allowtransparency="true" frameborder="0" tabindex="-1" role="presentation" scrolling="no"/>',L),P=U[0],O=V.complete,T=V.content,R=$.browser;if(V.css){U.css(V.css)}this.node=P;var M=function(){this.window=this.contentWindow=P.contentWindow;this.$node=U;$(P.contentWindow.document.body).addClass(C());var X=I(function(Y){return $(Y,P.contentWindow.document)},$);this.jQuery=X;try{if(!this.window.jQuery){this.window.jQuery=X;this.window.$=X}}catch(W){}O(this)};if(T){if(twttr.is.string(T)){if(O){U.bind("load",twttr.bind(this,function(){U.unbind("load");M.call(this)}))}P.src=T}else{var N="";if(R.mozilla){P.src="javascript:"+(new Date()).getTime()+";'';"}if(R.msie&&V.domain){P.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\""+document.domain+"\\\";<\\\\/script>\\');document.close();};<\/script>'";N='<script>document.domain = "'+V.domain+'";<\/script>'}U.bind("load",twttr.bind(this,function(Z){U.unbind("load");P.contentWindow.document.scriptReady=function(a){if(a.readyState&&(a.readyState=="loaded"||a.readyState=="complete")||!$.browser.msie){D--;if(!D){M.call(X)}}};var Y=P.contentWindow.document,W=J+N+K(T.css)+(T.styles?'<base href="'+twttr.assets.path("/")+'"><style type="text/css">'+T.styles+"</style>":"")+H+(T.body||"")+G;var X=this;Y.open();Y.write(W);Y.close();if(!D){M.call(X)}}))}var Q=V.parentNode;if(typeof V.parentNode=="string"){Q=$(V.parentNode,L)}else{Q=V.parentNode}U[V.insert||"appendTo"](Q||L.body)}};return{create:function(L,M){L=I({window:window,complete:M},L);return(new F(L)).node}}}());A(twttr.IFrame)})});provide("util",function(A){using("run/base").as(function(C){var E=null;var G=/([a-zA-Z0-9])([A-Z])/g;var F=/_(.)/g;var D=/\?(.*)/;var B={supplant:function(){var H=/\{([^\{\}]*)\}/g;return function(I,J){return I.replace(H,function(L,K){var M=J[K];return twttr.is.string(M)||twttr.is.number(M)?M:L})}}(),joinPath:function(I,H){if(I.substr(-1)==="/"){return I+H}else{return I+"/"+H}},defaulted:function(I,H){return twttr.is.def(I)?I:H},create:function(H){function I(){}I.prototype=H;I.constructor=I;return new I()},params:function(I){if(!I&&E){return E}var J={};var H=I||window.location.search;if(!H){return J}if(H.charAt(0)==="?"){H=H.slice(1)}twttr.each(H.split("&"),function(M){M=M.split("=");var L=M.shift();var K=decodeURIComponent(M.join("="));J[L]=K.replace(/\+/," ")});if(!I){E=J}return J},paramsFromUrl:function(H){if(!H||H.indexOf("?")<0){return null}return B.params(H.split(D)[1])},underscore:function(H){if(H.toUpperCase()===H){return H}return H.replace(G,function(I,K,J){return(K+"_"+J)}).toLowerCase()},camelize:function(H){return H.replace(F,function(I,J){return J.toUpperCase()})},camelizeObject:function(I){if(!twttr.is.object(I)){throw new Error("The carmelizeObject() method only accepts apples.")}var H={};for(var J in I){H[B.camelize(J)]=I[J]}return H},capitalize:function(H){return H.charAt(0).toUpperCase()+H.substr(1)},addCommas:function(I,H){H=H||",";return parseInt(I,10).toString().replace(/(.)(?=(.{3})+$)/g,"$1"+H)},_numberFormats:{de:{grouping_separator:"."},en:{grouping_separator:","},es:{grouping_separator:"."},fr:{grouping_separator:" "},it:{grouping_separator:"."},ja:{grouping_separator:","},pt:{grouping_separator:"."},tr:{grouping_separator:"."},nl:{grouping_separator:"."},id:{grouping_separator:"."}},formatNumber:function(J,I){var H=",";if(twttr.is.def(I)&&B._numberFormats[I]){H=B._numberFormats[I]["grouping_separator"]}return B.addCommas(J,H)},diff:function(H,J,I){var L={};if(!twttr.is.object(H)||!twttr.is.object(J)){throw new Error("util.diff currently supports only single-level object comparison")}for(var K in H){if(I){if(!I(H[K],J[K])){L[K]=[H[K],J[K]]}}else{if(H[K]!==J[K]){L[K]=[H[K],J[K]]}}}for(var K in J){if(!L[K]){if(I){if(!I(J[K],H[K])){L[K]=[H[K],J[K]]}}else{if(H[K]!==J[K]){L[K]=[H[K],J[K]]}}}}return L},trim:function(H){return H.replace(/(^\s*|\s*$)/g,"")},lazyBind:(function(){var I={};var L=function(M){return setInterval(function(){$.each(I[M],function(N,O){O.callback.call(O.node,O.event)});I[M]={}},M)};var J={};var H=0;var K=0;return function(P,O,Q,N){N=N||1000;I[N]=I[N]||{};var M=$(P);if(!Q.id){Q.id=++H}if(!M.data("lazy-id")){M.data("lazy-id",K++)}M.bind(O,function(S){var R=M.data("lazy-id")+O+Q.id;I[N][R]={callback:Q,event:S,node:P}});if(!J[N]){J[N]=L(N);if(!$.browser.msie&&!twttr.selenium){$(window).bind("blur",function(R){if(J[N]){clearInterval(J[N]);J[N]=null}});$(window).bind("focus",function(){if(!J[N]){J[N]=L(N)}})}}}})(),displayLength:function(H){if(typeof H!=="string"){throw new Error("displayLength() requires a single input of type string")}var I=0,J=0;var K=function(P,L){var O=P.charCodeAt(L);var M="",N="";if(55296<=O&&O<=56319){if(P.length<=(L+1)){throw"High surrogate without following low surrogate"}M=P.charCodeAt(L+1);if(56320>M||M>57343){throw"High surrogate without following low surrogate"}return P.charAt(L)+P.charAt(L+1)}else{if(56320<=O&&O<=57343){if(L===0){throw"Low surrogate without preceding high surrogate"}N=P.charCodeAt(L-1);if(55296>N||N>56319){throw"Low surrogate without preceding high surrogate"}return false}else{if(8206==O||8207==O){return false}}}return P.charAt(L)};for(I=0,J=0;I<H.length;I++){if(K(H,I)===false){continue}J++}return J},objKeys:function(I){var H=[];for(var J in I){if(Object.prototype.hasOwnProperty.call(I,J)){H.push(J)}}return H},arrayUniq:function(H){var I=0;while(I<H.length){if($.inArray(H[I],H)<I){H.splice(I,1)}else{I++}}return H},arrayMap:function(I,L){var H=[];for(var K=0,J=I.length;K<J;++K){H.push(L.call(I[K],I[K],K,I))}return H},linkifyEntities:function(I,H){if(H.entities&&H.entities.urls){twttr.each(H.entities.urls,function(J){if(J.display_url){I=I.replace(new RegExp(">"+B.escapeRegExpChars(h(J.url))+"<\\/a>"),">"+h(J.display_url)+"</a>")}if(J.expanded_url){I=I.replace(new RegExp("(href=[\"']"+B.escapeRegExpChars(h(J.url))+"[\"'])"),'$1 data-expanded-url="'+h(J.expanded_url)+'" title="'+h(J.expanded_url)+'"')}})}if(H.entities&&H.entities.media&&H.entities.media.length>0){twttr.each(H.entities.media,function(L){var K=H.text.substring(L.indices[0],L.indices[1]);if(L.display_url){var M="";if(L.sizes&&L.sizes.medium){var J=L.sizes.medium;M=' data-media-h="'+h(J.h)+'" data-media-w="'+h(J.w)+'"'}I=I.replace(new RegExp(">"+B.escapeRegExpChars(h(K))+"<\\/a>"),M+' data-twitter-media-url="true">'+h(L.display_url)+"</a>")}if(L.expanded_url){if(twttr.domains.local.indexOf("staging")===0){var N=L.expanded_url.replace(/http[s]?:\/\/twitter.com/,"//"+twttr.domains.local);I=I.replace(new RegExp("(href=[\"']"+B.escapeRegExpChars(h(K))+"[\"'])"),'href="'+h(N)+'" data-expanded-url="'+h(L.expanded_url)+'" title="'+h(L.expanded_url)+'"')}else{I=I.replace(new RegExp("(href=[\"']"+B.escapeRegExpChars(h(K))+"[\"'])"),'$1 data-expanded-url="'+h(L.expanded_url)+'" title="'+h(L.expanded_url)+'"')}}})}return I},linkify:function(J){var I=twttr.decider.isAvailable(twttr.loggedIn?"swift_profile":"swift_profile_logged_out");var H=twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(J,{hashtagClass:"twitter-hashtag pretty-link",urlClass:" ",hashtagUrlBase:"/#!/search/%23",hash:"<s>#</s>",preText:"<b>",postText:"</b>",extraHtml:' data-query-source="'+twttr.search.searchQuerySource.HASHTAG+'"'}),{urlClass:"twitter-timeline-link",target:"_blank"}),{usernameClass:"twitter-atreply pretty-link",usernameUrlBase:I?"/":"/#!/",listClass:"twitter-listname",urlClass:" ",preChunk:"<b>",postChunk:"</b>"});return H.replace(/([@]+)(<[^>]*>)/g,"$2<s>$1</s>")},queryHighlight:function(I,K){var H=I.replace(/"/gi,"");var J=K.replace(/<[^>]+>/g,"");return twttr.txt.hitHighlight(K,B.highlightIndices(H,J),{tag:"strong"})},escapeRegExpChars:(function(){var H="\\/{}|()[]?.*+:^$";specialCharsMatcher=new RegExp("((\\"+H.split("").join(")|(\\")+"))","gi");return function(I){return I.replace(specialCharsMatcher,function(J,K){return"\\"+K})}}()),normalizeCharacters:function(H){return H.replace(/[]/g,function(I){switch(I){case"":return"AE";case"":return"AA";case"":case"":return"OE";case"":return"UE";case"":return"ae";case"":return"aa";case"":case"":return"oe";case"":return"ue";case"":return"AE";case"":return"ae";case"":return"ss";default:return I}})},highlightIndices:function(M,K){M=B.escapeRegExpChars(M);var L=M.split(/\s+/);var I=[];for(var O in L){I.push(B.normalizeCharacters(L[O]))}var P=[];var N="("+L.join(")|(")+")|("+I.join(")|(")+")";var H="!#%&+,-./:;<=>?@^_{|}~".split("").join("\\");var J=new RegExp("(^|\\b|\\W|["+H+"])("+N+")(\\b|\\s|$|["+H+"])","gi");K.replace(J,function(Q,S,R){var T=arguments[arguments.length-2]+S.length;P.push([T,T+R.length])});return P},inspect:function(I){console.clear();var J=$(I);var O=J.data("events");var H=0;var N=0;var L=[];var K=[];for(key in O){L.push(key);H++;K.push("\n*******************\n");K.push("Events for "+key+"\n\n");for(fn in O[key]){var M=O[key][fn];N++;K.push(M.toSource()+"\n")}}console.log("************* Summary *************");console.log("for target",J);console.log(H+" types of events",L);console.log(N,"Total Event Listeners");console.log("Event listeners assigned to target");console.log(K.join(" "))},regexSupplant:function(I,H){H=H||"";if(typeof I!=="string"){if(I.global&&H.indexOf("g")<0){H+="g"}if(I.ignoreCase&&H.indexOf("i")<0){H+="i"}if(I.multiline&&H.indexOf("m")<0){H+="m"}I=I.source}return new RegExp(I.replace(/#\{(\w+)\}/g,function(K,J){var L=twttr.regexps[J]||"";if(typeof L!=="string"){L=L.source}return L}),H)},leven:function(P,N){var L,M;var H=P.length;var I=N.length;if(!H){return I}if(!I){return H}var O=[];for(var K=0;K<=H;K++){O[K]=[];O[K][0]=K}for(var J=0;J<=I;J++){O[0][J]=J}for(var K=1;K<=H;K++){L=P.charAt(K-1);for(var J=1;J<=I;J++){O[K][J]=Math.min(O[K-1][J]+1,O[K][J-1]+1,O[K-1][J-1]+(L==N.charAt(J-1)?0:1))}}return O[H][I]},uriRegex:new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)?(?:\\?([^#]*))?(?:#(.*))?$","i"),noopInT1:function(){},noopInP1:function(){}};B.Location=twttr.klass(function(I){if(I.match(/^\/\//)){I="http:"+I}else{if(!I.match(/^[a-z]+:\/\//)){I="http://"+I}}var H=I.match(/^([a-z]+:)\/\/([\w\-\.]+)(\:\d+)?(.+)?/);this.href=I;this.protocol=H[1];this.hostname=H[2];this.host=H[2]+(H[3]||"");this.port=H[3]?H[3].slice(1):H[1]==="https:"?"443":"80";var J=H[2].match(/\.(\w+)$/);if(J){this.extension=J[1]}else{this.ext=""}if(!H[4]){this.hash="";this.search="";this.pathname="/"}else{if(!H[4].match(/^\//)){H[4]="/"+H[4]}var K=H[4].split("?");var L=H[4].split("#");this.pathname=K[0];if(!((/\/$/).test(this.pathname))){this.pathname=this.pathname+"/"}this.search=K.length>1?"?"+(function(){K.shift();return K.join("").replace(/#.*$/,"")}()):"";this.hash=L.length>1?"#"+L[1]:""}}).methods({query:function(H){if(!this.search){return""}return B.params(this.search)[H]||""}});B.WaitQueue=twttr.klass(function(){this._methods=[];this._response=null;this._flushed=false}).methods({add:function(H){if(this._flushed){H(this._response)}else{this._methods.push(H)}},flush:function(H){if(this._flushed){return }this._response=H;this._flushed=true;while(this._methods[0]){this._methods.shift()(H)}}});twttr.provide("twttr.util",B);A(B)})});provide("constants",function(A){using().as(function(B){var C={sessionPollInterval:10000,directMessagePollInterval:90000,defaultScribeCategory:"webclient",scribeHostName:"scribe.twitter.com",maxUrlLength:2083,tcoLength:20,japaneseAdUrl:"//pages.quantumads.com/transformer/async.js?callback=twttr.components.JapaneseAd.callbacks.",japaneseAdIframeUrl:"//web-jp.ad-v.jp/adam/detect?tag=htm&cat=twitter.all&format=side_banner",keyCodes:{enter:13,escape:27,esc:27,tab:9,del:8,spacebar:32,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39},which:{period:46},charCodes:{space:32,questionMark:63},placeTypes:{city:7},promotedContent:{linkType:{URL:1,PROFILE_PIC:2,SCREEN_NAME:3,HASHTAG:4,USER_NAME:5,DISPLAYED:27,DETAIL:28,DISMISS_WITHOUT_REASON:31,DISMISS_UNINTERESTING:32,DISMISS_REPETITIVE:33,DISMISS_SPAM:34,DISMISS_OTHER:35,FOOTER_PROFILE:36,PERMALINK:40}},videos:{widescreen:"16:9",fullscreen:"4:3"},jQueryEvents:("blur hover focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),errorCodes:{notFollowing:"NotFollowingErrorMessage",duplicateTweet:"DuplicateTweetErrorMessage",malwareTweet:"MalwareErrorMessage",dailyLimit:"DailyLimitErrorMessage",tooLongTweet:"TooLongErrorMessage",whale:"DefaultErrorMessage",otherUserSuspended:"OtherUserSuspendedErrorMessage",suspended:"SuspendedErrorMessage",permission:"PermissionErrorMessage",photoTimeout:"PhotoTimeoutErrorMessage",followingLimitReached:"FollowingLimitReachedErrorMessage",blockedFromFollowing:"BlockedFromFollowingErrorMessage",tooLongListName:"TooLongListNameErrorMessage",tooLongListDescription:"TooLongListDescriptionErrorMessage",noLetterStartListName:"NoLetterStartListNameErrorMessage",userNotFound:"UserNotFoundErrorMessage",tweetNotFound:"TweetNotFoundErrorMessage"},regexps:{name:/\S+/,usernameForSignup:/^[@]?([a-zA-Z0-9_]{1,15})$/,username:/^[@]?([a-zA-Z0-9_]{1,22})$/,usernameWithAt:/^[@]{1}([a-zA-Z0-9_]{1,22}) /,usernameWithSpace:/^[@]{1}(\w{1,22})\s*$/,suggestionCategoryPath:/\/(who_to_follow|welcome)\/interests\/([^\/]+)/,userSearchPath:/(\/(who_to_follow|welcome)\/search\/|\/search\/users\/)([^\/]+)/,email:/^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,rtlChar:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/mg,dirMark:/\u200e|\u200f/mg},recaptcha:{srcUrl:twttr.recaptchaUrlForTest||"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",publicKey:"6LfbTAAAAAAAAE0hk8Vnfd1THHnn9lJuow6fgulO"},noob:{dismissed:-2,notNoob:-1,total:0,invited:1,friendless:2,silent:3,talking:4,popular:5,lonely:6,struggling:7},imageSizes:{small:"small",medium:"medium",large:"large",original:"original"},slideshow:{fadeOutArrowTimeout:2000,fadeInArrowTimeout:750,fadeAnimationTime:400,photoMinHeight:340,videoMinHeight:390,videoMaxWidth:480},clientEvent:{itemType:{tweet:0,promotedTweet:1,popularTweet:2,user:3,promotedUser:4,activity:5,message:6,story:7}},media:{photoIcon:"photo"},users:{maxLookupSize:100},scribe:{CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2}};twttr.constants=C;A(C)})});provide("cache",function(A){using().as(function(B){twttr.provide("twttr.cache");twttr.provide("twttr.caches");twttr.klass("twttr.cache.Simple",function(){this._cache={}}).methods({set:function(E,D,C){this._cache[E]={value:D,expire:twttr.is.number(C)?this._getTime()+C:null};var F=this._writeThrough();if(F===false){this.remove(E)}return D},get:function(C){this._checkExpiry(C);return this._cache[C]?this._cache[C].value:undefined},remove:function(C){delete this._cache[C];this._writeThrough()},clear:function(){this._cache={};this._writeThrough()},_checkExpiry:function(C){if(this._cache[C]&&this._cache[C].expire&&this._cache[C].expire<this._getTime()){this.remove(C)}},_getTime:function(){return(new Date()).getTime()},_writeThrough:function(){return true}});(function(){var P,X,G=false;try{P=("localStorage" in window)&&window.localStorage!==null;X=("sessionStorage" in window)&&window.sessionStorage!==null;G=true}catch(S){P=false;X=false;G=false}try{if(document.documentElement.addBehavior){G=false;P=true;var W=document.createElement("div");document.body.appendChild(W);W.style.display="none";W.addBehavior("#default#userData");W.load("phoenix");var H=W.xmlDocument;var N=H.documentElement;function U(a){var e=N.childNodes,d,c=null;for(var b=0,Z=e.length;b<Z;b++){d=e.item(b);if(d.getAttribute("key")==a){c=d;break}}return c}function F(Z){var b=U(Z);var a=null;if(b){a=b.getAttribute("value")}return a}function M(Z,b){var a=U(Z);if(!a){a=H.createNode(1,"item","");a.setAttribute("key",Z);a.setAttribute("value",b);N.appendChild(a)}else{a.setAttribute("value",b)}W.save("phoenix");return b}function O(Z){var a=U(Z);if(a){N.removeChild(a)}W.save("phoenix")}function K(){while(N.firstChild){N.removeChild(N.firstChild)}W.save("phoenix")}}}catch(S){P=false}function L(Z){return window.localStorage.getItem(Z)}function Q(a,Z){return window.localStorage.setItem(a,Z)}function Y(Z){return window.localStorage.removeItem(Z)}function V(Z){return window.sessionStorage.getItem(Z)}function I(a,Z){return window.sessionStorage.setItem(a,Z)}function C(Z){return window.sessionStorage.removeItem(Z)}function E(){}var J=E,R=E,D=E,T=E;if(P){J=G?Q:M;R=G?L:F;D=G?Y:O;T=G?Y:K}twttr.klass("twttr.cache.LocalProvider",function(Z){twttr.cache.Simple.call(this);this._namespace=Z;this._cache=JSON.parse(R(Z)||"{}");twttr.cache.LocalProvider._caches.push(this)}).subclassOf(twttr.cache.Simple).statics({hasLocalStorage:P,_caches:[],clearAll:function(){twttr.each(this._caches,function(Z){Z.clear()});this._caches=[]}}).methods({_writeThrough:function(){try{J(this._namespace,JSON.stringify(this._cache));return true}catch(Z){return false}}})}());twttr.klass("twttr.cache.local.User",function(C){this.name=C;this.cache=new twttr.cache.LocalProvider(":USER:");this.user=this.cache.get(C)||this.cache.set(C,{login:(new Date()).getTime(),store:{}});this.clean()}).methods({_getTime:function(){return(new Date()).getTime()},clean:function(){this.user.login=(new Date()).getTime();var H=0;var G=(new Date).getTime();var F=null;for(var E in this.cache._cache){H++;var D=this.cache._cache[E];var C=D.value.login;if(C<G){G=C;F=E}}if(H>3){this.cache.remove(F)}},remove:function(C){delete this.user.store[C];this.save()},get:function(C){var E=this.user.store[C];if(!twttr.is.def(E)){return undefined}var D=this._getTime();if(E.expire&&E.expire<D){return undefined}else{return E.value}},set:function(E,D,C){var F={value:D,expire:twttr.is.number(C)?this._getTime()+C:null};this.user.store[E]=F;this.save();return D},save:function(){this.cache.set(this.name,this.user)}});A({Simple:twttr.cache.Simple,LocalProvider:twttr.cache.LocalProvider,User:twttr.cache.local.User,caches:twttr.caches})})});provide("singletons/namespaced_store",function(A){using().as(function(B){twttr.klass("twttr.cache.NamespacedStore",function(C){if(this.cache_key===null){throw ("You need to set a cache key to use a NamespacedStore.")}this.cache=new twttr.cache.LocalProvider(C)}).methods({ttl:60*1000,cache_key:null,clear:function(){this.cache.remove(this.cache_key)},getData:function(){var C=this.cache.get(this.cache_key);try{return JSON.parse(C)}catch(D){return null}},setData:function(C){this.cache.set(this.cache_key,JSON.stringify(C),this.ttl)}});A(twttr.cache.NamespacedStore)})});provide("singletons/promoted_account_store",function(A){using().as(function(B){twttr.klass("twttr.promotedAccountStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_accounts"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:60*1000,cache_key:"promoted_account",getAccount:function(){return this.getData()},hasAccount:function(){return !!this.getAccount()},setAccount:function(D,C){var E={id:D,impressionId:C};this.setData(E)}});twttr.promotedAccountStore=new twttr.promotedAccountStoreSingleton();A(twttr.promotedAccountStore)})});provide("singletons/promoted_tweet_store",function(A){using("libwrap/jquery").as(function(B,C){var D="h";twttr.klass("twttr.promotedTweetStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_tweets"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:30*60*1000,cache_key:"promoted_tweet",clear:function(){this.constructor.uber.clear.apply(this,arguments);C.cookie(D,null)},getTweetInfo:function(){if(!twttr.decider.isAvailable("ptw_reinjection")){return null}return this.getData()},hasTweetInfo:function(){if(!twttr.decider.isAvailable("ptw_reinjection")){return false}return !!this.getTweetInfo()},setTweetInfo:function(E,H,F){if(!twttr.decider.isAvailable("ptw_reinjection")){return }var I=[H.promoted_status.id_str,E,F?"po":"pr"].join(","),G=new Date();G.setTime(G.getTime()+this.ttl);var H={olderTweetId:E,data:H};this.setData(H);C.cookie(D,I,{expires:G})}});twttr.promotedTweetStore=new twttr.promotedTweetStoreSingleton();A(twttr.promotedTweetStore)})});provide("decider",function(A){using("util").as(function(B){twttr.klass("twttr.Decider",function(D,C){D=D||{};this._updateFeatures(D);C=C||this.constructor.DEFAULT_REFRESH_INTERVAL;setInterval(twttr.bind(this,this.updateFeatures),C)}).statics({DECIDER_URL:"/account/available_features",DEFAULT_REFRESH_INTERVAL:180000}).methods(twttr.EventProvider).methods({features:function(){return this._features||{}},isActivityEnabled:function(){return this.isAvailable("activity_read")&&this.isAvailable("activity_dark_read")},isExpando:function(){return twttr.expando||twttr.isT1},isInfiniteScroll:function(){return this.isAvailable("infinite_scroll")&&!($.browser.msie&&parseInt($.browser.version,10)<8)},hasInlineReplies:function(){return twttr.decider.isAvailable("inline_reply_box")||twttr.abdecider.choose("inline_reply_box_197")==="reply_box"},isAvailable:function(C){if(twttr.is.fn(C)){return C()}if(this._features){return !!this._features[C]}return false},featureUrl:function(D){var C=(D&&D.spoof_country);if(C){return this.constructor.DECIDER_URL+"?spoof_country="+C}else{return this.constructor.DECIDER_URL}},updateFeatures:function(){var C=twttr.API._requestCache.get("account/available_features",{});if(C){this._updateFeatures(C)}else{this._makeRemoteRequest()}},_makeRemoteRequest:function(C){$.getJSON(this.featureUrl(B.util.params()),twttr.bind(this,function(D){if(D){this._updateFeatures(D)}if(C){C()}}))},_updateFeatures:function(E,D){var H=this._features||{};this._features=E;if(D){return }var G=B.util.diff(H,this._features);for(var C in G){var F={key:C,previous:G[C][0],current:G[C][1]};this.trigger("keyChanged",F)}},goodAtCss:function(){return $.support.boxModel&&!($.browser.msie&&parseFloat($.browser.version)<=6)}});twttr.decider=new twttr.Decider();signal(">decider");A(twttr.decider)})});provide("multiGlobals/scribble",function(A){using("constants").as(function(B){twttr.klass("twttr.ScribeBuffer",function(){if(twttr.ScribeBuffer.instance){throw"This is a singleton, yo"}twttr.ScribeBuffer.instance=this;this.ajax=$.ajax;this.reset()}).methods({getBuffer:"",postBuffer:[],maxLength:null,reset:function(){this.getBuffer="";this.postBuffer=[];var C="q="+(+new Date).toString().slice(-4);this.path="/scribe";this.url=this.path+"?"+C;if(window.location.hostname.match(/^(www\.|[A-Z]{2}\.|^)twitter.com$/i)){this.url=window.location.protocol+"//"+B.constants.scribeHostName+this.url}this.maxLength=((twttr.decider.isAvailable("use_scribe_post")?(twttr.scribeBufferSize||10):1)*B.constants.maxUrlLength)-this.url.length},_isEmpty:function(){return this.getBuffer.length===0&&this.postBuffer.length===0},send:function(C){if(this._isEmpty()){return }if(twttr.decider.isAvailable("use_scribe_post")){this.ajax({url:this.path,data:{log:this.postBuffer},type:"POST",async:!C})}else{(new Image()).src=this.url+this.getBuffer}this.reset()},getPostBufferForForm:function(){var C=this.postBuffer;this.reset();return JSON.stringify(C)},sendReliabilityEvent:function(C){this.ajax({url:this.path,data:{reliability_event:"true"},type:"POST",success:C})},addData:function(H){var D=JSON.stringify(H);var E=this._encodeStringifiedData(D);if(E.length>twttr.ScribeBuffer.instance.maxLength){H=this._truncateData(H);D=JSON.stringify(H);E=this._encodeStringifiedData(D)}if((this.url.length+this.getBuffer.length+E.length)>this.maxLength){this.send()}this.getBuffer+="&"+E;this.postBuffer.push(D);if(window.scribeConsole){var C=window.location.protocol+"//"+window.location.host;try{window.scribeConsole.postMessage(H,C)}catch(I){var G="unserializable scribe data ["+category+"]";window.scribeConsole.postMessage({error:G,event_data:JSON.stringify(H)},C)}}if(twttr.is.array(twttr.allScribeEvents)){twttr.allScribeEvents.push(D);localStorage.twttrAllScribeEvents=JSON.stringify(twttr.allScribeEvents)}if($.cookie("phx_scribe_now")=="1"){var F=this;window.setTimeout(function(){F.send()},0)}},_encodeStringifiedData:function(C){return"log%5B%5D="+encodeURIComponent(C)},_truncateData:function(E){var D={};for(var C in E){if(E.hasOwnProperty(C)&&typeof E[C]!=="object"){D[C]=E[C]}}D._truncated_for_scribe=true;return D}});twttr.klass("twttr.Scribbler",function(E,C,F,G,D){this.expectedToHaveComponent=(arguments.length>0);this.component=E||"";this.contextData=C||{};this.category=F||B.constants.defaultScribeCategory;this.eventPrefix=G||"";this.options=D||{}}).methods({DECIDERED_CATEGORIES:{client_event:1},spawn:function(E,C){var D=twttr.merge({},this.contextData,(E||{}));return new this.constructor(this.component,D,this.category,(C||this.eventPrefix),this.options)},_contextData:function(){return twttr.merge({},this.contextData)},_mapAPIObjectData:function(E){var C={};for(var D in E){if(E[D]&&E[D].array&&twttr.is.array(E[D].array)){C[D]=E[D].array}else{C[D]=E[D]}}return C},_isCategoryAvailable:function(C){return !this.DECIDERED_CATEGORIES[C]||twttr.decider.isAvailable("scribe_"+C)},scribe:function(C,H,G,D){if(this.expectedToHaveComponent&&!this.component){return }if(!twttr.decider.isAvailable("phoenix_scribe")||!this._isCategoryAvailable(G||this.category)){return }D=D||{};H=H||{};if(twttr&&!twttr.loggedIn){H.user_id=0}H.page=twttr.audit.currentPage();H._category_=G||this.category;H.ts=(new Date()).getTime();if(filter=(D.filter||this.options.filter)){H._filter_=D.filter}H=twttr.merge(this._contextData(),H);for(var E in H){if(twttr.is.fn(H[E])){H[E]=H[E].call(this.component,C,H,G)}}if(C){if(twttr.is.fn(this.eventPrefix)){C=this.eventPrefix.call(this.component,C)}else{C=this.eventPrefix+C}var F=twttr.merge({event_name:C},H);twttr.ScribeBuffer.instance.addData(this._mapAPIObjectData(F))}}});(function(){twttr.ScribeBuffer.instance=new twttr.ScribeBuffer();twttr.Scribbler.global=new twttr.Scribbler();window.scribble=twttr.scribble=function(){return twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)};$(window).bind("unload",function(){twttr.ScribeBuffer.instance.send(true)});$(document).delegate("form","submit",function(){if(twttr.decider.isAvailable("scribe_form_piggyback")){var E=$(this).find("input[name='scribe_log']");var D=$(this).find("input[name='reliability_event']");if(E.length&&D.val()!="true"){E.val(twttr.ScribeBuffer.instance.getPostBufferForForm())}}});if(!$.browser.msie){$(window).blur(function(){twttr.ScribeBuffer.instance.send()})}else{document.onfocusout=function(){twttr.ScribeBuffer.instance.send()}}var C=twttr.isPreflight||window.location.host.match(/^(localhost|staging)/gi);if(C&&window.postMessage){$(document).keypress(function(D){if(D.charCode==205&&D.shiftKey&&D.altKey){var E="menubar=no,toolbar=no,personalbar=no,location=no,resizable=yes,status=no,dependent=yes,height=600,width=600,screenX=100,screenY=100,scrollbars=yes";window.scribeConsole=window.open("/scribe/console","scribe_console",E)}})}}());A()})});provide("abdecider",function(A){using("util").as(function(B){twttr.klass("twttr.AbDecider",function(D,C){this._impressions={};this._updateExperiments(D||{});C=C||this.constructor.DEFAULT_REFRESH_INTERVAL;if(C>0){var E=this;setTimeout(function(){setInterval(twttr.bind(E,E.updateExperiments),C)},(C/2))}}).statics({AB_TEST_SCRIBE_CATEGORY:"www_ab_testing",AB_IMPRESSION_EVENT:"ab_test_impression",AB_TEST_IMPRESSION_CLIENT_EVENT:"web:ddg:::experiment",ABDECIDER_URL:"/account/available_ab_buckets",LOG_EVENTS:false,DEFAULT_REFRESH_INTERVAL:-1}).methods(twttr.EventProvider).methods({experiments:function(){return this._experiments||{}},choose:function(D,C){if(!this._experiments){return""}var G=this._experiments[D];if(!G||!G.bucket){return""}var F=G.bucket,E=G.experiment_key;if(!C){if(this._impressions[E]!=F){this._trackInternal(D,this.constructor.AB_IMPRESSION_EVENT);this._impressions[E]=F}$.cookie("ab_sess_"+E,"1",{domain:".twitter.com",expires:(new Date((+new Date)+3600000))})}return F},chooseWithoutImpression:function(C){return this.choose(C,true)},track:function(D,E,C){if(E==this.constructor.AB_IMPRESSION_EVENT||$.cookie("ab_sess_"+D)!="1"){return }this._trackInternal(D,E,C)},updateExperiments:function(){$.getJSON(this.constructor.ABDECIDER_URL,twttr.bind(this,function(C){if(C){this._updateExperiments(C)}}))},_updateExperiments:function(E,D){var F=this._experiments||{};this._experiments=E;if(D){return }var H=B.util.diff(F,this._experiments,function(I,J){if(!I||!J){return false}return I.bucket===J.bucket&&I.version===J.version});for(var C in H){var G={key:C,previous:H[C][0],current:H[C][1]};this.trigger("keyChanged",G)}},set:function(C,D){if(!this._experiments||!this._experiments[C]){return }this._experiments[C]=twttr.merge({},this._experiments[C],{bucket:D})},remove:function(C){this._experiments[C]=null},_trackInternal:function(C,E,D){if(!this._experiments){return }var F=this._experiments[C];if(!F){return }var G=twttr.merge(D||{},{bucket:F.bucket,experiment_key:F.experiment_key,version:F.version});if(this.constructor.LOG_EVENTS){console.log(C+": "+E)}scribble(E,G,twttr.AbDecider.AB_TEST_SCRIBE_CATEGORY);if(twttr.decider.isAvailable("abdecider_new_impression_logging")&&E==this.constructor.AB_IMPRESSION_EVENT){scribble(twttr.AbDecider.AB_TEST_IMPRESSION_CLIENT_EVENT,G,"client_event")}}});twttr.abdecider=new twttr.AbDecider();signal(">ab_decider");A(twttr.abdecider)})});provide("app",function(A){using("util").as(function(B){twttr.provide("twttr.app",twttr.merge({init:function(E){var C=this;this.signal("init");this.$globalActions=$("#global-actions");var D=[">allCodeLoaded"];E&&D.push(">wokeUp");using(D,function(){C._fullyLoaded=true;C.signal("fullyLoaded")})},fullyLoaded:function(){return !!this._fullyLoaded},switchToPage:function(C){this.trigger("switchToPage",C.toLowerCase());if(this.currentPageName()!==C){var G=this.currentPage();this._currentPageName=C;var D=B.util.capitalize(B.util.camelize(C));var E=false,F=this.pages[C];if(!F){F=this.pages[C]=new twttr.PagePromise(D);F.whenUnavailable(function(){twttr.app.switchToPage("404").send("notFound")});F.bind("loginRequired",function(){twttr.ScribeBuffer.instance.send();twttr.app.switchToPage("Login").send("loginRequired")});F.bind("notFound",function(){twttr.app.switchToPage("404").send("notFound")});F.build();E=true}if(G){G.send("onSwitchAway");G.$node.detach();$("#page-container").empty().append(F.$node)}else{F.one("rendered",function(){if($("#page-container").has(F.$node).length>0){}else{$("#page-container").empty().append(F.$node)}})}this.highlightGlobalNav(C);F.send("onSwitchTo");if(E){F.send("onFirstSwitch");F.send("shouldAutoRender",function(H){if(H){F.send("render")}})}if(!G&&window.ttft){window.ttft.firstPage=C}}else{this.currentPage().send("initializeProfiler")}return this.currentPage()},highlightGlobalNav:function(C,D){C=C.toLowerCase();this.$globalActions.find("li.active[data-global-action]").removeClass("active");if(C==="profile"&&D==undefined){D=twttr.helpers.isCurrentUser($("div.profile-header").attr("data-screen-name"))}if(C&&(C!=="profile"||D)){this.$globalActions.find("li[data-global-action='"+C+"']").addClass("active")}},currentPage:function(){return this.pages[this._currentPageName]},currentPageName:function(){return this._currentPageName},getPage:function(C){return this.pages[C]},isOnPage:function(C){return C===this.currentPageName()},recalculatePadding:function(){var C=$("div.js-banners").children().length<=1;if(C){this.resetPadding()}else{this._resizeTopBar()}},_resizeTopBar:function(){var E=20;var D=twttr.isT1?$(".js-banners").height():($(".js-topbar").height()+E);var C=$("#page-outer");C.css({"padding-top":D});if(twttr.isT1){$("#message-drawer").css({marginTop:D})}this._resizeDetailsPane()},_resizeDetailsPane:function(){var C=this.currentPage();if(C){C.send("resizeDetailsPane")}},_repositionDetailsPane:function(){var C=twttr.app.currentPage();if(C){C.send("repositionDetailsPane")}},resetPadding:function(){var C=$("#page-outer");C.css({"padding-top":""});if(twttr.isT1){$("#message-drawer").css({marginTop:""})}this._resizeDetailsPane()},addComponentToAppBody:function(C){C.bind("destroyed",function(){twttr.app.recalculatePadding();twttr.app._repositionDetailsPane()});$("#page-outer").prepend(C.$node)},pages:{},caches:{deletedTweets:new twttr.cache.LocalProvider("deleted_tweets"),dmThreads:new twttr.cache.LocalProvider("dm_threads"),draftTweets:new twttr.cache.LocalProvider("draft_tweets")}},twttr.EventProvider));A(twttr.app)})});provide("singletons/external_url_store",function(A){using().as(function(B){twttr.klass("twttr.externalURLStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["external_urls"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:3600*1000,cache_key:"external_url",minimumDuration:1000,scribeFocusAfterClick:function(){if(!twttr.decider.isAvailable("eurl_dwell_time_store")){return }var D=this.getData();if(D){var E=this.currentTimeAsInt()-D.clickTime;if(E>this.minimumDuration){var C=twttr.merge(D.scribeData,{duration_ms:E});trackClient({action:"refocus"},C);this.clear()}}},setData:function(E,D){if(!twttr.decider.isAvailable("eurl_dwell_time_store")){return }if(this.isNotTwitterURL(E)){var C=twttr.merge(D.scribeData,{event_info:"external_link",url:E});var F={clickTime:this.currentTimeAsInt(),scribeData:C};this.constructor.uber.setData.apply(this,[F])}},isNotTwitterURL:function(C){var D=C.split("/");return(D[0].indexOf("twitter.com")==-1&&D[2].indexOf("twitter.com")==-1)},currentTimeAsInt:function(){return +new Date()}});twttr.externalURLStore=new twttr.externalURLStoreSingleton();twttr.app.waitForSignal("init",function(){twttr.externalURLStore.scribeFocusAfterClick()});A(twttr.externalURLStore)})});provide("singletons/Router",function(A){using().as(function(C){var D=/^\/*/;var B=/\/*$/;twttr.klass("twttr.Router",function(){this._routes=[];this.routeMethodsForMustache={};this.routeMethods={};this.viewedPagesCount=0;this.pageViewsPerRefresh=50;this.routingEnabled=true}).statics(twttr.EventProvider).statics({match:function(J,G){J=this.normalizePath(J);G=this.normalizePath(G);var I={};if(J===G){return I}else{if(J===""){return false}}var F=J.split("/"),E=G.split("/");if(F.length!==E.length){return false}for(var H=0;H<F.length;H++){if(E[H].charAt(0)===":"){if(F[H].match(/^\s*$/)){return false}I[E[H].slice(1)]=decodeURIComponent(F[H])}else{if(F[H]!==E[H]){return false}}}return I},generatePathFunction:function(E){var F=this;return function(H){var G=F.supplantPath(E,H);if(G===false&&!twttr.isTestEnv){console.error("Failed to generate a path",E,H)}return G}},supplantPath:function(J,L){var F=J.split("#").join("/#").split("/"),E=[];for(var I=0;I<F.length;I++){var H=F[I],G=false;if(H.charAt(0)==="#"){H=H.slice(1);G=true}if(H.charAt(0)===":"){var K=H.slice(1);if(typeof L[K]==="undefined"){return false}else{H=L[K];if(typeof H==="function"){H=H.call(L)}H=encodeURIComponent(H)}}if(G){H="#"+H}E.push(H)}return E.join("/").split("/#").join("#")},sanitizeRedirectUrl:function(G){var H=G;var E=H.match(twttr.util.uriRegex);var F=E[1];if(F&&F.indexOf("javascript")>=0){H="http://twitter.com/"}return H},performRedirect:function(E){window.location.assign(this.sanitizeRedirectUrl(E))},getCurrentPath:function(){return this.getPathFromHref(window.location.href)},getPathFromHref:function(G){var J=G.split("/").slice(2).join("/");if(J.indexOf("#")===-1){J=J+"#"}var F=J.split("#");var E=F[0];var I=F[1];if(E.indexOf("/")===-1){E=E+"/"}var H=E.split("/").slice(1).join("/");if(H.indexOf("?")>=0){H=H.slice(0,H.indexOf("?"))}if(I.indexOf("?")>=0){I=I.slice(0,I.indexOf("?"))}return"/"+H+"#"+I},getCurrentQueryStringParams:function(){return this.getQueryStringParamsFromHref(window.location.href)},getQueryStringParamsFromHref:function(G){var H=G.split("#"),E=H[0].split("?")[1]||"",F=(H[1]||"").split("?")[1]||"";return twttr.merge(this.parseQueryString(E),this.parseQueryString(F))},parseQueryString:function(I){var H=I.split("&"),E={};for(var F=0;F<H.length;F++){if(H[F]){var G=H[F].split("=");E[decodeURIComponent(G[0])]=G[1]?decodeURIComponent(G[1].replace(/\+/g,"%20")):true}}return E},getHashUpdate:function(J,I){var E=this.normalizePath(J),F=this.normalizePath(I);if(E===F){return false}J=J.split("/#").join("#");I=I.split("/#").join("#");if(J.indexOf("#")===-1){J+="#"}if(I.indexOf("#")===-1){I+="#"}var G=J.split("#"),H=I.split("#");if(G[0]===H[0]){return"#"+H[1]}if(G[1]===""&&H[1]===""){return"#"+H[0].slice(J.length)}return"#"+F},normalizePath:function(E){return this.trimSlashes(E.replace(/\/?#(!|%21)?\/?/g,"/"))},shouldRedirect:function(H,G){var F=G.split("#"),E=H.split("#");if(this.trimSlashes(F[0])===this.trimSlashes(E[0])){return false}if(this.trimSlashes(F[1])===this.trimSlashes(E[0])){return false}return true},trimSlashes:function(E){return E?E.replace(D,"").replace(B,""):E},detectHistorySupport:function(){return !!(window.history&&history.pushState)}}).methods(twttr.EventProvider).methods({startRouting:function(){this._callCurrentRoutingAction();this._listenToUrl()},route:function(F,H,G){var E=this._addRouteMethods(F,H);this._routes.push({name:F,path:H,fn:G,method:E});return E},staticRoute:function(F,E){var G=this;this.route(F,E,function(){G.constructor.performRedirect(E)})},redirectRoute:function(E,G,H){var F=this;this.route(E,G,function(J,I){F.redirectTo(F.routeMethods[H](J,I))})},redirectTo:function(E){this.performRoute(E,true)},routeTo:function(E){this.performRoute(E,false)},performRoute:function(E,F){if(!this.routingEnabled){return }if(this.pageViewsPerRefresh<=this.viewedPagesCount){return this.constructor.performRedirect(E)}this.viewedPagesCount++;if(!this._useHistory()&&this.constructor.shouldRedirect(this.constructor.getCurrentPath(),E)){return this.constructor.performRedirect(E)}this._changeUrlAndCallAction(E,F)},shouldRedirectTo:function(E){if(this._useHistory()){return false}return this.constructor.shouldRedirect(this.constructor.getCurrentPath(),E)},findMatchingRoute:function(G){for(var F=0;F<this._routes.length;F++){var E=this.constructor.match(G,this._routes[F].path);if(E){return{name:this._routes[F].name,fn:this._routes[F].fn,args:E,method:this._routes[F].method,path:this._routes[F].path}}}return false},getCurrentRoute:function(){return this.findMatchingRoute(this.constructor.getCurrentPath())},_setLocationHash:function(E){if($.browser.safari&&!navigator.userAgent.match(/Chrome/)){window.location.href=(window.location.href.split("#")[0]+E)}else{window.location.hash=E}},replaceHashWithoutRouting:function(E){this.ignoreNextHashChange=true;window.location.hash=E},_changeUrlAndCallAction:function(H,I){if(!this.routingEnabled){return }var F=false,J=false,E=this.findMatchingRoute(H);if(this._useHistory()){if(I){window.history.replaceState(null,null,H)}else{window.history.pushState(null,null,H)}J=true}var G=this.constructor.getHashUpdate(this.constructor.getCurrentPath(),H);if(G){if(I){window.location.replace(H)}else{this._setLocationHash(G);F=true;J=true}}if(!F){this._callRoutingActionFor(E)}this.trigger("routed",[E,H]);if(J){this.trigger("urlChanged",[E])}},_callRoutingActionForPath:function(F){var E=this.findMatchingRoute(F);if(E){this.trigger("routeFollowed",[E,F])}return this._callRoutingActionFor(E)},_callCurrentRoutingAction:function(){return this._callRoutingActionForPath(this.constructor.getCurrentPath())},_callRoutingActionFor:function(E){if(!this.routingEnabled){return }if(!E){this.trigger("routeNotFound");return }return E.fn.call(null,E.args,this.constructor.getCurrentQueryStringParams())},lookupAndNormalizeRoute:function(F){var E=this.findMatchingRoute(F);if(E){return this.routeMethods[E.name](E.args)}return F},_addRouteMethods:function(F,G){var E=this.constructor.generatePathFunction(G),H=F+"Path";this[H]=E;this.routeMethods[F]=E;this.trigger("routeAdded",[H,E]);return E},_listenToUrl:function(){var E=this;$(window).hashchange(function(F){if(E.ignoreNextHashChange){E.ignoreNextHashChange=false;return }E._callCurrentRoutingAction()});if(this.constructor.detectHistorySupport()){$(window).bind("popstate",function(F){if(E._useHistory()){E._callCurrentRoutingAction()}})}},_useHistory:function(){return twttr.secrets&&twttr.secrets.html5Routing&&this.constructor.detectHistorySupport()},_current_path_and_hash:function(){return window.location.pathname+window.location.hash},_current_query_params:function(){return window.location.search},shouldRedirectToCanonicalUrl:function(E){if(!(twttr.loggedIn?twttr.decider.isAvailable("swift_profile"):twttr.decider.isAvailable("swift_profile_logged_out"))){return false}if(E.path&&E.path.indexOf("/:screen_name")==0){if(E.args.screen_name){E.args.screen_name=E.args.screen_name.replace(/^@/,"")}var F=E.method(E.args);var G=(this._current_path_and_hash()).split("?")[0];if(G!=="/"&&G!==F){return F.toLowerCase().replace(/(?=#|$)/,this._current_query_params())}}return false}});A(twttr.Router)})});provide("streams/Stream",function(A){using("_","mixins/serverRenderableObject").as(function(B,C,D){twttr.stream=twttr.klass;var E=twttr.klass("twttr.streams.Stream",function(H,G,F){this.params=H||{};G=G||[];if(G instanceof twttr.API.util.BaseCollection){G=G.array}this.items=G;this.screenName=this.params.screenName;this.newItemsCount=this.items.length;this.itemViewClass=this.params.itemViewClass||this.itemViewClass;this.streamItemClass=this.params.streamItemClass||"stream-item";this.additionalStreamItemClass=this.params.additionalStreamItemClass||this.additionalStreamItemClass;this.oldItemsCount=0;this._page=1;this.focusedItemId=null;this.highlightedItemId=null;this.scribbler=this.params.scribbler||new twttr.Scribbler(false);this.scribeComponentName="stream";this.ignoreScribeItemPosition=true;this.streamManager=F;this.streamManagerDomNodeSelector=F?F.domNodeSelector:null;if(this.params._setHeader){this.methods({_setHeader:H._setHeader})}var I=twttr.views[this.streamViewClass];if(!I){twttr.development&&console.warn("Stream view class '"+this.streamViewClass+"' not found. Defaulting to twttr.views.Stream");I=twttr.views.Stream}this.$node=this.$domNode(function(){return new I({}).$html()});if(twttr.isT1){this.$node.attr("data-component-term",this.scribeComponentName)}}).mixin(D).methods(twttr.EventProvider).methods({domNodeSelector:function(){if(!this.streamManagerDomNodeSelector){return null}var F=this._namespace.match(/\.([^.]+)$/)[1];streamClass=twttr.util.underscore(F)+"-stream";return this.streamManagerDomNodeSelector+" div."+streamClass},NEW_ITEMS_COUNT_MAX:100,NEW_ITEMS_COUNT_CUTOFF:40,_shouldCache:true,_expandable:true,streamViewClass:"Stream",itemViewClass:null,afterSwitchingToAgain:function(F){F?F():$.noop},afterFirstSwitchingTo:function(F){F?F():$.noop},beforeSwitchingAway:function(){},_setTitle:function(){},_getHeaderComponent:function(){},hasPromotedContent:function(){return false},getMoreOldItems:function(H){var F=this;if(this._loadingMoreLock||this.noMoreOldItems||this._errorComponent){return }var G=(this.page||this.cursor||this._sinceId);this.isLoadingMore();using(twttr.bundleMore,function(){F._fetchItems(function(K,I){if(I!==twttr.streams.SUCCESS){F._showError(I)}else{var J=F.items.slice(F.items.length-F.oldItemsCount);if(G&&G>0){F.onGotOldItems(J)}else{F.onGotInitialResults(F.items)}F._showOldItems();F._page++}F.doneLoadingMore();F.updateHeader();if(H){H(K,I)}if(twttr.decider.isInfiniteScroll()){F.showLoadingSpinner()}})})},getCurrentlyFocusedItem:function(){return this.focusedItemId?this.$streamItems().find(this.itemSelector(this.focusedItemId)):null},getCurrentlyHighlightedItem:function(){return this.highlightedItemId?this.$streamItems().find(this.itemSelector(this.highlightedItemId)):null},getFirstItem:function(){return this.$streamItems().find("."+this.streamItemClass+":first")},focusItem:function(F){this.focusedItemId=F.attr("data-item-id");F.focus()},unfocusItem:function(F){this.focusedItemId=null;F.blur()},highlightItem:function(F){var G=this.getCurrentlyHighlightedItem();if(G){G.removeClass("hovered-stream-item").removeClass("js-had-hovered-stream-item")}this.focusedItemId=F.attr("data-item-id");this.highlightedItemId=F.attr("data-item-id");if(F.hasClass("open")){F.addClass("js-had-hovered-stream-item")}else{F.addClass("hovered-stream-item")}},highlightNext:function(){this.shiftHighlight(false)},highlightPrevious:function(){this.shiftHighlight(true)},shiftHighlight:function(G){var H=this.getCurrentlyHighlightedItem();if(!H){this.highlightItem(this.getFirstItem());return }var F=G?H.prev():H.next();if(F.length){this.highlightItem(F);this.scrollStreamTo(F)}},scrollStreamTo:function(F){var G=F.offset().top,H=Math.round(G-(twttr.$win.height()/2));twttr.$win.scrollTop(H)},dom:function(){return this.$node},$streamItems:function(){return this.$find("div.stream-items")},$find:function(){var F=this.dom();return F.find.apply(F,arguments)},itemSelector:function(F){return"."+this.streamItemClass+"[data-item-id='"+F+"']"},selectedItem:function(F){return this.$streamItems().find(this.itemSelector(F))},unshift:function(F){if(twttr.is.array(F)){this.newItemsCount+=F.length;this.items.unshift.apply(this.items,F)}else{this.newItemsCount+=arguments.length;this.items.unshift(arguments)}this.trigger("newItemsCountChanged",[this.newItemsCount])},addAsNewItem:function(F){this.items.unshift(F);this.newItemsCount++;this.allowRerender(F)},push:function(F){if(twttr.is.array(F)){this.oldItemsCount+=F.length;this.items.push.apply(this.items,F)}else{this.oldItemsCount+=arguments.length;this.items.push(arguments)}},splice:function(G,H){var F;if(twttr.is.array(H)){F=[G,0].concat(H);this.items.splice.apply(this.items,F)}else{F=Array.prototype.slice.call(arguments);F.splice(1,0,0);this.items.splice.apply(this.items,F)}},isDuplicate:function(F){var G=this.streamItemId?this.streamItemId(F):F.id;this.itemIds=this.itemIds||{};return !!this.itemIds[G]},allowRerender:function(F){var G=this.streamItemId?this.streamItemId(F):F.id;this.itemIds=this.itemIds||{};delete this.itemIds[G]},_renderItemHtml:function(L){this.itemIds=this.itemIds||{};var I=this.streamItemId?this.streamItemId(L):L.id;this.itemIds[I]=1;var F;if(twttr.is.fn(this.itemViewClass)){F=this.itemViewClass(L)}else{F=twttr.views[this.itemViewClass]}var N=L;if(this.itemForRender&&twttr.is.fn(this.itemForRender)){N=this.itemForRender.call(this,L)}var J=new F(N);J.query=this.params.query||J.query;var K=twttr.views.StreamItem;if(this.itemViewWrapperClass){K=twttr.views[this.itemViewWrapperClass]}var G=this.streamItemClass?[this.streamItemClass]:[];if(this.additionalStreamItemClass){var M=(twttr.is.fn(this.additionalStreamItemClass)?this.additionalStreamItemClass(L):this.additionalStreamItemClass);G.push(M)}function H(){return J.render_withheld&&J.render_withheld()}if(this._expandable&&twttr.decider.isExpando()&&!H()){G.push("expanding-stream-item");if(twttr.expando!==true&&twttr.expando!=="expando"){switch(twttr.expando){case"labels":G.push("yes-to-labels");break;case"more":G.push("more-not-open");break;case"colorful":G.push("colorful-links");break}}}if(H()){G.push("withheld-item")}else{if(J.is_withheld&&J.is_withheld()&&J.is_current_user()){G.push("withheld-own-item")}}return new K({item_html:J.html(),item_id:I,item_type:this.streamItemType,item_class:G.join(" ")}).html()},_renderItemsHtml:function(F){var G=this;var H=[];$.each(F,function(I,J){if(!G.isDuplicate(J)){H.push(G._renderItemHtml(J))}});return H.join("")},_renderItems:function(F){return $(this._renderItemsHtml(F))},remove:function(F){this.selectedItem(F).remove()},rerenderItem:function(G,F){this.selectedItem(G).replaceWith(this._renderItemHtml(F))},_showNewItems:function(I){var G=this.$streamItems();this.beforeShowNewItems();if(this.newItemsCount>this.NEW_ITEMS_COUNT_MAX){G.empty();this.items=this.items.slice(0,this.NEW_ITEMS_COUNT_CUTOFF);this.newItemsCount=this.NEW_ITEMS_COUNT_CUTOFF}var H=this.items.slice(0,this.newItemsCount);var F=this._renderItems(H);if(I=="initial"){this.onGotInitialResults(this.items)}else{if(I!="initial"&&this.newItemsCount>0){this.onGotNewItems(H)}}G.prepend(F);this.onShowNewItems(F);this.newItemsCount=0;this.trigger("newItemsCountChanged",[0])},_showOldItems:function(H){var F=this.$streamItems();this.beforeShowOldItems();var I=this.items.slice(this.items.length-this.oldItemsCount);var G=this._renderItems(I);F.append(G);this.onShowOldItems(G);this.oldItemsCount=0},render:function(){this._showNewItems("initial");this._showOldItems(true)},isEmpty:function(){return this.items.length===0},reachedTheEnd:function(){if(!this.noMoreOldItems){this.noMoreOldItems=true;this.markStreamEnd();this.hideLoadingSpinner();this.trigger("streamEnd")}},markStreamEnd:function(){var F=this;if(this._alreadyMarkedEnd){return }this._alreadyMarkedEnd=true;using(twttr.bundleMore,function(){F.endOfStreamComponent=F.isEmpty()?F._getEmptyStreamComponent():F._getStreamEndComponent();if(F.endOfStreamComponent){F.endOfStreamComponent.$node.appendTo(F.$node)}})},switchEndOfStreamMarker:function(){if(this.endOfStreamComponent){var F=this._getStreamEndComponent();if(F){this.endOfStreamComponent.$node.replaceWith(F.$node);this.endOfStreamComponent=F}}},_showError:function(F){var G=this;using(twttr.bundleMore,function(){G.hideLoadingSpinner();if(G._errorComponent){G._errorComponent.destroy();delete G._errorComponent}var H=G._getStreamErrorComponent(F);if(!H){return }H.bind("tryAgain",function(I){H.destroy();delete G._errorComponent;G.getMoreOldItems()});G._errorComponent=H;H.$node.appendTo(G.dom())})},_getStreamEndComponent:function(){return new twttr.components.StreamEnd(this._getStreamEndHtml(),this._getStreamEndShowBird())},_getEmptyStreamComponent:function(){return new twttr.components.StreamEnd(this._getEmptyStreamHtml())},_getStreamErrorComponent:function(F){if(F===twttr.streams.DECIDER){return new twttr.components.StreamEnd(this._getStreamErrorHtml(F))}else{return new twttr.components.StreamWhaleEnd(this._getStreamWhaleText())}},_getStreamLoadingComponent:function(){return new twttr.views.StreamLoading()},_getStreamWhaleText:function(){return C("Loading seems to be taking a while.")},_getEmptyStreamHtml:function(){},_getStreamEndHtml:function(){if(this.items.length<20){return""}else{return C("<a href='#' class='back-to-top'>Back to top &uarr;</a>")}},_getStreamErrorHtml:function(F){return C("This feature is temporarily unavailable.")},_getStreamEndShowBird:function(){return true},isLoadingMore:function(){this._loadingMoreLock=true;this.showLoadingSpinner()},showLoadingSpinner:function(){var F=this.dom();if(F.find("div.stream-loading").length===0&&!this._alreadyMarkedEnd&&!this._errorComponent){this._getStreamLoadingComponent().render(F,"append")}},stream_user_is_current_user:function(){return twttr.currentUser&&this.screenName&&twttr.currentUser.screenName===this.screenName},doneLoadingMore:function(){this._loadingMoreLock=false;this.hideLoadingSpinner();this.trigger("doneLoadingMore")},hideLoadingSpinner:function(){this.dom().find("div.stream-loading").remove()},onGotInitialResults:function(F){this._scribeResults("initial",F)},onInsertItems:function(F){this._scribeResults("insert",F)},onGotNewItems:function(F){this._scribeResults("get_newer",F)},onGotOldItems:function(F){this._scribeResults("get_older",F)},_scribeResults:function(H,F,G){if($.inArray(H,["initial","error","insert"])==-1){this.scribbler.scribe({component:"stream",action:H},{item_count:F.length,cursor_or_page:this._cursorOrPage()})}},_scribeEmptyResults:function(J,G,I){var K=this._cursorOrPage();if(J=="error"||(J=="initial"&&!G.length)){var F={item_count:0,event_value:0,referring_event:J};if(K){F.cursor_or_page=K}if(J=="error"&&I&&I.status_code){F.status_code=I.status_code}this.scribbler.scribe({component:"stream",action:(J=="error"?"error":"no_results")},F)}else{if(J!="initial"&&J!="insert"){var H={item_count:G.length};if(K){H.cursor_or_page=K}this.scribbler.scribe({component:"stream",action:J},H)}}},_cursorOrPage:function(){return this._sinceId||this.cursor||(this.page&&this.page>0&&this.page)||(this._page&&this._page>0&&this._page)||-1},_registerAddToStreamEvent:function(G,F,I){var H=this;this._registerEvent(G,F,function(){var J=I.apply(this,arguments);if(J){H.addAsNewItem(J);H._showNewItems()}})},_registerRemoveFromStreamEvent:function(H,G,J,F){var I=this;this._registerEvent(H,G,function(){var K=J.apply(this,arguments);if(K){F=F||"id";I.remove(K[F]);I.items=twttr.filter(I.items,function(L){return L[F]!==K[F]?L:null});if(I.isEmpty()){I.reachedTheEnd()}}})},_registerUpdateStreamEvent:function(H,G,J,F){var I=this;this._registerEvent(H,G,function(){var K=J.apply(this,arguments);if(K){F=F||"id";I.items=twttr.map(I.items,function(L){return L[F]===K[F]?K:L});I.rerenderItem(K[F||"id"],K)}})},_registerEvent:function(H,G,F){if(!this._boundEvents){this._boundEvents=[]}H.bind(G,F);this._boundEvents.push({obj:H,name:G,cb:F})},unbindEvents:function(){if(this._boundEvents){twttr.each(this._boundEvents,function(F){F.obj.unbind(F.name,F.cb)});this._boundEvents=[]}},beforeShowNewItems:function(){},beforeShowOldItems:function(){},onShowNewItems:function(F){},onShowOldItems:function(F){}});twttr.aug(twttr.streams,{SUCCESS:1,ERROR:2,PROTECTED:3,DECIDER:4,WHALE:5,TIMEOUT:6});if(twttr.isT1){E.methods({_setHeader:null,_expandable:false,updateHeader:function(){var F=(this.streamManager&&this.streamManager.$headerContainer());if(!F){return }this._updateHeaderFromStream(F)},_updateHeaderFromStream:function(F){}})}else{E.methods({updateHeader:function(){if(!this.header){if(this.header=this._getHeaderComponent()){this.$find("div.stream-items").prepend(this.header.$node.addClass("stream-header"))}}}})}A(twttr.streams.Stream)})});provide("scribbles",function(A){using().as(function(B){twttr.augmentString("twttr.scribbles",{logViewProfileDetails:function(H){var G=$(this);var E={};var C=$(H.target);var D="view-profile";if(C.is("img")){E.target="image"}else{if(C.is("a")){E.target="link"}}if(G.is("div.dashboard .user-profile-link")){E.component="dashboard";if(G.is(".new-followers .user-profile-link")){E.subcomponent="new-followers"}}else{if(G.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")){E.component="details-pane";if(G.is(".related-tweets .user-profile-link, .related-tweets .twitter-atreply")){var F=G.closest(".tweet");twttr.viewHelpers.addRelatedTweetsLogging(F,E,D)}}else{if(G.is(".stream-tweet .user-profile-link, .stream-tweet .twitter-atreply")){E.component="stream"}else{if(G.is(".twttr-dialog .user-profile-link")){E.component="dialog";E.dialog_type=G.closest(".twttr-dialog").attr("type")}}}}E.input="click";E.tweet_id=G.closest(".tweet").attr("data-tweet-id")||"";E.profile_id=G.data("user-id")||G.data("screen-name")||G.closest(".js-profile-popup-actionable").data("user-id");scribble(D,E)}});A(twttr.scribbles)})});provide("multiGlobals/client_app_tracking",function(A){using("util","constants").as(function(B){(function(){twttr.Scribbler.clientAppDefaultTerms=function(){var C={client:"web"};var D=twttr.audit.currentPage();if(D){C.page=B.util.underscore(D)}var E=twttr.audit.currentAction();if(E){C.section=B.util.underscore(E)}return C};twttr.Scribbler.clientAppEventNameGenerator=function(C,D){D=D||twttr.Scribbler.clientAppDefaultTerms();C=twttr.merge(D,C);return[C.client,C.page,C.section,C.component,C.element,C.action].join(":")};twttr.Scribbler.clientEvent=new twttr.Scribbler({},{noob_level:function(){var C=twttr.loggedIn?twttr.helpers.userNoobLevel(twttr.currentUser):-1;return C>=0?C:null},internal_referer:function(){return((twttr.audit&&twttr.audit.path(1))||null)},referring_event:function(C){if(twttr.isT1&&C){if(twttr.is.object(C)&&C.action=="impression"){return twttr.clicks.lastClick()}else{if(twttr.is.string(C)){var D=C.split(":");if(D[D.length-1]=="impression"){return twttr.clicks.lastClick()}}}}}},"client_event",twttr.Scribbler.clientAppEventNameGenerator);twttr.Scribbler.getElementEventNameTerms=function(I){var D=$(I),F=D.closest("[data-element-term]"),C=D.closest("[data-component-term]"),H=D.closest("[data-section-term]"),E=F.attr("data-element-term");componentTerm=C.attr("data-component-term"),sectionTerm=H.attr("data-section-term");var G={};if(componentTerm&&E){G.component=componentTerm+"_"+E}else{if(componentTerm||E){G.component=(componentTerm||E)}}if(sectionTerm){G.section=sectionTerm}return G};twttr.Scribbler.clientEvent.spawnWithTerms=function(C,E){var F=function(H){var G=twttr.Scribbler.clientAppDefaultTerms();scribeTerms=twttr.merge({},H,C);return twttr.Scribbler.clientAppEventNameGenerator(scribeTerms,G)};var D=this.spawn(E,F);D.spawnWithTerms=this.spawnWithTerms;return D};window.trackClient=twttr.trackClient=function(D,C){if(arguments[1]&&typeof (arguments[1])==="string"){arguments[1]={context:arguments[1]}}return twttr.Scribbler.clientEvent.scribe.apply(twttr.Scribbler.clientEvent,arguments)};window.trackElement=twttr.trackElement=function(D,C,F){if(typeof (C)==="string"){C={action:C}}var E=twttr.merge(twttr.Scribbler.getElementEventNameTerms(D),C);if(E.component){trackClient(E,F)}};window._scribble=function(){if(twttr.decider.isAvailable("old_webclient_events")){twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)}}})();twttr.app.waitForSignal("init",function(){if(twttr.isT1){twttr.app.bind("streamSwitchedTo",function(F,E){var D={},C=E.pageNameUnderscore;if(E.addImpressionData){E.addImpressionData(D)}trackClient({action:"impression"},D)})}else{$("#logo").click(function(){trackClient({section:"top_nav",component:"logo",action:"click"})});$("#global-actions li a").click(function(){var C=$(this).parent().attr("data-global-action");trackClient({section:"top_nav",component:(C+"_nav"),action:"click"})})}$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(){trackClient({section:"top_nav",component:"new_tweet_button",action:"click"})});if(twttr.decider.isAvailable("scribe_general_reliability_events")){window.setTimeout(function(){twttr.ScribeBuffer.instance.sendReliabilityEvent(function(){trackClient({page:"scribe",section:"reliability",component:"client",action:"impression"})})},30000)}});A()})});provide("mixins/streamablePageDetailsPane",function(A){using("_","util").as(function(B,C){var D=twttr.klass.mixin("twttr.mixins.streamablePageDetailsPane",function(){this.click({".stream span.js-actions, .stream ul.js-actions":function(F,E){F.stopPropagation();F.preventDefault();return false},"div.details-pane div.stream-item":function(I,E){if($(I.target).is(".twitter-timeline-link")){return }var H=E.find(".tweet");var J=H.attr("data-tweet-id");var F={component:"details-pane"};if(E.is(".related-tweets .stream-item")){twttr.viewHelpers.addRelatedTweetsLogging(H,F,"tweet-click")}else{if(E.is(".in-reply-to .stream-item")){F.subcomponent="in-reply-to"}}F.embedded_media_types=H.find(".icons .media").map(function(L,M){var K=$(M);return[K.data("media-type"),K.data("media-class")]}).get();var G=H.attr("data-impression-id");this.loadItemInDetailsPane(J,"tweet",{log:F,push:true,impressionId:G})},"div.details-pane .user-detailed-list-item .user-screen-name":function(F,E){var G=parseInt(E.attr("data-user-id"),10);this.loadItemInDetailsPane(G,"user",{push:true});F.stopPropagation();F.preventDefault();return false},".stream-tabs .stream-tab > a, .stream-tabs .dropdown-link .stream-link > a":function(H,F){var J=F.parent(),L=F.attr("href");if(L!="#"){var G=twttr.router.findMatchingRoute(L);if(G&&G.fn.pageName&&G.fn.actionName){var K=twttr.util.underscore(G.fn.actionName),I=twttr.util.underscore(G.fn.pageName);trackClient({page:I,section:K,component:"stream_nav_tab",action:"click"})}}else{if(!J.hasClass("stream-tab-lists")&&J.closest(".stream-tab-lists").length){var E=(twttr.audit.currentPage()=="home")?"list_in_home":"lists";trackClient({section:E,component:"stream_nav_tab",action:"create"})}}},".stream .stream-item":function(E,H){$eventTarget=$(E.target);var J=$eventTarget.is("div.stream-item a.tweet-timestamp, div.stream-item a.tweet-timestamp *");var I=$eventTarget.is("div.stream-item a.twitter-timeline-link");var F=$eventTarget.is("div.stream-user-buttons *");var L=$eventTarget.parents("div.stream-item").is("div.feedback-shown");var G=$eventTarget.is('div.stream-item a.twitter-timeline-link[data-twitter-media-url="true"]');var K=$eventTarget.is("div.withheld-item *");var M=H.is(".js-activity")&&!H.is(".js-activity-retweet, .js-activity-favorite, .js-activity-reply, .js-activity-mention");if(J||(I&&!G)||F||L||M||K){return }this.toggleFocus(H);if(twttr.decider.isAvailable("turkey_prevent_timeline_click")&&G){E.preventDefault()}},".stream-item-activity .user-content-medium":function(H,E){var G=E.parents(".stream-item");var F=E.closest(".sub-stream-item");var I=G.hasClass("focused-stream-item")&&F.hasClass("expand-activity-item")&&this.panes.size()<=1;if(!I){F.siblings().removeClass("expand-activity-item");F.addClass("expand-activity-item");G.removeClass("focused-stream-item")}this.toggleFocus(G);return false},".stream .user-profile-link, .stream .twitter-atreply, div.details-pane .user-profile-link, div.details-pane .twitter-atreply":function(K,E){var I=twttr.helpers.getUserIdentifier(E);var G={};var F={component:"stream"};G.log=F;if(E.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")){G.push=true;F.component="details-pane"}var H=E.closest(".promoted-tweet").attr("data-impression-id")||E.closest(".promoted-account").attr("data-impression-id");if(E.is("div.details-pane .user-profile-link, .stream .user-profile-link")){G.impressionId=H}if(twttr.app.isOnPage("search")&&E.is(".stream .user-profile-link, .stream .twitter-atreply")){G.searchClick=E.closest(".stream-tweet")}twttr.scribbles.logViewProfileDetails.call(E,K);var J=E.is("div.withheld-item *");if(!J){this.loadItemInDetailsPane(I,"user",G)}K.stopPropagation();K.preventDefault();return false},".stream .twitter-hashtag":function(F,E){F.stopPropagation()},".stream .twitter-place, div.details-pane .twitter-place":function(G,E){var H=E.closest(".tweet").attr("data-tweet-id");var F={placeId:E.attr("data-place-id")};if(E.is("div.details-pane .js-tweets-at-this-place")){F.push=true}this.loadItemInDetailsPane(H,"tweet_geo",F);return false},".stream .twitter-listname":function(F,E){twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute($this.attr("href")));F.stopPropagation();F.preventDefault();return false},".js-tweet-geo-text, div.details-pane .js-tweets-at-this-place":function(G,E){var H=E.attr("data-tweet-id");var F={placeId:E.attr("data-place-id")};if(E.is("div.details-pane .js-tweets-at-this-place, div.details-pane .tweet-geo-text")){F.push=true}this.loadItemInDetailsPane(H,"tweet_geo",F);G.stopPropagation();G.preventDefault();return false},".pane-toolbar a.pane-close":function(F,E){this.unfocusStreamItem();F.stopPropagation();F.preventDefault();return false},".pane-toolbar a.pane-back":function(F,E){this.panes.pop();F.stopPropagation();F.preventDefault();return false}}).focus({".stream span.js-actions, .stream ul.js-actions":function(F,E){F.stopPropagation();return false}}).methods({toggleFocus:function(E){if(E.hasClass("focused-stream-item")&&this.panes.size()<=1){this.streamManager.getCurrent().unfocusItem(E);this.unfocusStreamItem()}else{this.streamManager.getCurrent().focusItem(E);this.focusStreamItem(E)}},focusStreamItem:function(E){E.addClass("focused-stream-item").siblings().removeClass("focused-stream-item").removeClass("light");var L,G,K=E.attr("data-item-type"),F={};if(K==="list"||K==="message_thread"||K==="tweet"){L=E.attr("data-item-id")}else{if(K==="activity"){if(E.is(".js-activity-reply, .js-activity-mention")){G=E.find(".stream-item-content")}else{if(E.is(".js-activity-retweet, .js-activity-favorite")){G=E.find(".activity-truncated-tweet .tweet");if(!G.length){G=E.find(".sub-stream-item:not('.sub-stream-item-hidden') .stream-item-content")}}else{G=E.find(".expand-activity-item .stream-item-content")}}if(G.is(".tweet")){K="tweet";L=G.attr("data-item-id")}else{if(G.is(".user-content-medium")){K="user";L=parseInt(G.attr("data-user-id"),10)}}F.streamType="activity-stream";F.itemType=K;F.activityType=E.find(".stream-item-activity").attr("data-activity-type");F.activityId=L}else{L=parseInt(E.attr("data-item-id"),10)}}F.stream=this.streamManager.getCurrent().constructor._name;F.component="stream";F.page_number=this.streamManager.getCurrent()._page;var H=E.find(".tweet").attr("data-impression-id")||E.find(".user-content-medium").attr("data-impression-id");if(K==="tweet"){F.embedded_media_types=E.find(".icons .media").map(function(M,N){return[[N.getAttribute("data-media-type"),N.getAttribute("data-media-class")]]}).get()}E.addClass("focused-stream-item").siblings().removeClass("focused-stream-item");this.loadItemInDetailsPane(L,K,{log:F,impressionId:H,searchClick:twttr.app.isOnPage("search")&&E.is(".stream .stream-item")?E.children(".stream-tweet"):null});var J=this.streamManager&&this.streamManager.getCurrent();if(J){var I=(K=="user")?"select.user":"select.tweet";J.trigger(I,[E,E,"select"])}},unfocusStreamItem:function(){var H=this.$detailsPane().hasClass("opened");if(this.closeDetailsPane()!==false){var E=this.$node.find("div.focused-stream-item");this.$node.find("div.stream-item").removeClass("focused-stream-item");if(H){var G=this.streamManager&&this.streamManager.getCurrent();if(G){var F=(E.attr("data-item-type")=="user")?"deselect.user":"deselect.tweet";G.trigger(F,[E,E,"deselect"])}}}},loadItemInDetailsPane:function(I,H,E){this.yScroll=twttr.$win.scrollTop();if(!H){return }var F=this,G={},E=E||{};if(E.log){twttr.merge(G,E.log)}if(H==="tweet"){this.loadTweetInDetailsPane(I,E);this.openDetailsPane()}else{if(H==="user"){this.loadUserInDetailsPane(I,E);this.openDetailsPane()}else{if(H==="tweet_geo"){this.loadTweetGeoInDetailsPane(I,E);this.openDetailsPane()}else{if(H==="list"){twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute(I))}else{if(H==="message_thread"){this.loadMessageThreadInDetailsPane(I,E);this.resizeDetailsPane()}}}}}if(E.searchClick){twttr.components.pages.Search.addSearchClickLogging(E.searchClick,G)}G.details_type=H;G.item_id=I;G.input="click";scribble("load-details-pane",G);$("div.tipsy").remove()},viewId:function(F,G,E){return F+G+(E?"_"+E:"")},loadTweetInDetailsPane:function(K,M){var H=this,G=M.impressionId,L=this.viewId("tweet_pane_",K,G),I=new twttr.views.DetailsPane(L),F=this.panes.cached(L);var J=M.push?this.panes.push(I):this.panes.reset(I);var E=J.$dom;if(!F){this.$find(".pane-components-inner").addClass("tweet-components");using(twttr.bundleMore,function(){twttr.API.Status.find(K,function(O){J._backLabel=C("@{{screen_name}}'s Tweet",{screen_name:O.user.screenName});if(G){O=twttr.API.util.PromotedStore.getPromotedStatusInstance(O,G);twttr.API.util.PromotedContent.logShowDetails(G)}var N=H.streamManager.getCurrent();new twttr.components.Conversation(O,N,function(Q){Q.bind("deleted",function(){if(H.panes.contains(J)){H.panes.remove(J);H.panes.reset();H.closeDetailsPane()}});var S=[];var P=E.find(".component:visible:first"),R=E.width();if(P.length!==0){R=P.width()}R-=55;var T=new twttr.components.Media(O,R);S.push(Q,new twttr.components.TweetGeoSmall(O),new twttr.components.MachineTranslatedTweet(O));if(twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_social_context")){S.push(new twttr.components.TweetActivity(O));S.push(new twttr.components.Replies(O,N,Q.resultGroups))}else{S.push(new twttr.components.Replies(O,N,Q.resultGroups));S.push(new twttr.components.Retweeters(O,10))}S.push(new twttr.components.MentionedInTweet(O));H.addComponentsToDetailsPane(E,S);T.$node.appendTo(E.find("div.js-tweet-media-container"))})})})}else{E.find(".map_canvas:visible").trigger("refreshMap")}},loadUserInDetailsPane:function(J,N){var H=twttr.is.string(J)?"user_pane_by_screen_name_":"user_pane_by_id_";var I=this,G=N.impressionId,M=this.viewId(H,J,G),K=new twttr.views.DetailsPane(M),F=this.panes.cached(M);var L=N.push?this.panes.push(K):this.panes.reset(K);var E=L.$dom;if(!F){twttr.ui.toggleSpinner(E,true);using(twttr.bundleMore,function(){twttr.API.User.find(J,{success:function(O){twttr.ui.toggleSpinner(E);twttr.app.trigger("view_profile_pane",O);L._backLabel=C("@{{screen_name}}'s profile",{screen_name:O.screenName});if(G){O=twttr.API.util.PromotedStore.getPromotedUserInstance(O,G)}I.addComponentsToDetailsPane(E,[new twttr.components.ProfilePane(O),new twttr.components.UserMedia(O,{itemWidth:48,itemHeight:48,itemDisplayWidth:50,width:320,noSpacer:true}),new twttr.components.RecentTweets(O)])},error:function(O){I.addComponentsToDetailsPane(E,[new twttr.components.NoUserExists()])}})})}},loadTweetGeoInDetailsPane:function(L,H){var K=this,E=this.viewId("tweet_geo_pane_",L,H.placeId),G=new twttr.views.DetailsPane(E),I=this.panes.cached(E);var F=H.push?this.panes.push(G):this.panes.reset(G);var J=F.$dom;if(!I){using(twttr.bundleMore,function(){twttr.API.Status.find(L,function(O){var N=H.placeId||(O.place?O.place.id:null);F._backLabel=C("@{{screen_name}}'s Tweet location",{screen_name:O.user.screenName});var M=function(P){var Q=[new twttr.components.TweetGeoBig(O,N)];if(P){Q.push(new twttr.components.PlaceTweets(P))}K.addComponentsToDetailsPane(J,Q)};if(N){if(O.place&&O.place.id==N){M(O.place)}else{twttr.API.Place.find(N,{success:function(P){M(P.data())},error:function(){M()}})}}else{M()}})})}else{J.find(".map_canvas:visible").trigger("refreshMap")}},loadMessageThreadInDetailsPane:function(I,H){if(!twttr.loggedIn){throw"Something went wrong. You're not supposed to be able to load a message pane while logged out..."}var L=this,E=this.viewId("message_thread_pane_",I),G=new twttr.views.DetailsPane(E,{closable:false}),J=L.panes.cached(E),F=L.panes.reset(G),K=F.$dom;using(twttr.bundleMore,function(){twttr.messageManager.getThread(I,function(M){var P=twttr.decider.isAvailable("phoenix_use_conversation_endpoint")?twttr.components.ConversationThread:twttr.components.MessageThread;var N=new P(M);F._backLabel=C("Conversation with {{screen_name}}",{screen_name:M.threadId});if(!J){var O=new twttr.components.SendMessageBox(I,522);O.bind("sentMessage",function(R,Q){twttr.messageManager.addMessage(Q)});O.$node.appendTo(K.find(".pane-toolbar"))}L.addComponentsToDetailsPane(K,[N])})})},$detailsPane:function(){return this.$find(".details-pane")},openDetailsPane:function(){if(this._detailsPaneDisabled()){return false}var E=this.$detailsPane();if(!E.hasClass("opened")){E.show();this._slideDetailsPaneTo(this.$mainContent.width()-10);this.$dashboard.hide();E.addClass("opened")}this.repositionDetailsPane();this.resizeDetailsPane()},_slideDetailsPaneTo:function(F,E){this.$detailsPane()[Modernizr.csstransitions?"animateWithCss":"animate"](twttr.i18n&&twttr.i18n.rtl?{right:F}:{left:F},250,Modernizr.csstransitions?"ease-out":"linear",E)},closeDetailsPane:function(){if(this.isDPLocked===true){this.isDPLocked=false;return false}if(this._detailsPaneDisabled()){return false}var E=this.$detailsPane();if(E.hasClass("opened")){this.panes.top().hide();this.$dashboard.show();this._slideDetailsPaneTo(10,function(){$(this).hide()});E.removeClass("opened");scribble("close-details-pane",{input:"click",current_tweet_id:this.streamManager.getCurrent().focusedItemId})}},resizeDetailsPane:function(){var J=this.$detailsPane();$pageOuter=$("#page-outer"),pagePaddingTop=parseInt($pageOuter.css("padding-top"),10);if(J.length>0){var F=$("#page-container"),H=$("#page-container").width(),I=this.$mainContent?this.$mainContent.width():0,E=H-I,K=twttr.$win.height()-pagePaddingTop,G=K-J[0].offsetTop-8;this.$mainContent&&this.$mainContent.css("min-height",K);J.height(G);J.width(E);J.find(".pane-components").height(G-J.find(".inner-pane.active .pane-toolbar").outerHeight())}},repositionDetailsPane:function(){if(!twttr.decider.goodAtCss()||!this.$detailsPaneOuter){return }if(this.windowHasHorizontalScroll()){var F=twttr.$win.scrollTop();this.$detailsPaneOuter.addClass("tracking-vertically");this.$detailsPaneOuter.css({"margin-top":F,top:0})}else{var E=this.getTopPositionForDetailsPane();this.$detailsPaneOuter.removeClass("tracking-vertically");this.$detailsPaneOuter.css({"margin-top":null,top:E})}},getTopPositionForDetailsPane:function(){var F=twttr.$win.scrollTop();var G=parseInt($("#page-outer").css("padding-top"),10);var E=$("#page-container").position().top-F;if(E<G){E=G}return E},windowHasHorizontalScroll:function(){return twttr.$win.width()<1000},addComponentToDetailsPane:function(G,F,E){E=E||"append";G.find(".pane-components-inner")[E](F.$node)},addComponentsToDetailsPane:function(G,F){for(var E=0;E<F.length;E++){this.addComponentToDetailsPane(G,F[E])}}}).addAfterRender(function(){this.$dashboard=this.$find(".dashboard");this.$mainContent=this.$find("div.main-content");this.$detailsPaneOuter=this.$find("#details-pane-outer");this.resizeDetailsPane();if(!this.streamManager){this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node);this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(F,E){this.hasNewItems(E)}));this.streamManager.bind("notFound",twttr.bind(this,function(E){this.trigger("notFound")}));this.streamManager.bind("switchTo",twttr.bind(this,function(E){this.closeDetailsPane()}));if(twttr.decider.isExpando()){this.streamManager.bind("doneLoadingMore",twttr.bind(this,function(E){this.$find(".expanding-stream-item").removeClass("expanding-stream-item")}))}}if(!this.streamManager.preRendered){this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node)}this.panes=new twttr.ViewStack(this.$detailsPane(),"append");this.trigger("streamManagerReady")}).addOnSwitchTo(function(){if(twttr.decider.isExpando()){$("#page-container").removeClass("expando-container");$("#page-outer").removeClass("flush-to-top")}var E=twttr.audit.trail()[1];if(E&&E.page.match(/userMedia/)){this.isDPLocked=true;if(this.yScroll){twttr.$win.scrollTop(this.yScroll)}}this.resizeDetailsPane()});return this});A(D)})});provide("mixins/streamablePageDropdownEdition",function(A){using().as(function(B){twttr.klass.mixin("twttr.mixins.streamablePageDropdownEdition",function(K){var G=$("html, body");var F=8;var M=700;var E=50;var H=30;var J=436;var D=75;var C=105;var N={toggle:function(Q,P){if(Q.is(".js-original-tweet")){P.topLevelExpansion=true;if(!P.autoExpanded&&P.containerClass===".expanding-stream-item"){P.fullExpansion=true}}var R=N.expandTweetDom(Q,P.containerClass);var O=0;if(R.$target.hasClass("animating")){return 0}if(R.$target.data("dropdown.showing")){N.close(R,P);N.scribeClose(R,P.currentStream);O=-1}else{if(!P.forceClose){if(!R.$target.data("dropdown.loaded")){N.load(R,P);if(P.autoExpanded){setTimeout(function(){R.$target.next().addClass("after-expanded")},0)}}else{N.open(R,P)}O=1;N.scribeLoad(R,P.currentStream)}}return P.topLevelExpansion?O:0},expandTweetDom:function(P,Q){var O=Q?P.closest(Q):P;return{$target:O,$tweet:P,$expansion:P.parent(),$ancestors:O.find("div.js-tweet-ancestors"),$replies:O.find("div.js-conversation-replies")}},open:function(P,O){P.$target.data("dropdown.showing",true).addClass("animating");N.enterExpandedState(P.$target,O);N.showHideContent(false,N.expandTweetDom(P.$tweet,O.containerClass),O)},close:function(P,O){P.$target.data("dropdown.showing",false).addClass("animating");N.exitExpandedState(P.$target,O);N.showHideContent(true,P,O,function(){P.$target.find(".opened-tweet").each(function(){N.toggle($(this),{noAnimation:true,currentStream:O.currentStream})})})},enterExpandedState:function(O,P){O.addClass("open").filter(".js-stream-item").animate({marginTop:O.index()===0?0:F,marginBottom:F},{duration:P.noAnimation?0:D,queue:false}).prev().addClass("before-expanded").end().next().addClass("after-expanded");O.hasClass("hovered-stream-item")&&O.removeClass("hovered-stream-item").addClass("js-had-hovered-stream-item")},exitExpandedState:function(O,P){O.removeClass("open").filter(".js-stream-item").animate({marginTop:0,marginBottom:0},{duration:P.noAnimation?0:D,queue:false,complete:function(){O.prev().removeClass("before-expanded").end().next().removeClass("after-expanded");O.hasClass("js-had-hovered-stream-item")&&O.removeClass("js-had-hovered-stream-item").addClass("hovered-stream-item")}})},simpleShowHideContent:function(Q,P){var O=P.children().height();P.animate({height:Q?0:O},{duration:N.guessGoodSpeed(O)})},showHideContent:function(R,T,a,Y){T.$target.addClass("animating");!R&&T.$tweet.addClass("opened-tweet");var W=T.$expansion.data("height")||0;var P=T.$ancestors.height()||T.$ancestors.data("height")||0;var Z=T.$tweet.innerHeight();var S=(T.$replies.height()||T.$replies.data("height")||0)+Z;var V=S-W;var Q=a.noAnimation?0:N.guessGoodSpeed(P,V);var O=twttr.$win.scrollTop();var U=T.$target.offset().top-F;var X=(O+E)-U;if(!R){T.$expansion.height(W)}T.$expansion.animate({height:R?W:S},{duration:Q,step:function(b){var d=b-W;var c=d/V;T.$ancestors.height(P*c);if(X>0&&R&&!a.noAnimation){G.scrollTop(O-(X*(1-c)))}},complete:function(){N.resetEmbeddedContent(T,R);T.$target.removeClass("animating");R&&T.$tweet.removeClass("opened-tweet");T.$expansion.height("auto");T.$ancestors.height("auto");Y&&Y();var b=T.$tweet.data("inline-tweetbox");if(a.focusOnReply&&b&&!R){b.focus()}}})},guessGoodSpeed:function(){var O=Math.max.apply(Math,arguments);return Math.round((0.35)*Math.log(O)*C)},load:function(P,O){P.$target.addClass("animating").data("dropdown.loaded",true);if(O.tweet){N.loadWithTweet(P,O,O.tweet)}else{twttr.API.Status.find(P.$tweet.attr("data-tweet-id"),function(Q){N.loadWithTweet(P,O,Q)})}},loadWithTweet:function(S,O,T){new twttr.views.TweetDetails(T).render(S.$target.find("div.js-tweet-details-dropdown"),"append");var Q=S.$tweet.find("div.js-tweet-media-container");S.$expansion=N.wrapComponents(S,S.$tweet.outerHeight());var R=N.sumMediaEmbedHeights(S.$tweet.find("a.twitter-timeline-link"));if(R>0){Q.css("min-height",R)}else{Q.hide()}N.open(S,O);I.media(T,Q);I.translation(T,S.$target.find("div.js-machine-translated-tweet-container"));var U=O.fullExpansion?7:6;I.socialProof(T,S.$target.find("div.js-tweet-stats-container"),U);I.geo(T,S.$target.find("div.js-tiny-geo"));if(O.fullExpansion&&!O.autoExpanded){I.conversation(T,S,O);var P=S.$tweet.attr("data-impression-id");if(P){T=twttr.API.util.PromotedStore.getPromotedStatusInstance(T,P);twttr.API.util.PromotedContent.logShowDetails(P)}}},sumMediaEmbedHeights:function(O){return twttr.reduce(O,0,function(W,T,V){var R=$(V);var Q=R.data("media-type");if(Q){var P=R.data("media-h")||Q.height;var U=R.data("media-w");if(U&&U>J){P=J*(P/U)}var S=P?(Math.min(P,M)+H):75;return W+S}else{return W+0}})},wrapComponents:function(P,O){var Q=$("<div/>",{"class":"expansion-container js-expansion-container",height:O,data:{height:O}});P.$tweet.wrap(Q);return P.$target.find("div.js-expansion-container")},resetEmbeddedContent:function(P,O){var Q=P.$target.find("*[has-playable-media='true'] div.tweet-media");if(Q.length){O?Q.height(Q.height()).empty():Q.filter(":empty").trigger("showMedia")}},scribeLoad:function(Q,O){var P=Q.$tweet.find("span.js-icon-container .media").map(function(R,S){return[[S.getAttribute("data-media-type"),S.getAttribute("data-media-class")]]}).get();scribble("load-details-pane",{component:"stream",details_type:"tweet",item_id:Q.$target.attr("data-item-id"),stream:O.constructor._name,page_number:O._page,embedded_media_types:P});O.trigger("select.tweet",[Q.$target,Q.$target,"select"])},scribeClose:function(P,O){scribble("close-details-pane",{input:"click",current_tweet_id:O.focusedItemId});O.trigger("deselect.tweet",[P.$target,P.$target,"deselect"])}};var I={media:function(P,O){using("components/Media",function(Q){if(!O.is(":empty")){return }new Q(P,J,{afterRender:function(S){var R=S.icon();if(R==="video"||R==="song"){O.attr("has-playable-media",true).show()}},whenNotDisplayed:function(R){O.css("min-height",0).show()}}).$node.appendTo(O)})},translation:function(P,O){using("components/MachineTranslationBackend",function(Q){if(!O.is(":empty")){return }new twttr.components.MachineTranslatedTweet(P).$node.appendTo(O)})},conversation:function(Q,P,O){using("components/Conversation","components/Replies",function(R,S){var T;new R(Q,null,function(U){new S(Q,null,U.resultGroups,function(){if(P.$expansion.find(".js-conversation-replies").length){return }var W=$("<div class='replies js-conversation-replies'></div>").height(0).appendTo(P.$expansion);this.$node.appendTo(W);T=new twttr.components.InlineReplyBox(P.$tweet,W,this.$node,421)});if(P.$tweet.data("is-reply-to")&&P.$target.find(".js-tweet-ancestors").length===0){P.$target.addClass("animating");var V=U.$node.find(".js-tweet-ancestors");V.attr("data-component-term","conversation");V.height(0).prependTo(P.$target)}setTimeout(function(){var X=N.expandTweetDom(P.$tweet,O.containerClass);var W=!O.noAnimation&&P.$target.data("dropdown.showing");L(X.$ancestors,W);L(X.$replies,W,function(){if(T){P.$tweet.data("inline-tweetbox",T);O.focusOnReply&&T.focus()}})},0)})})},socialProof:function(Q,O,P){using("components/TweetStats","components/Retweeters",function(T,R){if(!O.is(":empty")){return }var S=(twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_status_summary"))?T:R;new S(Q,P,function(){O.show()}).$node.appendTo(O)})},geo:function(P,O){using("components/TweetGeoSmall",function(Q){if(!O.is(":empty")){return }new Q(P).$node.appendTo(O)})}};var L=function(Q,P,R){if(!Q.length){return }var O=Q.children().height();Q.data("height",O);if(P){Q.animate({height:O},N.guessGoodSpeed(O),function(){Q.parent().removeClass("animating");Q.height("auto");R&&R()})}else{Q.height("auto")}};return K.mixin(twttr.mixins.profilePopupActionable).keypress({l:function(){this.closeAllTweets()}}).click({"div.js-tiny-geo .map_canvas":function(P,O){P.stopPropagation()},".js-activity-tweet":function(P,O){this.handleExpandoClick(P,O,".supplement")},".expanding-stream-item .js-original-tweet":function(P,O){this.handleExpandoClick(P,O,".expanding-stream-item")},".expanding-stream-item .js-expando-link":function(P,O){this.simpleShowHide(O)},".js-tweet-ancestors .js-stream-tweet, .js-conversation-replies .js-stream-tweet":function(P,O){this.handleExpandoClick(P,O)}}).methods({closeAllTweets:function(){var R=twttr.$win.scrollTop();var O=this.firstVisibleItemBelow(R);if(O){var Q=O.offset().top;var P=this;this.$find("div.open.expanding-stream-item div.js-original-tweet").each(function(){P.showHide($(this),{containerClass:".expanding-stream-item",noAnimation:true})});this.$find("div.open.expanding-stream-item div.js-expando-link").each(function(){P.simpleShowHide($(this))});var S=O.offset().top;G.scrollTop(R-(Q-S))}},firstVisibleItemBelow:function(P){var O;this.$find(".js-stream-item").each(function(){var Q=$(this);if(Q.offset().top>=P){O=Q;return false}});return O},handleExpandoClick:function(S,R,U,P){P=P||{};var Q=$(S.target).is(".js-open-close-tweet, .js-open-close-tweet *");if($(S.target).hasClass("action-reply-container")){P.focusOnReply=true}if(Q||!this.shouldPreventClickFrom($(S.target))){var T=twttr.tco.getSelection();S.preventDefault();S.stopPropagation();if(Q||T.isCollapsed||T.htmlText===""){P.containerClass=U;this.showHide(R,P);var O="tweet_anatomy_1_177";if(!R.is(".open")&&twttr.isT1&&twttr.abdecider.choose(O)){if($(S.target).is(".open-tweet")){twttr.abdecider.track(O,"open-tweet-open-label")}else{if($(S.target).is(".view-open")){twttr.abdecider.track(O,"open-tweet-view-label")}else{twttr.abdecider.track(O,"open-tweet-whitespace")}}}}}},shouldPreventClickFrom:function(O){var P=O.is("a, a *")&&!O.is(".js-details *");var Q=O.is("embed,object");return P||Q},getTweetFromItems:function(R,T){var S;var P=T&&T.items;if(P){for(var Q=0,O=P.length;Q<O;Q++){if(R===P[Q].id){S=P[Q];break}}}return S},simpleShowHide:function(O){var T=".expanding-stream-item";var Q=O.closest(T);var S={};var P=O.closest(".stream-item").find(".js-expando-control-expanded");var R=P.hasClass("show");if(R){this.updateExpandoControl(true,P);N.exitExpandedState(Q,S);N.simpleShowHideContent(true,Q.find("div.js-expando-content"));this.openCount+=-1}else{this.updateExpandoControl(false,P);N.enterExpandedState(Q,S);N.simpleShowHideContent(false,Q.find("div.js-expando-content"));this.openCount+=1}this.showHideCloseAllButton()},showHide:function(P,O){O=O||{};O.currentStream=this.streamManager.getCurrent();O.tweet=this.getTweetFromItems(P.attr("data-tweet-id"),O.currentStream);this.openCount+=N.toggle(P,O);this.showHideCloseAllButton()},toggleFocus:function(O){this.showHide(O.find(".js-original-tweet"),{containerClass:".expanding-stream-item"})},showHideCloseAllButton:function(){if(this.$closer){(this.openCount>0)?this.$closer.fadeIn("fast"):this.$closer.fadeOut("fast")}},updateExpandoControl:function(Q,O){var P=O.closest(".stream-item");P.find(".js-expando-control-expanded").removeClass(Q?"show":"hide").addClass(Q?"hide":"show");P.find(".js-expando-control-unexpanded").removeClass(Q?"hide":"show").addClass(Q?"show":"hide")},resetCloseAllButton:function(){this.$closer=$("a.js-close-all-tweets");this.openCount=this.$find("div.open").length;(this.openCount>0)?this.$closer.show():this.$closer.hide()},dropdown:N,focusStreamItem:twttr.util.noopInT1,unfocusStreamItem:twttr.util.noopInT1,resizeDetailsPane:twttr.util.noopInT1,repositionDetailsPane:twttr.util.noopInT1}).addAfterRender(function(){this.$dashboard=this.$find("div.dashboard");this.$mainContent=this.$find("div.main-content");var O=this;if(!this.streamManager){this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node);this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(Q,P){this.hasNewItems(P)}));this.streamManager.bind("notFound",twttr.bind(this,function(P){this.trigger("notFound")}));this.streamManager.bind("switchTo didNotSwitch",twttr.bind(this,function(P){twttr.app.trigger("streamSwitchedTo",[this]);setTimeout(function(){O.resetCloseAllButton();O.$find("div.tweet-media").trigger("showMedia")},0)}))}if(!this.streamManager.preRendered){this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node)}this.panes=[];this.$find(".stream-item").addClass("expanding-stream-item");this.trigger("streamManagerReady")}).addOnSwitchAway(function(){this.$closer&&this.$closer.hide()})});A()})});provide("mixins/itemActionableScribing",function(A){using("util","constants").as(function(B){twttr.klass.mixin("twttr.mixins.itemActionableScribing",function(C){C.methods({_registerTweetActionScribeListeners:function(){var D=this;this.bind("favorite.tweet unfavorite.tweet retweet.tweet unretweet.tweet delete.tweet reply.tweet dismiss.tweet not_relevant.tweet deselect.tweet permalink_click.tweet",function(F,H,E,I){var G=D._itemMetadata(H);D._itemScribe(I,{event_info:I},G)});this.bind("select.tweet",function(F,I,E,K){var H=D._itemMetadata(I);var J={event_info:K};if(E.find(".sm-image").length){var G=E.find("a[data-expanded-url]").attr("data-expanded-url");if(G){J.url=G}}D._itemScribe(K,J,H)});this.bind("avatar_click.tweet screen_name_click.tweet promoted_badge_click.tweet",function(F,H,E,I){var G=D._itemMetadata(H);G.itemDetails.target_id=E.find("[data-user-id]").attr("data-user-id")||E.attr("data-user-id")||E.closest("[data-user-id]").attr("data-user-id");D._itemScribe("profile_click",{event_info:I},G)});this.bind("hashtag_click.tweet",function(F,H,E,I){var G=D._itemMetadata(H);D._itemScribe("search",{event_info:"hashtag",query:E.text()},G)});this.bind("mention_click.tweet",function(F,H,E,I){var G=D._itemMetadata(H);D._itemScribe("mention_click",{event_info:"mention"},G)});this.bind("external_link_click.tweet",function(F,I,E,J){var H=D._itemMetadata(I),G=E.attr("data-expanded-url")||E.attr("href");D._itemScribe("open_link",{event_info:"external_link",url:G},H);twttr.externalURLStore.setData(G,H)})},_registerUserActionScribeListeners:function(){var D=this;this.bind("follow.user unfollow.user follow.tweet",function(F,I,E,H){var G=D._itemMetadata(I);G.itemDetails.target_id=E.attr("data-user-id");D._itemScribe(H,{event_info:H},G);if(I.attr("data-impression-id")){trackClient({component:"promoted_user_recommendations",action:H})}});this.bind("select.user deselect.user dismiss.user reply.user block.user unblock.user add_to_list.user report_as_spam.user accept.user deny.user dm.user",function(F,I,E,H){var G=D._itemMetadata(I);D._itemScribe(H,{event_info:H},G)});this.bind("avatar_click.user screen_name_click.user promoted_badge_click.user",function(F,I,E,H){var G=D._itemMetadata(I);G.itemDetails.target_id=E.find("[data-user-id]").attr("data-user-id")||E.attr("data-user-id");D._itemScribe("profile_click",{event_info:H},G);if(I.attr("data-impression-id")){trackClient({component:"promoted_user_recommendations",action:"profile_click"})}})},getScribbler:function(){if(this.scribbler){return this.scribbler}else{if(this.getStreamManager){var D=this.getStreamManager();var E=D&&D.getCurrent();if(E&&E.scribbler){return E.scribbler}}}return twttr.Scribbler.clientEvent},_getScribeComponentName:function(){if(this.scribeComponentName){return this.scribeComponentName}else{if(this.constructor&&this.constructor._name){return B.util.underscore(this.constructor._name)}}return""},_itemScribe:function(I,H,G){var F={component:this._getScribeComponentName(G.targetItem),action:I};if(G.targetObj){var E=twttr.Scribbler.getElementEventNameTerms(G.targetObj);if(E.component){F.component=E.component}}if(G.itemType&&G.itemId){var D={};D[G.itemId+""]=G.itemDetails;G.scribeData.item_details=D}this.getScribbler().scribe(F,twttr.merge(H,G.scribeData));twttr.abdecider.track("replies_stripped_on_verified_profiles_200",I);this._itemDetailsScribe(I,G.itemType,G.itemObj)},_itemDetailsScribe:function(J,H,E){var F="tweet_anatomy_1_177";if(H==="tweet"&&twttr.isT1&&twttr.abdecider.choose(F)){if(J==="impression"){var K=E.attr("data-tweet-id");var G=window.__tweet_anatomy_1_177_impressionSink;if(!G){G=window.__tweet_anatomy_1_177_impressionSink=[]}if($.inArray(K,G)!==-1){return }G.unshift(K);if(G.length>5000){G.length=5000}}var I={hashtag:".twitter-hashtag",link:".twitter-timeline-link",username:".twitter-atreply",photo:".sm-image",video:".sm-video",audio:".sm-audio",geo:".sm-geo",convo:".sm-convo",embed:".sm-embed",retweet:".sm-rt",reply:".sm-reply"};twttr.abdecider.track(F,J);for(var D in I){if(E.find(I[D]).length){twttr.abdecider.track(F,J+"-has-"+D)}}$.each(E.find(".twitter-timeline-link"),function(M,N){var L=N.getAttribute("data-expanded-url")||N.href;if(L===N.getAttribute("data-ultimate-url")){twttr.abdecider.track(F,J+"-has-link-expanded")}else{twttr.abdecider.track(F,J+"-has-link-short")}})}},_itemMetadata:function(F){var Q=this._findOrCurrent(F,".js-actionable-tweet, .js-actionable-user"),O=this._closestOrCurrent(Q,"[data-item-type]"),J=O.attr("data-item-type"),K={item_count:1},D={},L,H,G,I;if($.inArray(J,["tweet","user","activity"])==-1){if(Q.is(".js-actionable-tweet")){J="tweet"}else{if(Q.is(".js-actionable-user")){J="user"}}}if(O.length){switch(J){case"tweet":G=!!this._findOrCurrent(Q,".top-tweet").length;H=this._findOrCurrent(Q,"[data-impression-id]").attr("data-impression-id");var N=(H?"promotedTweet":(G?"popularTweet":"tweet"));D.item_type=B.constants.clientEvent.itemType[N];L=this._findOrCurrent(Q,"[data-tweet-id]").attr("data-tweet-id");if(!this.ignoreScribeItemPosition){D.item_position=this._itemPosition(Q,"tweet")}break;case"user":H=this._findOrCurrent(O,"[data-impression-id]").attr("data-impression-id");var E=O.attr("data-feedback-token");var N=H?"promotedUser":"user";D.item_type=B.constants.clientEvent.itemType[N];L=O.attr("data-item-id")||O.attr("data-user-id");if(!this.ignoreScribeItemPosition){D.item_position=this._itemPosition(Q,"user")}if(E){K.item_names=[E]}break;case"activity":var P=this._activityType(O);D.item_type=B.constants.clientEvent.itemType.activity;D.item_description=P;var R=O.attr("data-item-id");L=this._findOrCurrent(O,"div[data-activity-min-position]").attr("data-activity-min-position")||R.split("_")[0];var M=F.attr("data-tweet-id");if(M){D.target_id=M}K.item_names=[R];break;default:L=O.attr("data-item-id")}if(H){D.item_token=H}if(D.item_description&&!K.item_names){K.item_names=[D.item_description]}if(L){K.item_ids=[L]}}return{scribeData:K,itemId:L,itemType:J,itemDetails:D,itemObj:O,targetObj:F,impressionId:H,popular:G}},_activityType:function(E){var D=this._findOrCurrent(E,".stream-item-activity").attr("data-activity-type"),F;if(!D){if(E.is(".reply")){D="reply"}else{if(E.is(".mention")){D="mention"}}}return D},MAX_ITEM_POSITION:40,_itemPosition:function(F,H){var D=(H=="tweet")?"div.js-actionable-tweet":"div.js-actionable-user, li.js-actionable-user",I=(H=="tweet")?"data-tweet-id":"data-user-id",G=F.attr(I),E=[];this.$node.find(D).each(function(J,K){E.push($(K).attr(I))});return $.inArray(G,twttr.util.arrayUniq(E).slice(0,this.MAX_ITEM_POSITION))},_findOrCurrent:function(E,D){return E.is(D)?E:E.find(D)},_closestOrCurrent:function(F,D){var E=F.is(D)?F:F.closest(D);return E.length?E:F}});return C});A()})});provide("mixins/streamablePage",function(A){using("_","util").as(function(B,C){twttr.klass.mixin("twttr.mixins.streamablePage",function(){this.addViewData(function(){var E={};E["active_tab_"+this._activeTab]=1;return E}).addOnSwitchAway(function(){if(this.streamManager){this.streamManager.onSwitchAway()}}).keydown({f:function(E){if($(E.target).is(":not(input)")){E.preventDefault();var F=this.streamManager.getCurrent();if(!F.focusedItemId){return }F.tweetActionFavorite(F.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}},r:function(E){if($(E.target).is(":not(input)")){E.preventDefault();var F=this.streamManager.getCurrent();if(!F.focusedItemId){return }F.tweetActionReply(F.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}},t:function(E){if($(E.target).is(":not(input)")){E.preventDefault();var F=this.streamManager.getCurrent();if(!F.focusedItemId){return }F.tweetActionRetweet(F.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}}}).keypress({k:function(E){this.streamManager.getCurrent().highlightPrevious();E.preventDefault()},j:function(E){this.streamManager.getCurrent().highlightNext();E.preventDefault()},"return":function(F){var G=this.streamManager.getCurrent();F.preventDefault();var E=this.$find('.stream-item[data-item-id="'+G.highlightedItemId+'"]');this.toggleFocus(E)},period:function(E){twttr.$win.scrollTop(0);var F=this.streamManager.getCurrent();F.fetchTweets(twttr.bind(this,function(H){if(H.newItemsCount>0){H._showNewItems();H.restartFetcher()}var G=H.getFirstItem();H.highlightItem(G);H.scrollStreamTo(G);twttr.$win.scrollTop(0)}));twttr.components.JapaneseAd.refreshAds()}}).methods({getStreamManager:function(){return this.streamManager},focusStreamTab:function(F){var E;this.$node.find("ul.stream-tabs li.stream-tab, ul.stream-subtabs").removeClass("active");if(F){E="ul.stream-tabs li.stream-tab-"+F+", ul.stream-subtabs-"+F;this.$node.find(E).addClass("active")}this._activeTab=F;scribble("subnav",{item:F})},focusStreamSubtab:function(F){var E;this.$node.find("ul.stream-subtabs li.stream-tab").removeClass("active");if(F){this.$node.find("ul.stream-subtabs li.stream-subtab-"+F).addClass("active")}this._activeSubtab=F;scribble("subsubnav",{item:F})},_detailsPaneDisabled:function(){return !twttr.decider.goodAtCss()||twttr.isT1}});var D={Messages:1,WhoToFollow:1,SimilarTo:1,WelcomeLearnFlow:1};if(twttr.decider.isExpando()&&!(this._name in D)){return this.mixin(twttr.mixins.streamablePageDropdownEdition)}else{return this.mixin(twttr.mixins.streamablePageDetailsPane)}});A(twttr.mixins.streamablePage)})});provide("mixins/userActionableT1",function(A){using().as(function(B){var C=twttr.klass.mixin("twttr.mixins.userActionableT1",function(){this.methods({getActionableUser:function(D){return D.closest(".js-actionable-user")},getComboButton:function(D){return this.$node.find('.js-follow-combo[data-user-id="'+D+'"]')},getDropdownButton:function(D){return this.$node.find('.js-action-profilemenu[data-user-id="'+D+'"]')},getUserId:function(D){return twttr.helpers.getUserIdentifier(D)},getUserRelationship:function(E,D){var H=this,I=this.getActionableUser(E),G=+I.attr("data-user-id");if(I.data("user")){var F=I.data("user");this.getRelationship(F,D)}else{twttr.API.User.find(G,function(J){I.data("user",J);H.getRelationship(J,D)})}},getRelationship:function(E,D){if(!twttr.loggedIn){var F={notifications:false,following:false,followedBy:false,blocking:false,followRequestSent:false,wantRetweets:false,canDM:false};D(F,{user:E,id:E.id,name:E.name,screen_name:E.screenName,notifications:F.notifications,following:F.following,followed_by:F.followedBy,blocking:F.blocking,follow_request_sent:E.followRequestSent,want_retweets:F.wantRetweets,can_dm:F.canDM,reported:false});return }twttr.currentUser.relationshipWith(E,function(H){var G={user:E,id:E.id,name:E.name,screen_name:E.screenName,notifications:H.notifications,following:H.following,followed_by:H.followedBy,blocking:H.blocking,follow_request_sent:E.followRequestSent,want_retweets:H.wantRetweets,can_dm:H.canDM,reported:false};D(H,G)})},showFollowOrUnfollow:function(D){var E=this;if(!twttr.helpers.isCurrentUser(D)){E.getRelationship(D,function(G,F){if(F.followed_by){E.$node.find(".js-follows-you").show()}})}},showMiniSocialProof:function(D){var E=this;if(twttr.currentUser&&!twttr.helpers.isCurrentUser(D)){twttr.currentUser.followingFollowersOf(D.id,function(G){if(G.length()){var F=E.makeLongSocialContextHtml(D.screenName,G.toArray());E.$find(".js-mini-social-proof-container").html(F)}})}},showUserProfileMenu:function(E){var D=this;$(document).trigger("click.button");E.addClass("open");E.closest(".js-stream-item").addClass("has-follow-dropdown-open");$(document).bind("click.button",function(){D.hideUserProfileMenu(E)})},hideUserProfileMenu:function(D){D.removeClass("open");D.closest(".js-stream-item").removeClass("has-follow-dropdown-open");$(document).unbind("click.button")},toggleUserProfileMenu:function(D){var F=this,H=this.getActionableUser(D),E=+H.attr("data-user-id"),G=this.getDropdownButton(E);if(H.attr("data-dropdown")){if(H.hasClass("open")){this.hideUserProfileMenu(H)}else{this.showUserProfileMenu(H)}return }this.getUserRelationship(D,function(J,I){F.renderUserProfileMenu(H,G,I);F.showUserProfileMenu(H)})},renderUserProfileMenu:function(F,E,D){if(D.want_retweets){F.addClass("including")}if(twttr.currentUser&&twttr.currentUser.deviceSetup&&D.notifications){F.addClass("notifying")}else{F.removeClass("notifying")}if(D.blocking){F.addClass("blocked").removeClass("following not-following follow-request-sent")}if(D.can_dm){F.addClass("can-dm")}new twttr.views.ComboFollowButtonDropdown(D).render(E,"append");F.attr("data-dropdown",true)},onUserActionFollowSync:function(E,D){var F=this.getComboButton(E);if(F.length){this.updateButtonFollow(F,D)}else{this.updateFollowStateLink(E,true,D)}},onUserActionFollowSuccess:function(F,E,D){var G=this.getActionableUser(D);this.updateButtonFollow(G,E)},updateButtonFollow:function(E,D){if(D){E.removeClass("not-following").addClass("follow-request-sent")}else{E.removeClass("not-following").addClass("following including")}},updateFollowStateLink:function(G,F,D){if(F){var H=D?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink}else{var H=twttr.views.FollowLink}var E=this.$node.find('.js-follow-state .js-link[data-user-id="'+G+'"]');new H({id:G}).render(E,"replaceWith")},onUserActionUnfollowSuccess:function(E,D){var F=this.getActionableUser(D);this.updateButtonUnfollow(F)},onUserActionUnfollowSync:function(D){var E=this.getComboButton(D);if(E.length){this.updateButtonUnfollow(E)}else{this.updateFollowStateLink(D,false)}},updateButtonUnfollow:function(D){D.removeClass("following follow-request-sent").addClass("not-following")},onUserActionFollowError:function(E,D){twttr.helpers.showErrorFromResponse(E,"follow")},onUserActionUnfollowError:function(D){twttr.helpers.showErrorFromResponse(D,"follow")},registerFollowAction:function(){var D=this;this.$node.delegate(".js-action-follow, .js-action-follow-request","click",function(F){var E=$(this),G=D.getActionableUser(E);if(twttr.loggedIn){G.removeClass("not-following");if(G.hasClass("protected")){G.addClass("follow-request-sent first-hover")}else{G.addClass("following including first-hover")}}G.one("mouseleave",function(){G.removeClass("first-hover")});D.userActionFollow(E);F.preventDefault();F.stopPropagation();return false})},registerUnfollowAction:function(){var D=this;this.$node.delegate(".js-action-unfollow","click",function(E){var F=D.getActionableUser($(this));F.removeClass("following follow-request-sent").addClass("not-following");D.userActionUnfollow($(this));E.preventDefault();E.stopPropagation();return false})},registerProfileMenuAction:function(){var D=this;this.$node.delegate(".js-action-profilemenu","click",function(E){D.toggleUserProfileMenu($(this));E.preventDefault();E.stopPropagation();return false})},registerBlockAction:function(){var D=this;this.$node.delegate(".js-action-block","click",function(H){var I=D.getActionableUser($(this)),F=+I.attr("data-user-id"),E=I.attr("data-impression-id"),G="block";D.markAsPending(I,G);I.addClass("blocked").removeClass("following not-following follow-request-sent");twttr.API.User.find(F,function(J){var K="not-following";if(J.following){K="following"}else{if(J.followRequestSent){K="follow-request-sent"}}J.block({impression_id:E,complete:function(){D.markAsComplete(I,G)},timeout:function(L){L.retry()},success:function(L){D.trigger("block.user",[I,$(this),"block"]);I.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(){twttr.showError(_("Whoops! We weren't able to block that user. Try again in a minute"));I.removeClass("blocked").addClass(K)}})});D.hideUserProfileMenu(I);H.preventDefault();H.stopPropagation();return false})},registerUnblockAction:function(){var D=this;this.$node.delegate(".js-action-unblock","click",function(H){var I=D.getActionableUser($(this)),F=+I.attr("data-user-id"),E=I.attr("data-impression-id"),G="unblock";D.markAsPending(I,G);I.removeClass("blocked").addClass("not-following");twttr.API.User.find(F,function(J){J.unblock({impression_id:E,before:function(){$('.stream .stream-tweet[data-user-id="'+J.id+'"]').closest(".stream-item").show()},complete:function(){D.markAsComplete(I,G)},success:function(){D.trigger("unblock.user",[I,$(this),"unblock"]);I.removeClass("blocked").addClass("not-following")},error:function(){I.addClass("blocked").removeClass("not-following following follow-request-sent")}})});D.hideUserProfileMenu(I);H.preventDefault();H.stopPropagation();return false})},registerReportAction:function(){var D=this;this.$node.delegate(".js-action-spam","click",function(H){var I=D.getActionableUser($(this)),F=+I.attr("data-user-id"),E=I.attr("data-impression-id"),G="report";D.markAsPending(I,G);I.addClass("blocked").removeClass("following not-following follow-request-sent");twttr.API.User.find(F,function(J){var K="not-following";if(J.following){K="following"}else{if(J.followRequestSent){K="follow-request-sent"}}J.report({impression_id:E,before:function(){$('.stream .stream-tweet[data-user-id="'+J.id+'"]').closest(".stream-item").hide()},complete:function(){D.markAsComplete(I,G)},success:function(L){twttr.showMessage(_("You have reported {{screenName}} for spam",J));D.trigger("report_as_spam.user",[I,$(this),"report_as_spam"]);I.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(L){twttr.errors.showErrorFromResponse(L,"report");I.removeClass("blocked").addClass(K)}})});D.hideUserProfileMenu(I);H.preventDefault();H.stopPropagation();return false})},registerMentionAction:function(){var D=this;this.$node.delegate(".js-action-mention","click",function(F){var G=D.getActionableUser($(this)),E=+G.attr("data-user-id");twttr.API.User.find(E,function(H){new twttr.widget.TweetDialog({template:{title:"Mention "+H.screenName},draggable:true,defaultContent:"@"+H.screenName+" ",origin:"profile-actions-dropdown-mention"}).open().focus();D.trigger("reply.user",[G,$(this),"reply"])});D.hideUserProfileMenu(G);F.preventDefault();F.stopPropagation();return false})},registerAddToListAction:function(){var D=this;this.$node.delegate(".js-action-add-to-list","click",function(F){var G=D.getActionableUser($(this)),E=+G.attr("data-user-id");twttr.API.User.find(E,function(H){new twttr.widget.ListMembershipDialog(H).open();D.trigger("add_to_list.user",[G,$(this),"add_to_list"])});D.hideUserProfileMenu(G);F.preventDefault();F.stopPropagation();return false})},registerDeviceNotificationToggle:function(){var E,D=this;this.$node.delegate(".js-device-notifications","click",function(H){var I=D.getActionableUser($(this)),G=+I.attr("data-user-id"),F=I.hasClass("notifying"),J=F?"setNotificationsOff":"setNotificationsOn";twttr.API.User.find(G,function(K){if(!twttr.currentUser.deviceSetup){if(!twttr.currentUser.deviceVerified){E={title:_("Setup mobile notifications"),content:(new twttr.views.PhoneSetupPrompt({screen_name:K.screenName,ok:_("Activate phone"),cancel:_("Close")})).html()}}else{E={title:_("Enable mobile notifications for Tweets"),content:(new twttr.views.PhoneTweetsOffPrompt({screen_name:K.screenName,ok:_("Mobile settings"),cancel:_("Close")})).html()}}new twttr.widget.Prompt({modal:true,callback:function(L){if(L){twttr.router.routeTo(twttr.router.devicesPath())}},template:E}).open();return }K[J]();if(F){I.removeClass("notifying")}else{I.addClass("notifying")}});H.preventDefault();H.stopPropagation();return false})},registerRetweetToggle:function(){var D=this;this.$node.delegate(".js-retweet-setting","click",function(G){var H=D.getActionableUser($(this)),F=+H.attr("data-user-id"),E=H.hasClass("including"),I=E?"setWantRetweetsOff":"setWantRetweetsOn";twttr.API.User.find(F,function(J){J[I]();if(E){H.removeClass("including");twttr.showMessage(_("Retweets from @{{screenName}} will no longer appear in your timeline",J))}else{H.addClass("including");twttr.showMessage(_("Retweets from @{{screenName}} will appear in your timeline",J))}});D.hideUserProfileMenu(H);G.preventDefault();G.stopPropagation();return false})},registerDirectMessageAction:function(){var D=this;this.$node.delegate(".js-direct-message-action","click",function(G){var E=$(this),H=D.getActionableUser(E),F=+H.attr("data-user-id");twttr.API.User.find(F,function(I){twttr.dialogs.dmSingle({user:{screenName:I.screenName,user_id:F,name:I.attributes.name,profile_image_url:I.attributes.profile_image_url},origin:"user-actionable-direct-message"}).open();D.trigger("dm.user",[H,E,"dm"])});D.hideUserProfileMenu(H);G.preventDefault();G.stopPropagation();return false})},registerProfileAction:function(){var D=this;this.$node.delegate(".js-action-profile-avatar","click",function(F){var E=$(this);D.trigger("avatar_click.user",[D.getActionableUser(E),E,"avatar"])});this.$node.delegate(".js-action-profile-name","click",function(F){var E=$(this);D.trigger("screen_name_click.user",[D.getActionableUser(E),E,"screen_name"])});this.$node.delegate(".js-action-profile-promoted","click",function(F){var E=$(this);D.trigger("promoted_badge_click.user",[D.getActionableUser(E),E,"promoted_badge"])});this.$node.delegate(".js-account-group, .js-mini-profile-user","click",function(G){var H=D.$node.find(".js-actionable-user"),F=+H.attr("data-user-id"),E=H.closest("[data-impression-id]").attr("data-impression-id");D._updateTwttrPromotedAccount(F,E)})},registerUserActionEvents:function(){var D=this;this.registerFollowAction();this.registerUnfollowAction();this.registerProfileAction();this.registerPromotedUserActionEvents();if(twttr.loggedIn){this.registerProfileMenuAction();this.registerBlockAction();this.registerUnblockAction();this.registerReportAction();this.registerMentionAction();this.registerAddToListAction();this.registerDeviceNotificationToggle();this.registerRetweetToggle();this.registerDirectMessageAction();this._registerUserActionAPIListeners();this._registerUserActionScribeListeners()}}});return this});A(C)})});provide("mixins/userActionable",function(A){using((twttr.isT1?"mixins/userActionableT1":[])).as(function(B){twttr.klass.mixin("twttr.mixins.userActionable",function(C){C.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({userActionFollow:function(D){var H=this,F=twttr.helpers.getUserId(D),G=D.closest(".js-actionable-user, .js-actionable-tweet"),E=G.attr("data-impression-id")||G.closest("[data-impression-id]").attr("data-impression-id"),I="follow";this.markAsPending(G,I);twttr.API.User.find(F,function(K){var J=K["protected"]&&!K.following;if(twttr.loggedIn){H._updateTwttrPromotedAccount(F,E);K.follow({complete:function(){H.markAsComplete(G,I)},success:function(M){var N=G.is(".js-actionable-tweet")?"follow.tweet":"follow.user";H.trigger(N,[G,D,"follow"]);var L=G.closest(".js-stream-item").length;if(J&&!L){twttr.showMessage(_("A follow request has been sent to {{user}}.",{user:(K.name||K.screenName)}))}H.onUserActionFollowSuccess(F,J,D)},error:function(L){H.onUserActionFollowError(L,J)},impression_id:E})}else{twttr.dialogs.signinOrSignup({follow:K,justSignup:twttr.isT1&&twttr.abdecider.choose("lo_signup_modal_170")=="signup_modal"}).open()}})},userActionUnfollow:function(D){var G=this,F=twttr.helpers.getUserId(D),I=D.closest(".js-actionable-user"),E=I.attr("data-impression-id")||I.closest("[data-impression-id]").attr("data-impression-id"),H="unfollow";this.markAsPending(I,H);twttr.API.User.find(F,function(J){J.unfollow({complete:function(){G.markAsComplete(I,H)},success:function(){G._updateTwttrPromotedAccount(F,E);G.trigger("unfollow.user",[I,D,"unfollow"]);G.onUserActionUnfollowSuccess(F,D)},error:function(K){G.onUserActionUnfollowError(K)},impression_id:E})})},userActionMenu:function(D){var F=this;var E=twttr.helpers.getUserIdentifier(D);if(D.attr("data-opened")){return }D.attr("data-opened",true);twttr.API.User.find(E,function(G){twttr.currentUser.relationshipWith(G,twttr.bind(this,function(I){var H={user:G,id:G.id,screen_name:G.screenName,notifications:I.notifications,following:I.following,followed_by:I.followedBy,blocking:I.blocking,follow_request_sent:G.followRequestSent,want_retweets:I.wantRetweets,reported:false};F.userProfileActionsDropdown=F._getUserActionsDropdown(G,D,H);F.userProfileActionsDropdown.render(D,"after").open()}))})},onUserActionFollowSync:function(G,F){var D=this.$node.find(".js-action-follow[data-user-id='"+G+"']"),E;if(D.length){if(D.is(".js-button")){E=(F?twttr.views.FollowRequestSentButton:twttr.views.UnfollowButton)}else{if(D.is(".js-link")){E=(F?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink)}}this._updateFollowState(G,D,E)}},onUserActionUnfollowSync:function(F){var D=this.$node.find(".js-action-unfollow[data-user-id='"+F+"']"),E;if(D.length){if(D.is(".js-button")){E=twttr.views.FollowButton}else{if(D.is(".js-link")){E=twttr.views.FollowLink}}this._updateFollowState(F,D,E)}},_updateFollowState:function(E,D,F){if(F){(new F({id:E})).render(D,"replaceWith")}},_userLinkHtml:function(D){return new twttr.views.UserLink(D).html()},makeShortSocialContextHtml:function(F,E){var D="";if(E.length==1){D+=_("Followed by {{{user}}}",{user:this._userLinkHtml(E[0])})}else{D+=_('Followed by {{{user}}} and <a href="{{url}}" class="pretty-link"><b>others</b></a>',{user:this._userLinkHtml(E[0]),url:twttr.router.followersYouFollowPath({screen_name:F})})}return D},makeLongSocialContextHtml:function(F,E){var D="";switch(E.length){case 1:D+=_("Followed by {{{user}}}.",{user:this._userLinkHtml(E[0])});break;case 2:D+=_("Followed by {{{first}}} and {{{second}}}.",{first:this._userLinkHtml(E[0]),second:this._userLinkHtml(E[1])});break;case 3:D+=_("Followed by {{{first}}}, {{{second}}} and {{{third}}}.",{first:this._userLinkHtml(E[0]),second:this._userLinkHtml(E[1]),third:this._userLinkHtml(E[2])});break;case 4:D+=_("Followed by {{{first}}}, {{{second}}}, {{{third}}} and {{{other}}}.",{first:this._userLinkHtml(E[0]),second:this._userLinkHtml(E[1]),third:this._userLinkHtml(E[2]),other:this._userLinkHtml(E[3])});break;default:D+=_('Followed by {{{first}}}, {{{second}}}, {{{third}}} and <a href="{{url}}" class="pretty-link"><b>{{count}} others</b></a>.',{first:this._userLinkHtml(E[0]),second:this._userLinkHtml(E[1]),third:this._userLinkHtml(E[2]),count:E.length>13?"10+":E.length-3,url:twttr.router.followersYouFollowPath({screen_name:F})});break}return D},makeSocialContextHtml:function(I,D){var H=this;if(I.socialContext){var G=I.socialContext,F=I.screenName}else{var G=I.attributes.connections,F=I.user.screenName}var E="";if(!this.screenName&&G&&G.length){if(D){E+=this.makeLongSocialContextHtml(F,G)}else{E+=this.makeShortSocialContextHtml(F,G)}}return E},onUserActionFollowSuccess:function(F,E,D){},onUserActionFollowError:function(E,D){twttr.helpers.showErrorFromResponse(E,"follow")},onUserActionUnfollowSuccess:function(E,D){},onUserActionUnfollowError:function(D){twttr.helpers.showErrorFromResponse(D,"follow")},registerPromotedUserActionEvents:function(){var D=this;this.$node.delegate(".js-actionable-user .js-action-dismiss","click",function(G){var E=$(this),H=E.closest(".js-actionable-user"),F=H.attr("data-impression-id");D._updateTwttrPromotedAccount(parseInt(H.attr("data-user-id")),F);twttr.API.util.PromotedContent.logDismissUser(F);D.trigger("dismiss.user",[H,E,"dismiss"])});this.$node.delegate(".js-actionable-user img.user-profile-link, .js-actionable-user .js-action-profile-avatar","click",function(G){var E=$(this),H=E.closest(".js-actionable-user"),F=H.attr("data-impression-id");D._updateTwttrPromotedAccount(parseInt(H.attr("data-user-id")),F);twttr.API.util.PromotedContent.logProfileImageClick(F);D.trigger("avatar_click.user",[H,E,"avatar"])});this.$node.delegate(".js-actionable-user .js-promoted-badge","click",function(G){var E=$(this),H=E.closest(".js-actionable-user"),F=H.attr("data-impression-id");D._updateTwttrPromotedAccount(parseInt(H.attr("data-user-id")),F);twttr.API.util.PromotedContent.logFooterProfileClick(F);D.trigger("promoted_badge_click.user",[H,E,"promoted_badge"])});this.$node.delegate(".js-actionable-user .user-name .user-profile-link, .js-actionable-user .js-action-profile-name","click",function(G){var E=$(this),H=E.closest(".js-actionable-user"),F=H.attr("data-impression-id");D._updateTwttrPromotedAccount(parseInt(H.attr("data-user-id")),F);twttr.API.util.PromotedContent.logScreenNameClick(F);D.trigger("screen_name_click.user",[H,E,"screen_name"])})},registerUserActionEvents:function(){var D=this;this.$node.delegate(".js-actionable-user .js-action-follow, .js-actionable-tweet .js-action-follow","click",function(E){D.userActionFollow($(this));E.preventDefault();E.stopPropagation();return false});this.$node.delegate(".js-actionable-user .js-action-unfollow","click",function(E){D.userActionUnfollow($(this));E.preventDefault();E.stopPropagation();return false});this.$node.delegate(".js-actionable-user .js-action-profilemenu","click",function(E){D.userActionMenu($(this));E.preventDefault();E.stopPropagation();return false});this.registerPromotedUserActionEvents();this._registerUserActionAPIListeners();this._registerUserActionScribeListeners()},_registerUserActionAPIListeners:function(){var D=this;twttr.API.User.bind("follow",{before:function(G,F){var E=F.requestParameters[0].user_id;twttr.API.User.find(E,function(H){H.sync("following",true);H.sync("followers_count",H.followersCount+1)});D.onUserActionFollowSync(E)},error:function(H,E,G){var F=G.requestParameters[0].user_id;twttr.API.User.find(F,function(I){I.sync("following",false);I.sync("followers_count",I.followersCount-1)});D.onUserActionUnfollowSync(F)}});twttr.API.User.bind("follow_request",{before:function(G,F){var E=F.requestParameters[0].user_id;twttr.API.User.find(E,function(H){H.sync("follow_request_sent",true)});D.onUserActionFollowSync(E,true)},error:function(H,E,G){var F=G.requestParameters[0].user_id;twttr.API.User.find(F,function(I){I.sync("following_request_sent",false)});D.onUserActionUnfollowSync(F)}});twttr.API.User.bind("unfollow",{before:function(G,F){var E=F.requestParameters[0].user_id;twttr.API.User.find(E,function(H){H.sync("following",false);if(!H["protected"]){H.sync("followers_count",H.followersCount-1)}});D.onUserActionUnfollowSync(E)},error:function(H,E,G){var F=G.requestParameters[0].user_id;twttr.API.User.find(F,function(I){I.sync("following",true);if(!I["protected"]){I.sync("followers_count",I.followersCount+1)}});D.onUserActionFollowSync(F)}})},_updateTwttrPromotedAccount:function(E,D){if(D){twttr.promotedAccountStore.setAccount(E,D)}else{twttr.promotedAccountStore.clear()}},_getUserActionsDropdown:function(G,D,I){var H=this,F=D.closest(".js-actionable-user"),E=[];E.push({label:_("Mention {{screen_name}}",I),icon:"mention",className:"js-action-reply",handlers:{click:function(){new twttr.widget.TweetDialog({template:{title:"Mention "+G.screenName},draggable:true,defaultContent:"@"+G.screenName+" ",origin:"profile-actions-dropdown-mention"}).open().focus();H.trigger("reply.user",[F,D,"reply"])}}});E.push({label:_("Add to list"),icon:"user-list",className:"js-action-addtolist",handlers:{click:function(){new twttr.widget.ListMembershipDialog(G).open();H.trigger("add_to_list.user",[F,D,"add_to_list"])}}});if(I.blocking){E.push({label:_("Unblock {{screen_name}}",I),icon:"block",className:"js-action-unblock",handlers:{click:function(){var J=$("div.profile-pane").attr("data-impression-id");G.unblock({before:function(){$('.stream .stream-tweet[data-user-id="'+G.id+'"]').closest(".stream-item").show()},success:function(){H.trigger("unblock.user",[F,D,"unblock"])},impression_id:J})}}})}else{E.push({label:_("Block {{screen_name}}",I),icon:"block",className:"js-action-block",handlers:{click:function(){var J=$("div.profile-pane").attr("data-impression-id");G.block({timeout:function(K){K.retry()},error:function(){twttr.showError(_("Whoops! We weren't able to block that user. Try again in a minute"))},success:function(K){H.trigger("block.user",[F,D,"block"])},impression_id:J})}}})}if(!I.blocking){E.push({label:_('Report <span class="truncate">{{screen_name}}</span> for spam',I),icon:"spam",className:"js-action-spam",handlers:{click:function(){var J=$("div.profile-pane").attr("data-impression-id");G.report({before:function(){$('.stream .stream-tweet[data-user-id="'+G.id+'"]').closest(".stream-item").hide()},error:function(K){twttr.errors.showErrorFromResponse(K,"report")},success:function(K){H.trigger("report_as_spam.user",[F,D,"report_as_spam"])},impression_id:J})}}})}return new twttr.control.Dropdown(D,{itemView:twttr.views.UserDropdownItem,items:E,direction:"right"})}});if(twttr.isT1){C.mixin(B.mixins.userActionableT1)}return C});A(twttr.mixins.userActionable)})});provide("mixins/profilePopupActionable",function(A){using().as(function(B){twttr.klass.mixin("twttr.mixins.profilePopupActionable",function(){this.methods({showProfilePopup:function(C){using("widget/MiniProfileDialog",function(D){new D(C).open()})}}).click({".user-profile-link,          .js-user-profile-link,          .twitter-atreply,          .js-account-group":function(H,C){var G=this;if(C.is(".withheld-item .twitter-atreply")){return false}if(!C.hasClass("js-bubble-event")){H.stopPropagation();H.preventDefault()}var E=C.data("user-id")||C.attr("data-screen-name")||C.closest(".js-profile-popup-actionable").data("user-id");if(!E){if(twttr.development){console.log("can't open profile popup: no user identifier found")}return }var F=C.closest(".js-actionable-tweet, .js-actionable-user"),D=F.attr("data-impression-id");twttr.API.User.find(E,{success:function(I){I=twttr.API.util.PromotedStore.getPromotedUserInstance(I,D);G.showProfilePopup(I);C.data("user-id",I.id);twttr.scribbles.logViewProfileDetails.call(C,H)},error:function(I){twttr.errors.showErrorFromResponse(I)}})}})});A(twttr.mixins.profilePopupActionable)})});provide("mixins/listActionable",function(A){using("_").as(function(B,C){var D=twttr.klass.mixin("twttr.mixins.listActionable",function(){this.methods({listDeleted:function(){},listUpdated:function(){},_setListFollowing:function(E,H,G){var F=G?"subscribe":"unsubscribe";twttr.API.User.find(E,function(I){I.lists.find(H,function(J){J[F]({error:function(){if(G){twttr.showError(C("There was an error subscribing to the list"))}else{twttr.showError(C("There was an error unsubscribing from the list"))}}})})})},unfollowList:function(E,F){this._setListFollowing(E,parseInt(F,10),false)},followList:function(E,F){this._setListFollowing(E,parseInt(F,10),true)}}).click({".js-delete-list-action":function(F,E){new twttr.widget.Prompt({modal:true,template:{title:C("Are you sure you want to delete this list?")},callback:function(G){if(G){twttr.currentUser.lists.find(parseInt(E.attr("data-list-id"),10),function(H){twttr.app.currentPage().send("listDeleted",[H]);H.destroy({error:function(){twttr.showError(C("There was an error deleting the list"))},success:function(){twttr.app.currentPage().send("listDeleted",[H])}})})}}}).open();F.stopPropagation();return false},".js-edit-list-action":function(F,E){twttr.currentUser.lists.find(parseInt(E.attr("data-list-id"),10),function(G){new twttr.widget.ListDialog({list:G,onSuccess:function(H){twttr.app.currentPage().send("listUpdated",[H])}}).open()});F.stopPropagation();return false},".js-unfollow-list-action":function(F,E){this.unfollowList(E.attr("data-screen-name"),parseInt(E.attr("data-list-id"),10));F.stopPropagation();return false},".js-follow-list-action":function(F,E){this.followList(E.attr("data-screen-name"),parseInt(E.attr("data-list-id"),10));F.stopPropagation();return false}});return this});A(D)})});provide("mixins/tweetActionable",function(A){using("_").as(function(B,C){twttr.klass.mixin("twttr.mixins.tweetActionable",function(D){D.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({deletedTweetCacheDuration:1000*60*10,_updateTweetDisplay:function(G,F){var E=this;if(F==="delete"){twttr.showMessage(C("Your tweet has been deleted."));E.onTweetActionDelete(G)}else{twttr.API.Status.find(G,function(I){var H=E.$find("div.js-actionable-tweet[data-tweet-id="+G+"]");switch(F){case"favorite":I.sync("favorited",true);H.addClass("favorited");break;case"unfavorite":I.sync("favorited",false);H.removeClass("favorited");break;case"retweet":I.sync("current_user_retweet",true);H.addClass("retweeted");break;case"unretweet":I.sync("current_user_retweet",false);H.removeClass("retweeted");break;case"hide":E.onTweetActionHide(G);break;case"show":E.onTweetActionShow(G);break}E.rerenderTweetActionsView(F,I,H)})}},onTweetActionDelete:function(E){this._getActionableTweets(E).remove()},onTweetActionHide:function(E){this._getActionableTweets(E).hide()},onTweetActionShow:function(E){this._getActionableTweets(E).show()},getTweetId:function(E){return E.attr("data-tweet-id")},getScreenName:function(E){return E.attr("data-screen-name")},getImpressionId:function(E){return E.attr("data-impression-id")},getScribeComponent:function(E){return E.is("div.details-pane .js-actionable-tweet")?"details-pane":E.is("div.stream .js-actionable-tweet")?"stream":"generic-component"},getStreamName:function(){var E=twttr.app.currentPage(),F=E.getInstanceProperty("streamManager");if(F){return F.getCurrent().constructor._name}else{return null}},tweetActionFavorite:function(I,F){if(!I||I.length===0||!twttr.loggedIn){return }var K=this.getTweetId(I),H=I.hasClass("favorited"),M=H?"unfavorite":"favorite",G=this.getImpressionId(I);twttr.API.Status[M](K,{impression_id:G,cacheOptions:{skipOverwrite:true}});var L=twttr.app.currentPage().getInstanceProperty("streamManager");var J={input:F,tweet_id:K,favorited:!H,component:this.getScribeComponent(I),stream:L&&L.getCurrent().constructor._name};if(!H){twttr.viewHelpers.addExtraLogging(I,J,"favorite-tweet")}else{twttr.viewHelpers.addActivityItemLogging(I,J,"unfavorite-tweet")}var E=H?"unfavorite":"favorite";this.trigger(E+".tweet",[I,I.find("a.js-toggle-fav"),E]);_scribble("favorite-tweet",J)},tweetActionRetweet:function(L,F){if(!L||L.length===0||!twttr.loggedIn){return }var O=this.getTweetId(L),E=this.getScreenName(L),H=this.getImpressionId(L),G=L.hasClass("retweeted"),N=this.getScribeComponent(L),P=this.getStreamName();var K=!!L.attr("data-protected");if(twttr.helpers.isCurrentUser(E)||(K&&!G)){return }if(G){var I=L.attr("data-my-retweet-id");if(I){this.trigger("unretweet.tweet",[L,L.find("a.js-toggle-rt"),"unretweet"]);twttr.API.Status.unretweet(I)}}else{var J=this;using([twttr.bundleMore,"dialogs"],function(){twttr.API.Status.find(O,function(Q){twttr.dialogs.retweet(O,Q.text,function(R){if(R){twttr.API.Status.retweet(O,{impression_id:H});J.trigger("retweet.tweet",[L,L.find("a.js-toggle-rt"),"retweet"]);_scribble("tweet",{tweet_type:"retweet",origin:"tweet-action-retweet",input:F,component:N,stream:P})}}).open()})})}var M={input:F,tweet_id:O,component:N,stream:P};twttr.viewHelpers.addExtraLogging(L,M,"retweet-tweet-opened");_scribble("retweet-tweet-opened",M)},tweetActionReply:function(K,G,I){if(!K||K.length===0||!twttr.loggedIn){return }var N=this.getTweetId(K),H=this.getImpressionId(K),F=this.getScreenName(K),M=this.getScribeComponent(K),O=this.getStreamName();var E={$tweet:K,tweetId:N,impressionId:H,screenName:F,origin:"tweet-action-reply",input:G,component:M,stream:O};if(!I){var J=this;using([twttr.bundleMore,"dialogs"],function(){var P=twttr.dialogs.reply(E);P.view.tweetBox.bind("sendingTweet",function(Q,R){J.trigger("reply.tweet",[K,K.find("a.js-action-reply"),"reply"])});P.open()})}var L={input:G,tweet_id:N,component:M,stream:O};twttr.viewHelpers.addExtraLogging(K,L,"reply-to-tweet-opened");_scribble("reply-to-tweet-opened",L);return E},tweetActionDismiss:function(I,E){var H=this.getImpressionId(I),G=I.parent(".js-stream-item");if(G.hasClass("focused-stream-item")){twttr.app.currentPage().send("closeDetailsPane")}G.fadeOut(300,function(){G.remove()});for(var F=0;F<this.items.length;F++){if(this.items[F].impressionId==H){this.items.splice(F,1);break}}twttr.API.util.PromotedContent.logDismissOther(H);this.trigger("dismiss.tweet",[I,I.find("a.js-action-dismiss, div.js-action-dismiss"),"dismiss"]);twttr.promotedTweetStore.clear()},tweetActionNotRelevant:function(F){var E={query:F.find("a.js-action-notrel").attr("data-search-query"),tweet_id:this.getTweetId(F),stream_index:String(F.closest(".stream-item").parent().find('.stream-tweet:not([data-promoted="true"])').index(F))};this.trigger("not_relevant.tweet",[F,F.find("a.js-action-notrel"),"not_relevant"]);_scribble("not-relevant-tweet",E)},tweetActionDelete:function(H,F){var G=this;if(!H||H.length===0||!twttr.loggedIn){return }var I=this.getTweetId(H);using([twttr.bundleMore,"widget/Prompt"],function(){new twttr.widget.Prompt({template:{title:C("Are you sure you want to delete this tweet?")},callback:function(J){if(J){twttr.API.Status.find(I).destroy({success:function(){twttr.app.caches.deletedTweets.set(I,true,G.deletedTweetCacheDuration)},error:function(K){twttr.errors.showErrorFromResponse(K,"delete")}})}}}).open()});this.trigger("delete.tweet",[H,H.find("a.js-action-del"),"delete"]);var E={input:F,tweet_id:I,component:this.getScribeComponent(H)};_scribble("delete-tweet-opened",E)},_getActionableTweets:function(E){return this.$find("div.js-actionable-tweet[data-tweet-id="+E+"]")},_getActionableMyRetweets:function(E){return this.$find("div.js-actionable-tweet[data-my-retweet-id="+E+"]")},_registerTweetActionAPIListeners:function(){var E=this;twttr.API.Status.bind("favorite",{before:function(G,F){var H=F.requestParameters[0];E.markAsPending(E._getActionableTweets(H),"favorite");E._updateTweetDisplay(H,"favorite")},complete:function(H,F,G){var I=G.requestParameters[0];E.markAsComplete(E._getActionableTweets(I),"favorite")},error:function(H,F,G){var I=G.requestParameters[0];E._updateTweetDisplay(I,"unfavorite");twttr.errors.showErrorFromResponse(F,"favorite")}});twttr.API.Status.bind("unfavorite",{before:function(G,F){var H=F.requestParameters[0];E.markAsPending(E._getActionableTweets(H),"unfavorite");E._updateTweetDisplay(H,"unfavorite")},complete:function(H,F,G){var I=G.requestParameters[0];E.markAsComplete(E._getActionableTweets(I),"unfavorite")},error:function(H,F,G){var I=G.requestParameters[0];E._updateTweetDisplay(I,"favorite");twttr.errors.showErrorFromResponse(F,"unfavorite")}});twttr.API.Status.bind("retweet",{before:function(G,F){var H=F.requestParameters[0];E.markAsPending(E._getActionableTweets(H),"retweet");E._updateTweetDisplay(H,"retweet")},complete:function(H,F,G){var I=G.requestParameters[0];E.markAsComplete(E._getActionableTweets(I),"retweet")},error:function(H,F,G){var I=G.requestParameters[0];E._updateTweetDisplay(I,"unretweet");twttr.errors.showErrorFromResponse(F,"retweet")},success:function(H,G){var F=G.retweetingStatus.id,I=G.id;G.sync("current_user_retweet",{id:F});E.$find("div.js-actionable-tweet[data-tweet-id="+I+"]").attr("data-my-retweet-id",F)}});twttr.API.Status.bind("unretweet",{before:function(I,H){var F=H.requestParameters[0].id;var G=E._getActionableMyRetweets(F);E.markAsPending(G,"unretweet");var J=G.attr("data-tweet-id");E._updateTweetDisplay(J,"unretweet")},complete:function(J,G,I){var F=I.requestParameters[0].id;var H=E._getActionableMyRetweets(F);E.markAsComplete(H,"unretweet")},error:function(J,G,I){var F=I.requestParameters[0].id;var H=E._getActionableMyRetweets(F);var K=H.attr("data-tweet-id");E._updateTweetDisplay(K,"retweet")},success:function(I,G,H){var J=G.id;var F=G.retweetingStatus.id;E._updateTweetDisplay(J,"unretweet");E._getActionableTweets(J).attr("data-my-retweet-id",null)}});twttr.API.Status.bind("delete",{before:function(G,F){var H=F.requestParameters[0].id;E.markAsPending(E._getActionableTweets(H),"delete");E._updateTweetDisplay(H,"hide")},complete:function(H,F,G){var I=G.requestParameters[0].id;E.markAsComplete(E._getActionableTweets(I),"delete")},error:function(H,F,G){var I=G.requestParameters[0].id;E._updateTweetDisplay(I,"show")},success:function(H,F,G){var I=F.id;E._updateTweetDisplay(I,"delete")}})},registerTweetActionEvents:function(){var E=this;this.$node.delegate(".js-actionable-tweet .js-action-profile-avatar","click",function(H){var F=$(this),I=F.closest(".js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logProfileImageClick(G)}E.trigger("avatar_click.tweet",[I,F,"avatar"])});this.$node.delegate(".js-actionable-tweet .js-action-profile-name","click",function(H){var F=$(this),I=F.closest(".js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logScreenNameClick(G)}E.trigger("screen_name_click.tweet",[I,F,"screen_name"])});this.$node.delegate(".js-actionable-tweet .js-action-profile-promoted","click",function(H){var F=$(this),I=F.closest(".js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logFooterProfileClick(G)}E.trigger("promoted_badge_click.tweet",[I,F,"promoted_badge"])});this.$node.delegate(".js-actionable-tweet .twitter-hashtag","click",function(H){var F=$(this),I=F.closest(".js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logHashtagClick(G,F.text())}E.trigger("hashtag_click.tweet",[I,F,"hashtag"])});this.$node.delegate(".js-actionable-tweet .twitter-atreply","click",function(H){var F=$(this),I=F.closest(".js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logUserMentionClick(G,F.text())}E.trigger("mention_click.tweet",[I,F,"mention"])});this.$node.delegate(".js-actionable-tweet .twitter-timeline-link","click",function(H){var F=$(this),I=F.closest(".js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logUrlClick(G,F.text())}E.trigger("external_link_click.tweet",[I,F,"external_link"])});this.$node.delegate(".js-stream-item .js-permalink","click",function(H){var F=$(this),I=F.closest(".js-stream-item").find("div.js-actionable-tweet"),G=I.attr("data-impression-id");if(G){twttr.API.util.PromotedContent.logPermalinkClick(G)}E.trigger("permalink_click.tweet",[I,F,"permalink"])});this.$node.delegate(".js-actions .js-toggle-fav","click",function(F){if(twttr.loggedIn){E.tweetActionFavorite($(this).closest(".js-actionable-tweet"),"click")}else{twttr.dialogs.signinOrSignup().open()}F.preventDefault();F.stopPropagation();return false});this.$node.delegate(".js-actions .js-action-reply","click",function(H){if(twttr.loggedIn){var G=$(this).closest(".js-actionable-tweet");if(twttr.decider.hasInlineReplies()&&G.hasClass("original-tweet")){if(!G.hasClass("opened-tweet")){G.find(".action-reply-container").trigger("click")}else{var F=G.data("inline-tweetbox");F&&F.focus()}}else{E.tweetActionReply(G,"click")}}else{twttr.dialogs.signinOrSignup().open()}H.preventDefault();H.stopPropagation();return false});this.$node.delegate(".js-action-dismiss","click",function(F){E.tweetActionDismiss($(this).closest(".js-actionable-tweet"),"click");F.preventDefault();F.stopPropagation();return false});this.$node.delegate(".js-actions .js-action-del","click",function(F){E.tweetActionDelete($(this).closest(".js-actionable-tweet"),"click");F.preventDefault();F.stopPropagation();return false});this.$node.delegate(".js-actions .js-toggle-rt","click",function(F){if(twttr.loggedIn){E.tweetActionRetweet($(this).closest(".js-actionable-tweet"),"click")}else{twttr.dialogs.signinOrSignup().open()}F.preventDefault();F.stopPropagation();return false});this.$node.delegate(".js-actions .js-action-notrel","click",function(F){E.tweetActionNotRelevant($(this).closest(".js-actionable-tweet"),"click");F.preventDefault();F.stopPropagation();return false});this._registerTweetActionAPIListeners();this._registerTweetActionScribeListeners()}});if(twttr.isT1){this.methods({rerenderTweetActionsView:twttr.util.noopInT1})}else{this.methods({rerenderTweetActionsView:function(F,H,E){var G=new twttr.views.TweetActions(H);if(F==="unretweet"){G.retweeted=false}E.find("span.js-actions, ul.js-actions").replaceWith(G.html())}})}return D});A(twttr.mixins.tweetActionable)})});provide("mixins/pendingActions",function(A){using().as(function(B){var C=twttr.klass.mixin("twttr.mixins.pendingActions",function(){var F=jQuery;function E(H){var G=H.attr("data-pending");return G?G.split(" "):[]}function D(G,H){if(H.length===0){G.removeAttr("data-pending")}else{G.attr("data-pending",H.join(" "))}}this.methods({markAsPending:function(G,H){var I=E(G);if(F.inArray(H,I)==-1){I.push(H);D(G,I)}},markAsComplete:function(G,I){var J=E(G),H=F.inArray(I,J);if(H>=0){J.splice(H,1);D(G,J)}}});return this});A(C)})});provide("mixins/i18nTweet",function(A){using().as(function(B){twttr.klass.mixin("twttr.mixins.i18nTweet",function(){var D=0.3;var E=twttr.constants.regexps.rtlChar;var C=/((<a[^>+]+>.+?<\/a>|[ ^]RT:|:-?[DP\$\)\(])+)/g;this.methods({updateI18nDisplay:function(){var F=this;this.$find("div.tweet, div.tweet-row").each(function(){F.updateRtlDisplay($(this))})},getMachedRtlChars:function(F){return F.match(E)},shouldBeRTL:function(I,H){var G=twttr.txt.extractMentions(I).concat(twttr.txt.extractUrls(I)).join("");var F=I.length-G.length;return F!=0&&H.length/F>D},updateRtlDisplay:function(I){var H=this;var F=I.find("div.js-tweet-text, p.js-tweet-text");if(F.hasClass("tweet-text-rtl")){return }var G=this.getMachedRtlChars(F.text());if(G!=undefined){if(this.shouldBeRTL(F.text(),G)){F.addClass("tweet-text-rtl");F.html(F.html().replace(C,"\u200E$1\u200F"));F.addClass("tweet-rtl")}}}})});A(twttr.mixins.i18nTweet)})});provide("mixins/i18nTweetBox",function(A){using().as(function(B){twttr.klass.mixin("twttr.mixins.i18nTweetBox",function(){this.mixin(twttr.mixins.i18nTweet).methods({registerTextDirEvents:function(){this.editor.bind("didChangeContent",twttr.bind(this,this._toggleTextDir))},_insertLTRMarker:function(C){var E=0;var D=[];$(twttr.txt.extractMentionsWithIndices(C)).each(function(G,F){D.push(C.substring(E,F.indices[0]));if(F.indices[0]===0||C[F.indices[0]-1]!=="\u200e"){D.push("\u200e")}D.push(C.substring(F.indices[0],F.indices[1]));if(F.indices[1]===0||C[F.indices[1]+1]!=="\u200f"){D.push("\u200f")}E=F.indices[1]});D.push(C.substr(E));C=D.join("");E=0;D.length=0;$(twttr.txt.extractHashtagsWithIndices(C)).each(function(G,F){D.push(C.substring(E,F.indices[0]));if(!C[F.indices[0]+1].match(twttr.constants.regexps.rtlChar)&&(F.indices[0]===0||C[F.indices[0]-1]!=="\u200e")){D.push("\u200e")}E=F.indices[0]});D.push(C.substr(E));C=D.join("");E=0;D.length=0;$(twttr.txt.extractUrlsWithIndices(C)).each(function(G,F){D.push(C.substring(E,F.indices[1]));if(F.indices[1]!==0&&C[F.indices[1]+1]!=="\u200e"){D.push("\u200e")}E=F.indices[1]});D.push(C.substr(E));C=D.join("");return C},_eraseCheck:function(C){if(this._prev_txt&&this._prev_txt.length-C.length===1){for(i=0;i<this._prev_txt.length;++i){if(this._prev_txt[i]!==C[i]&&(this._prev_txt[i]==="\u200e"||this._prev_txt[i]==="\u200f")){return C.substring(0,i-1)+C.substr(i)}}}return C},_markAtmarkLTR:function(F){function E(M){var K=0;if(document.selection){M.focus();var L=document.selection.createRange();L.moveStart("character",-M.value.length);K=L.text.length}else{if(M.selectionStart||M.selectionStart=="0"){K=M.selectionStart}}return K}function I(L,M){if(L.setSelectionRange){L.focus();L.setSelectionRange(M,M)}else{if(L.createTextRange){var K=L.createTextRange();K.collapse(true);K.moveEnd("character",M);K.moveStart("character",M);K.select()}}}var G=F.parents("body").length!==0;var D=0;if(G){D=E(F[0])}var H=F.val().length;var C=this._eraseCheck(F.val()).replace(twttr.constants.regexps.dirMark,"");C=this._insertLTRMarker(C);if(G&&this._prev_txt!==C){this._prev_txt=C;F.val(C);var J=D+C.length-H;I(F[0],J)}},markPunctuation:function(C,G){var F=G.val();var D=F.match(twttr.constants.regexps.rtlChar);var E=twttr.isRTL;if(D){E=this.shouldBeRTL(F,D)}else{if(F.length!==0){E=false}}G.attr("dir",E?"rtl":"ltr");if(D&&($.browser.mozilla||($.browser.webkit&&C&&C.type==="keydown")||($.browser.msie&&C&&C.type==="keyup"))){this._markAtmarkLTR(G)}},_toggleTextDir:function(D,E,C){this.markPunctuation(C,this.editor.$editor)}})});A(twttr.mixins.i18nTweetBox)})});provide("mixins/promotedTweetStream",function(A){using("_").as(function(C,D){var B=twttr.klass.mixin("twttr.mixins.promotedTweetStream",function(E){E.methods({hasPromotedContent:function(){for(var G=0,F=this.items.length;G<F;G++){if(this.items[G].isPromoted()){return true}}return false},logPromotedImpressions:function(G){function F(H){H.logImpressionIfPromoted()}if(G.each){G.each(F)}else{twttr.each(G,F)}},movePromotedTweetToTop:function(){var F=this.getMostRecentPromotedTweet();if(F){this.removePromotedTweetDOMElements();this.removePromotedTweetItems();this.addAsNewItem(F)}},getMostRecentPromotedTweet:function(){for(var G=this.newItemsCount,F=this.items.length;G<F;G++){if(this.items[G].isPromoted()){return this.items[G]}}},promotedTweetIsExpanded:function(){var F=this.$find(".promoted-tweet").closest(".js-stream-item");return F.hasClass("open")},removePromotedTweetDOMElements:function(){this.$find(".promoted-tweet").closest(".js-stream-item").remove()},removePromotedTweetItems:function(){for(var F=this.newItemsCount;F<this.items.length;F++){if(this.items[F].isPromoted()){this.items.splice(F,1)}}}});return E});A(B)})});provide("mixins/componentEvents",function(A){using("util","constants").as(function(C){var B;twttr.klass.mixin("twttr.mixins.componentEvents",function(D){$.each(C.constants.jQueryEvents,function(F,E){D[E]=function(G){if(twttr.is.inArray(E,["keypress","keydown","keyup"])){$.each(G,function(H,I){G[H]=function(J){return J.ctrlKey||J.metaKey||J.altKey?undefined:I.apply(this,arguments)}})}if(!this.prototype.hasOwnProperty("_"+E)){if(this.uberclass&&this.uberclass.prototype["_"+E]){this.prototype["_"+E]=C.util.create(this.uberclass.prototype["_"+E])}else{this.prototype["_"+E]={}}}twttr.augmentObject(this.prototype["_"+E],G);return this}});D.statics({debugUserEvents:function(E){B=typeof E==="undefined"?true:E}});D.methods({initComponentEvents:function(E){var F=this;E=E||this.$node;$.each(C.constants.jQueryEvents,function(H,G){if(twttr.is.inArray(G,["keypress","keydown","keyup"])){return }$.each(F["_"+G]||{},function(I,L){var K=[I,G];var J=$.isArray(L)?L:[L];$.each(J,function(N,M){K.push(function(O){if(B){console.log("User event fired",{component:F,event:G,selector:I,handler:M})}if(!O.isImmediatePropagationStopped()){return M.call(F,O,$(this))}})});E.delegate.apply(E,K)})})}});return D});A(twttr.mixins.componentEvents)})});provide("mixins/protectedUserActionable",function(A){using("_").as(function(B,C){twttr.klass.mixin("twttr.mixins.protectedUserActionable",function(D){D.methods({registerProtectedUserActions:function(){var E=this;this.$node.delegate(".js-actionable-user .js-action-deny","click",function(G){var F=$(this),H=F.closest(".js-actionable-user");twttr.currentUser.friends.deny(parseInt(H.attr("data-user-id")),function(I){E.trigger("deny.user",[H,F,"deny"]);H.parents(".js-stream-item").remove()});G.stopImmediatePropagation();return false});this.$node.delegate(".js-actionable-user .js-action-accept","click",function(G){var F=$(this),H=F.closest(".js-actionable-user");twttr.currentUser.friends.accept(parseInt(H.attr("data-user-id")),function(I){E.trigger("accept.user",[H,F,"accept"]);new twttr.views.StreamUser(I).render(H,"replaceWith")});G.stopImmediatePropagation();return false})}});return D});A(twttr.mixins.protectedUserActionable)})});provide("mixins/serverRenderableObject",function(A){using("libwrap/jquery").as(function(B,C){twttr.klass.mixin("twttr.mixins.serverRenderableObject",function(D){D.methods({preRendered:false,$domNode:function F(H){if(this.$node){return this.$node}if(this.isPresentInDom()){this.preRendered=true;this.$node=C(this.selectorAsString())}else{this.preRendered=false;if(typeof H==="function"){H=H.call(this)}this.$node=C(H);if(this.$node.length>1){this.$node=C("<div />").html(H)}}return this.$node},domNodeSelector:null,selectorAsString:function G(){return(typeof this.domNodeSelector==="function")?this.domNodeSelector():this.domNodeSelector},isPresentInDom:function E(){var H=this.selectorAsString();return H&&C(H).length===1}});return D});A(twttr.mixins.serverRenderableObject)})});provide("mixins/welcomeScribing",function(A){using().as(function(B){twttr.klass.mixin("twttr.mixins.welcomeScribing",function(C){C.methods({setWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=false;$.cookie("welcome","1",{expires:(new Date((+new Date)+3600000))})},clearWelcomeSkipCookie:function(){if(!twttr.mixins.welcomeScribing._noWelcomeSkipCookie){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=true;$.cookie("welcome",null)}},maybeScribeWelcomeSkip:function(){if(twttr.mixins.welcomeScribing._noWelcomeSkipCookie||$.cookie("welcome")!="1"){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=true;return }var D={page:"welcome",section:"finished",action:"skip"};trackClient(D);this.clearWelcomeSkipCookie()}});return C});A()})});provide("mixins/t1/emptyTimelineRecommendations",function(A){using().as(function(){twttr.klass.mixin("twttr.mixins.emptyTimelineRecommendations",function(){this.statics({showing:false}).methods({insertEmptyTimeline:function(B){var B=B||{},C=this;using([twttr.bundleMore,"components/t1/EmptyTimelineRecommendations"],function(){if((twttr.cache.local.shownWelcomeFlow&&twttr.currentUser.friendsCount>0)||(twttr.currentUser.friendsCount>=twttr.components.t1.EmptyTimelineRecommendations.avatarLimit&&!twttr.util.params().empty_timeline)){twttr.mixins.emptyTimelineRecommendations.showing=false;C.signal("emptyTimelineModuleLogicCompleted");return }var G=C.$find("#js-empty-timeline-recommendations-module-hook"),D=C.$find(".js-stream-manager-container, .js-stream-header"),I=twttr.abdecider.choose("empty_timeline_176");if(I.substring(0,8)=="timeline"||twttr.util.params().empty_timeline){G.show();twttr.mixins.emptyTimelineRecommendations.showing=true;twttr.router.one("routed.EmptyTimelineRecommendations",function(K,J){if(H===J.name){twttr.router.one("routed.EmptyTimelineRecommendations",arguments.callee)}else{G.hide();D.show()}});var H=twttr.router.getCurrentRoute().name;if(G.find(".js-empty-timeline").size()>0){C.signal("emptyTimelineModuleLogicCompleted");return }var F=new twttr.components.t1.EmptyTimelineRecommendations({scribeComponentName:"empty_timeline_recommendations"});if(twttr.currentUser.friendsCount===0){D.hide()}G.html(F.$node);F.trigger("addedToPage");typeof B.onDestroyCb==="function"&&F.bind("destroyed",B.onDestroyCb);var E={success:function(){var J=C.streamManager.streams.current;B.reloadStream&&J.trigger("reloadCurrentStream",J.constructor);D.show()}};twttr.API.User.bind("follow.EmptyTimelineRecommendations",E);var E={success:function(){var J=C.streamManager.streams.current;B.reloadStream&&J.trigger("reloadCurrentStream",J.constructor);if(twttr.currentUser.friendsCount===0){D.hide()}}};twttr.API.User.bind("unfollow.EmptyTimelineRecommendations",E);C.signal("emptyTimelineModuleLogicCompleted")}else{this.signal("emptyTimelineModuleLogicCompleted")}})}})});A(twttr.mixins.emptyTimelineRecommendations)})});provide("lib/natcompare",function(A){using().as(function(B){var C=twttr.augmentString("twttr.natcompare",function(){var D=function(H){var G;G=H.charCodeAt(0);if(G<=32){return true}else{return false}};var F=function(H){var G;G=H.charCodeAt(0);if(G>=48&&G<=57){return true}else{return false}};var E=function(K,H){var M=0;var L=0;var J=0;var I;var G;for(;;L++,J++){I=K.charAt(L);G=H.charAt(J);if(!F(I)&&!F(G)){return M}else{if(!F(I)){return -1}else{if(!F(G)){return +1}else{if(I<G){if(M==0){M=-1}}else{if(I>G){if(M==0){M=+1}}}}}}}};return function(N,M){if(typeof N==="number"){N=N.toString()}if(typeof M==="number"){M=M.toString()}var J=0,H=0;var I=0,G=0;var L,K;var O;while(true){I=G=0;L=N.charAt(J);K=M.charAt(H);while(D(L)||L=="0"){if(L=="0"){I++}else{I=0}L=N.charAt(++J)}while(D(K)||K=="0"){if(K=="0"){G++}else{G=0}K=M.charAt(++H)}if(F(L)&&F(K)){if((O=E(N.substring(J),M.substring(H)))!=0){return O}}if(L==0&&K==0){return I-G}if(L<K){return -1}else{if(L>K){return +1}}++J;++H}}}());twttr.augmentString("twttr.util.natcompare",C);A(C)})});provide("$lib/twitter-text-1.4.16.js",function(exports){
/*
 * twitter-text-js 1.4.16
 *
 * Copyright 2011 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this work except in compliance with the License.
 * You may obtain a copy of the License at:
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 */
if(typeof window==="undefined"||window===null){window={twttr:{}}}if(window.twttr==null){window.twttr={}}if(typeof twttr==="undefined"||twttr===null){twttr={}}(function(){twttr.txt={};twttr.txt.regexen={};var HTML_ENTITIES={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(text){return text&&text.replace(/[&"'><]/g,function(character){return HTML_ENTITIES[character]})};function regexSupplant(regex,flags){flags=flags||"";if(typeof regex!=="string"){if(regex.global&&flags.indexOf("g")<0){flags+="g"}if(regex.ignoreCase&&flags.indexOf("i")<0){flags+="i"}if(regex.multiline&&flags.indexOf("m")<0){flags+="m"}regex=regex.source}return new RegExp(regex.replace(/#\{(\w+)\}/g,function(match,name){var newRegex=twttr.txt.regexen[name]||"";if(typeof newRegex!=="string"){newRegex=newRegex.source}return newRegex}),flags)}function stringSupplant(str,values){return str.replace(/#\{(\w+)\}/g,function(match,name){return values[name]||""})}function addCharsToCharClass(charClass,start,end){var s=String.fromCharCode(start);if(end!==start){s+="-"+String.fromCharCode(end)}charClass.push(s);return charClass}var fromCode=String.fromCharCode;var UNICODE_SPACES=[fromCode(32),fromCode(133),fromCode(160),fromCode(5760),fromCode(6158),fromCode(8232),fromCode(8233),fromCode(8239),fromCode(8287),fromCode(12288)];addCharsToCharClass(UNICODE_SPACES,9,13);addCharsToCharClass(UNICODE_SPACES,8192,8202);var INVALID_CHARS=[fromCode(65534),fromCode(65279),fromCode(65535)];addCharsToCharClass(INVALID_CHARS,8234,8238);twttr.txt.regexen.spaces_group=regexSupplant(UNICODE_SPACES.join(""));twttr.txt.regexen.spaces=regexSupplant("["+UNICODE_SPACES.join("")+"]");twttr.txt.regexen.invalid_chars_group=regexSupplant(INVALID_CHARS.join(""));twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/;twttr.txt.regexen.atSigns=/[@]/;twttr.txt.regexen.extractMentions=regexSupplant(/(^|[^a-zA-Z0-9_!#$%&*@])(#{atSigns})([a-zA-Z0-9_]{1,20})/g);twttr.txt.regexen.extractReply=regexSupplant(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/;twttr.txt.regexen.extractMentionsOrLists=regexSupplant(/(^|[^a-zA-Z0-9_!#$%&*@])(#{atSigns})([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g);var nonLatinHashtagChars=[];addCharsToCharClass(nonLatinHashtagChars,1024,1279);addCharsToCharClass(nonLatinHashtagChars,1280,1319);addCharsToCharClass(nonLatinHashtagChars,11744,11775);addCharsToCharClass(nonLatinHashtagChars,42560,42655);addCharsToCharClass(nonLatinHashtagChars,1425,1469);addCharsToCharClass(nonLatinHashtagChars,1471,1471);addCharsToCharClass(nonLatinHashtagChars,1473,1474);addCharsToCharClass(nonLatinHashtagChars,1476,1477);addCharsToCharClass(nonLatinHashtagChars,1479,1479);addCharsToCharClass(nonLatinHashtagChars,1488,1514);addCharsToCharClass(nonLatinHashtagChars,1520,1522);addCharsToCharClass(nonLatinHashtagChars,64274,64296);addCharsToCharClass(nonLatinHashtagChars,64298,64310);addCharsToCharClass(nonLatinHashtagChars,64312,64316);addCharsToCharClass(nonLatinHashtagChars,64318,64318);addCharsToCharClass(nonLatinHashtagChars,64320,64321);addCharsToCharClass(nonLatinHashtagChars,64323,64324);addCharsToCharClass(nonLatinHashtagChars,64326,64335);addCharsToCharClass(nonLatinHashtagChars,1552,1562);addCharsToCharClass(nonLatinHashtagChars,1568,1631);addCharsToCharClass(nonLatinHashtagChars,1646,1747);addCharsToCharClass(nonLatinHashtagChars,1749,1756);addCharsToCharClass(nonLatinHashtagChars,1758,1768);addCharsToCharClass(nonLatinHashtagChars,1770,1775);addCharsToCharClass(nonLatinHashtagChars,1786,1788);addCharsToCharClass(nonLatinHashtagChars,1791,1791);addCharsToCharClass(nonLatinHashtagChars,1872,1919);addCharsToCharClass(nonLatinHashtagChars,2208,2208);addCharsToCharClass(nonLatinHashtagChars,2210,2220);addCharsToCharClass(nonLatinHashtagChars,2276,2302);addCharsToCharClass(nonLatinHashtagChars,64336,64433);addCharsToCharClass(nonLatinHashtagChars,64467,64829);addCharsToCharClass(nonLatinHashtagChars,64848,64911);addCharsToCharClass(nonLatinHashtagChars,64914,64967);addCharsToCharClass(nonLatinHashtagChars,65008,65019);addCharsToCharClass(nonLatinHashtagChars,65136,65140);addCharsToCharClass(nonLatinHashtagChars,65142,65276);addCharsToCharClass(nonLatinHashtagChars,8204,8204);addCharsToCharClass(nonLatinHashtagChars,3585,3642);addCharsToCharClass(nonLatinHashtagChars,3648,3662);addCharsToCharClass(nonLatinHashtagChars,4352,4607);addCharsToCharClass(nonLatinHashtagChars,12592,12677);addCharsToCharClass(nonLatinHashtagChars,43360,43391);addCharsToCharClass(nonLatinHashtagChars,44032,55215);addCharsToCharClass(nonLatinHashtagChars,55216,55295);addCharsToCharClass(nonLatinHashtagChars,65441,65500);addCharsToCharClass(nonLatinHashtagChars,12449,12538);addCharsToCharClass(nonLatinHashtagChars,12540,12542);addCharsToCharClass(nonLatinHashtagChars,65382,65439);addCharsToCharClass(nonLatinHashtagChars,65392,65392);addCharsToCharClass(nonLatinHashtagChars,65296,65305);addCharsToCharClass(nonLatinHashtagChars,65313,65338);addCharsToCharClass(nonLatinHashtagChars,65345,65370);addCharsToCharClass(nonLatinHashtagChars,12353,12438);addCharsToCharClass(nonLatinHashtagChars,12441,12446);addCharsToCharClass(nonLatinHashtagChars,13312,19903);addCharsToCharClass(nonLatinHashtagChars,19968,40959);addCharsToCharClass(nonLatinHashtagChars,173824,177983);addCharsToCharClass(nonLatinHashtagChars,177984,178207);addCharsToCharClass(nonLatinHashtagChars,194560,195103);addCharsToCharClass(nonLatinHashtagChars,12291,12291);addCharsToCharClass(nonLatinHashtagChars,12293,12293);addCharsToCharClass(nonLatinHashtagChars,12347,12347);twttr.txt.regexen.nonLatinHashtagChars=regexSupplant(nonLatinHashtagChars.join(""));var latinAccentChars=[];addCharsToCharClass(latinAccentChars,192,214);addCharsToCharClass(latinAccentChars,216,246);addCharsToCharClass(latinAccentChars,248,255);addCharsToCharClass(latinAccentChars,256,591);addCharsToCharClass(latinAccentChars,595,596);addCharsToCharClass(latinAccentChars,598,599);addCharsToCharClass(latinAccentChars,601,601);addCharsToCharClass(latinAccentChars,603,603);addCharsToCharClass(latinAccentChars,611,611);addCharsToCharClass(latinAccentChars,616,616);addCharsToCharClass(latinAccentChars,623,623);addCharsToCharClass(latinAccentChars,626,626);addCharsToCharClass(latinAccentChars,649,649);addCharsToCharClass(latinAccentChars,651,651);addCharsToCharClass(latinAccentChars,699,699);addCharsToCharClass(latinAccentChars,7680,7935);twttr.txt.regexen.latinAccentChars=regexSupplant(latinAccentChars.join(""));twttr.txt.regexen.endScreenNameMatch=regexSupplant(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/);twttr.txt.regexen.hashtagAlpha=regexSupplant(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i);twttr.txt.regexen.hashtagAlphaNumeric=regexSupplant(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i);twttr.txt.regexen.endHashtagMatch=/^(?:[#]|:\/\/)/;twttr.txt.regexen.hashtagBoundary=regexSupplant(/(?:^|$|[^&\/a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/);twttr.txt.regexen.autoLinkHashtags=regexSupplant(/(#{hashtagBoundary})(#|)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi);twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_!#\$%&*@]|RT:?)([@]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g;twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/\\\\\\\\|\(\|:\|\/\)|:\*\)|\( \| \))/g;twttr.txt.regexen.validPrecedingChars=regexSupplant(/(?:[^-\/"'!=A-Za-z0-9_@$#\.#{invalid_chars_group}]|^)/);twttr.txt.regexen.invalidDomainChars=stringSupplant("#{punct}#{spaces_group}#{invalid_chars_group}",twttr.txt.regexen);twttr.txt.regexen.validDomainChars=regexSupplant(/[^#{invalidDomainChars}]/);twttr.txt.regexen.validSubdomain=regexSupplant(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/);twttr.txt.regexen.validDomainName=regexSupplant(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/);twttr.txt.regexen.validGTLD=regexSupplant(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^a-zA-Z]|$))/);twttr.txt.regexen.validCCTLD=regexSupplant(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^a-zA-Z]|$))/);twttr.txt.regexen.validPunycode=regexSupplant(/(?:xn--[0-9a-z]+)/);twttr.txt.regexen.validDomain=regexSupplant(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/);twttr.txt.regexen.validAsciiDomain=regexSupplant(/(?:(?:[a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi);twttr.txt.regexen.invalidShortDomain=regexSupplant(/^#{validDomainName}#{validCCTLD}$/);twttr.txt.regexen.validPortNumber=regexSupplant(/[0-9]+/);twttr.txt.regexen.validGeneralUrlPathChars=regexSupplant(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~|&#{latinAccentChars}]/i);twttr.txt.regexen.validUrlBalancedParens=regexSupplant(/\(#{validGeneralUrlPathChars}+\)/i);twttr.txt.regexen.validUrlPathEndingChars=regexSupplant(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i);twttr.txt.regexen.validUrlPath=regexSupplant("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i");twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i;twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i;twttr.txt.regexen.extractUrl=regexSupplant("((#{validPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi");twttr.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i;twttr.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i;twttr.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i;twttr.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i;twttr.txt.regexen.validateUrlPchar=regexSupplant("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i");twttr.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i;twttr.txt.regexen.validateUrlUserinfo=regexSupplant("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i");twttr.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;twttr.txt.regexen.validateUrlIpv4=regexSupplant(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i);twttr.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i;twttr.txt.regexen.validateUrlIp=regexSupplant("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i");twttr.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i;twttr.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i;twttr.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i;twttr.txt.regexen.validateUrlDomain=regexSupplant(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i);twttr.txt.regexen.validateUrlHost=regexSupplant("(?:#{validateUrlIp}|#{validateUrlDomain})","i");twttr.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;twttr.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;twttr.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i;twttr.txt.regexen.validateUrlUnicodeDomain=regexSupplant(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i);twttr.txt.regexen.validateUrlUnicodeHost=regexSupplant("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i");twttr.txt.regexen.validateUrlPort=/[0-9]{1,5}/;twttr.txt.regexen.validateUrlUnicodeAuthority=regexSupplant("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i");twttr.txt.regexen.validateUrlAuthority=regexSupplant("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i");twttr.txt.regexen.validateUrlPath=regexSupplant(/(\/#{validateUrlPchar}*)*/i);twttr.txt.regexen.validateUrlQuery=regexSupplant(/(#{validateUrlPchar}|\/|\?)*/i);twttr.txt.regexen.validateUrlFragment=regexSupplant(/(#{validateUrlPchar}|\/|\?)*/i);twttr.txt.regexen.validateUrlUnencoded=regexSupplant("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var DEFAULT_URL_CLASS="tweet-url";var DEFAULT_LIST_CLASS="list-slug";var DEFAULT_USERNAME_CLASS="username";var DEFAULT_HASHTAG_CLASS="hashtag";var HTML_ATTR_NO_FOLLOW=' rel="nofollow"';function clone(o){var r={};for(var k in o){if(o.hasOwnProperty(k)){r[k]=o[k]}}return r}twttr.txt.autoLink=function(text,options){options=clone(options||{});return twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(text,options),options),options)};twttr.txt.autoLinkUsernamesOrLists=function(text,options){options=clone(options||{});options.urlClass=options.urlClass||DEFAULT_URL_CLASS;options.listClass=options.listClass||DEFAULT_LIST_CLASS;options.usernameClass=options.usernameClass||DEFAULT_USERNAME_CLASS;options.usernameUrlBase=options.usernameUrlBase||"https://twitter.com/";options.listUrlBase=options.listUrlBase||"https://twitter.com/";if(!options.suppressNoFollow){var extraHtml=HTML_ATTR_NO_FOLLOW}var newText="",splitText=twttr.txt.splitTags(text);for(var index=0;index<splitText.length;index++){var chunk=splitText[index];if(index!==0){newText+=((index%2===0)?">":"<")}if(index%4!==0){newText+=chunk}else{newText+=chunk.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(match,before,at,user,slashListname,offset,chunk){var after=chunk.slice(offset+match.length);var d={before:before,at:options.usernameIncludeSymbol?"":at,at_before_user:options.usernameIncludeSymbol?at:"",user:twttr.txt.htmlEscape(user),slashListname:twttr.txt.htmlEscape(slashListname),extraHtml:extraHtml,preChunk:"",postChunk:""};for(var k in options){if(options.hasOwnProperty(k)){d[k]=options[k]}}if(slashListname&&!options.suppressLists){var list=d.chunk=stringSupplant("#{user}#{slashListname}",d);d.list=twttr.txt.htmlEscape(list.toLowerCase());return stringSupplant('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',d)}else{if(after&&after.match(twttr.txt.regexen.endScreenNameMatch)){return match}else{d.chunk=d.user;d.dataScreenName=!options.suppressDataScreenName?stringSupplant('data-screen-name="#{chunk}" ',d):"";return stringSupplant('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',d)}}})}}return newText};twttr.txt.autoLinkHashtags=function(text,options){options=clone(options||{});options.urlClass=options.urlClass||DEFAULT_URL_CLASS;options.hashtagClass=options.hashtagClass||DEFAULT_HASHTAG_CLASS;options.hashtagUrlBase=options.hashtagUrlBase||"https://twitter.com/#!/search?q=%23";if(!options.suppressNoFollow){var extraHtml=HTML_ATTR_NO_FOLLOW}return text.replace(twttr.txt.regexen.autoLinkHashtags,function(match,before,hash,text,offset,chunk){var after=chunk.slice(offset+match.length);if(after.match(twttr.txt.regexen.endHashtagMatch)){return match}var d={before:before,hash:twttr.txt.htmlEscape(hash),preText:"",text:twttr.txt.htmlEscape(text),postText:"",extraHtml:extraHtml};for(var k in options){if(options.hasOwnProperty(k)){d[k]=options[k]}}return stringSupplant('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{preText}#{text}#{postText}</a>',d)})};twttr.txt.autoLinkUrlsCustom=function(text,options){options=clone(options||{});if(!options.suppressNoFollow){options.rel="nofollow"}if(options.urlClass){options["class"]=options.urlClass;delete options.urlClass}var urlEntities,i,len;if(options.urlEntities){urlEntities={};for(i=0,len=options.urlEntities.length;i<len;i++){urlEntities[options.urlEntities[i].url]=options.urlEntities[i]}}delete options.suppressNoFollow;delete options.suppressDataScreenName;delete options.listClass;delete options.usernameClass;delete options.usernameUrlBase;delete options.listUrlBase;delete options.urlEntities;return text.replace(twttr.txt.regexen.extractUrl,function(match,all,before,url,protocol,port,domain,path,queryString){var tldComponents;if(protocol){var htmlAttrs="";var after="";if(url.match(twttr.txt.regexen.validTcoUrl)){url=RegExp.lastMatch;after=RegExp.rightContext}var displayUrl=url;var linkText=twttr.txt.htmlEscape(displayUrl);if(urlEntities&&urlEntities[url]&&urlEntities[url].display_url){var displayUrl=urlEntities[url].display_url;var expandedUrl=urlEntities[url].expanded_url;if(!options.title){options.title=expandedUrl}var displayUrlSansEllipses=displayUrl.replace(//g,"");if(expandedUrl.indexOf(displayUrlSansEllipses)!=-1){var displayUrlIndex=expandedUrl.indexOf(displayUrlSansEllipses);var v={displayUrlSansEllipses:displayUrlSansEllipses,beforeDisplayUrl:expandedUrl.substr(0,displayUrlIndex),afterDisplayUrl:expandedUrl.substr(displayUrlIndex+displayUrlSansEllipses.length),precedingEllipsis:displayUrl.match(/^/)?"":"",followingEllipsis:displayUrl.match(/$/)?"":""};$.each(v,function(index,value){v[index]=twttr.txt.htmlEscape(value)});v.invisible="style='font-size:0; line-height:0'";linkText=stringSupplant("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",v)}}for(var k in options){var val=options[k].toString();htmlAttrs+=stringSupplant(' #{k}="#{val}" ',{k:k,val:twttr.txt.htmlEscape(val)})}var d={before:before,htmlAttrs:htmlAttrs,url:twttr.txt.htmlEscape(url),linkText:linkText,after:after};return stringSupplant('#{before}<a href="#{url}"#{htmlAttrs}>#{linkText}</a>#{after}',d)}else{return all}})};twttr.txt.extractMentions=function(text){var screenNamesOnly=[],screenNamesWithIndices=twttr.txt.extractMentionsWithIndices(text);for(var i=0;i<screenNamesWithIndices.length;i++){var screenName=screenNamesWithIndices[i].screenName;screenNamesOnly.push(screenName)}return screenNamesOnly};twttr.txt.extractMentionsWithIndices=function(text){if(!text){return[]}var possibleScreenNames=[],position=0;text.replace(twttr.txt.regexen.extractMentions,function(match,before,atSign,screenName,offset,chunk){var after=chunk.slice(offset+match.length);if(!after.match(twttr.txt.regexen.endScreenNameMatch)){var startPosition=text.indexOf(atSign+screenName,position);position=startPosition+screenName.length+1;possibleScreenNames.push({screenName:screenName,indices:[startPosition,position]})}});return possibleScreenNames};twttr.txt.extractMentionsOrListsWithIndices=function(text){if(!text){return[]}var possibleNames=[],position=0;text.replace(twttr.txt.regexen.extractMentionsOrLists,function(match,before,atSign,screenName,slashListname,offset,chunk){var after=chunk.slice(offset+match.length);if(!after.match(twttr.txt.regexen.endScreenNameMatch)){slashListname=slashListname||"";var startPosition=text.indexOf(atSign+screenName+slashListname,position);position=startPosition+screenName.length+slashListname.length+1;possibleNames.push({screenName:screenName,listSlug:slashListname,indices:[startPosition,position]})}});return possibleNames};twttr.txt.extractReplies=function(text){if(!text){return null}var possibleScreenName=text.match(twttr.txt.regexen.extractReply);if(!possibleScreenName||RegExp.rightContext.match(twttr.txt.regexen.endScreenNameMatch)){return null}return possibleScreenName[1]};twttr.txt.extractUrls=function(text){var urlsOnly=[],urlsWithIndices=twttr.txt.extractUrlsWithIndices(text);for(var i=0;i<urlsWithIndices.length;i++){urlsOnly.push(urlsWithIndices[i].url)}return urlsOnly};twttr.txt.extractUrlsWithIndices=function(text){if(!text){return[]}var urls=[];while(twttr.txt.regexen.extractUrl.exec(text)){var before=RegExp.$2,url=RegExp.$3,protocol=RegExp.$4,domain=RegExp.$5,path=RegExp.$7;var endPosition=twttr.txt.regexen.extractUrl.lastIndex,startPosition=endPosition-url.length;if(!protocol){var lastUrl=null,lastUrlInvalidMatch=false,asciiEndPosition=0;domain.replace(twttr.txt.regexen.validAsciiDomain,function(asciiDomain){var asciiStartPosition=domain.indexOf(asciiDomain,asciiEndPosition);asciiEndPosition=asciiStartPosition+asciiDomain.length;lastUrl={url:asciiDomain,indices:[startPosition+asciiStartPosition,startPosition+asciiEndPosition]};lastUrlInvalidMatch=asciiDomain.match(twttr.txt.regexen.invalidShortDomain);if(!lastUrlInvalidMatch){urls.push(lastUrl)}});if(lastUrl==null){continue}if(path){if(lastUrlInvalidMatch){urls.push(lastUrl)}lastUrl.url=url.replace(domain,lastUrl.url);lastUrl.indices[1]=endPosition}}else{if(url.match(twttr.txt.regexen.validTcoUrl)){url=RegExp.lastMatch;endPosition=startPosition+url.length}urls.push({url:url,indices:[startPosition,endPosition]})}}return urls};twttr.txt.extractHashtags=function(text){var hashtagsOnly=[],hashtagsWithIndices=twttr.txt.extractHashtagsWithIndices(text);for(var i=0;i<hashtagsWithIndices.length;i++){hashtagsOnly.push(hashtagsWithIndices[i].hashtag)}return hashtagsOnly};twttr.txt.extractHashtagsWithIndices=function(text){if(!text){return[]}var tags=[],position=0;text.replace(twttr.txt.regexen.autoLinkHashtags,function(match,before,hash,hashText,offset,chunk){var after=chunk.slice(offset+match.length);if(after.match(twttr.txt.regexen.endHashtagMatch)){return }var startPosition=text.indexOf(hash+hashText,position);position=startPosition+hashText.length+1;tags.push({hashtag:hashText,indices:[startPosition,position]})});return tags};twttr.txt.modifyIndicesFromUnicodeToUTF16=function(text,entities){twttr.txt.convertUnicodeIndices(text,entities,false)};twttr.txt.modifyIndicesFromUTF16ToUnicode=function(text,entities){twttr.txt.convertUnicodeIndices(text,entities,true)};twttr.txt.convertUnicodeIndices=function(text,entities,indicesInUTF16){if(entities.length==0){return }var charIndex=0;var codePointIndex=0;entities.sort(function(a,b){return a.indices[0]-b.indices[0]});var entityIndex=0;var entity=entities[0];while(charIndex<text.length){if(entity.indices[0]==(indicesInUTF16?charIndex:codePointIndex)){var len=entity.indices[1]-entity.indices[0];entity.indices[0]=indicesInUTF16?codePointIndex:charIndex;entity.indices[1]=entity.indices[0]+len;entityIndex++;if(entityIndex==entities.length){break}entity=entities[entityIndex]}var c=text.charCodeAt(charIndex);if(55296<=c&&c<=56319&&charIndex<text.length-1){c=text.charCodeAt(charIndex+1);if(56320<=c&&c<=57343){charIndex++}}codePointIndex++;charIndex++}};twttr.txt.splitTags=function(text){var firstSplits=text.split("<"),secondSplits,allSplits=[],split;for(var i=0;i<firstSplits.length;i+=1){split=firstSplits[i];if(!split){allSplits.push("")}else{secondSplits=split.split(">");for(var j=0;j<secondSplits.length;j+=1){allSplits.push(secondSplits[j])}}}return allSplits};twttr.txt.hitHighlight=function(text,hits,options){var defaultHighlightTag="em";hits=hits||[];options=options||{};if(hits.length===0){return text}var tagName=options.tag||defaultHighlightTag,tags=["<"+tagName+">","</"+tagName+">"],chunks=twttr.txt.splitTags(text),split,i,j,result="",chunkIndex=0,chunk=chunks[0],prevChunksLen=0,chunkCursor=0,startInChunk=false,chunkChars=chunk,flatHits=[],index,hit,tag,placed,hitSpot;for(i=0;i<hits.length;i+=1){for(j=0;j<hits[i].length;j+=1){flatHits.push(hits[i][j])}}for(index=0;index<flatHits.length;index+=1){hit=flatHits[index];tag=tags[index%2];placed=false;while(chunk!=null&&hit>=prevChunksLen+chunk.length){result+=chunkChars.slice(chunkCursor);if(startInChunk&&hit===prevChunksLen+chunkChars.length){result+=tag;placed=true}if(chunks[chunkIndex+1]){result+="<"+chunks[chunkIndex+1]+">"}prevChunksLen+=chunkChars.length;chunkCursor=0;chunkIndex+=2;chunk=chunks[chunkIndex];chunkChars=chunk;startInChunk=false}if(!placed&&chunk!=null){hitSpot=hit-prevChunksLen;result+=chunkChars.slice(chunkCursor,hitSpot)+tag;chunkCursor=hitSpot;if(index%2===0){startInChunk=true}else{startInChunk=false}}else{if(!placed){placed=true;result+=tag}}}if(chunk!=null){if(chunkCursor<chunkChars.length){result+=chunkChars.slice(chunkCursor)}for(index=chunkIndex+1;index<chunks.length;index+=1){result+=(index%2===0?chunks[index]:"<"+chunks[index]+">")}}return result};var MAX_LENGTH=140;var INVALID_CHARACTERS=[fromCode(65534),fromCode(65279),fromCode(65535),fromCode(8234),fromCode(8235),fromCode(8236),fromCode(8237),fromCode(8238)];twttr.txt.isInvalidTweet=function(text){if(!text){return"empty"}if(text.length>MAX_LENGTH){return"too_long"}for(var i=0;i<INVALID_CHARACTERS.length;i++){if(text.indexOf(INVALID_CHARACTERS[i])>=0){return"invalid_characters"}}return false};twttr.txt.isValidTweetText=function(text){return !twttr.txt.isInvalidTweet(text)};twttr.txt.isValidUsername=function(username){if(!username){return false}var extracted=twttr.txt.extractMentions(username);return extracted.length===1&&extracted[0]===username.slice(1)};var VALID_LIST_RE=regexSupplant(/^#{autoLinkUsernamesOrLists}$/);twttr.txt.isValidList=function(usernameList){var match=usernameList.match(VALID_LIST_RE);return !!(match&&match[1]==""&&match[4])};twttr.txt.isValidHashtag=function(hashtag){if(!hashtag){return false}var extracted=twttr.txt.extractHashtags(hashtag);return extracted.length===1&&extracted[0]===hashtag.slice(1)};twttr.txt.isValidUrl=function(url,unicodeDomains,requireProtocol){if(unicodeDomains==null){unicodeDomains=true}if(requireProtocol==null){requireProtocol=true}if(!url){return false}var urlParts=url.match(twttr.txt.regexen.validateUrlUnencoded);if(!urlParts||urlParts[0]!==url){return false}var scheme=urlParts[1],authority=urlParts[2],path=urlParts[3],query=urlParts[4],fragment=urlParts[5];if(!((!requireProtocol||(isValidMatch(scheme,twttr.txt.regexen.validateUrlScheme)&&scheme.match(/^https?$/i)))&&isValidMatch(path,twttr.txt.regexen.validateUrlPath)&&isValidMatch(query,twttr.txt.regexen.validateUrlQuery,true)&&isValidMatch(fragment,twttr.txt.regexen.validateUrlFragment,true))){return false}return(unicodeDomains&&isValidMatch(authority,twttr.txt.regexen.validateUrlUnicodeAuthority))||(!unicodeDomains&&isValidMatch(authority,twttr.txt.regexen.validateUrlAuthority))};function isValidMatch(string,regex,optional){if(!optional){return((typeof string==="string")&&string.match(regex)&&RegExp["$&"]===string)}return(!string||(string.match(regex)&&RegExp["$&"]===string))}if(typeof module!="undefined"&&module.exports){module.exports=twttr.txt}}());exports();loadrunner.Script.loaded.push("$lib/twitter-text-1.4.16.js")});provide("setup",function(A){using("util").as(function(B){twttr.setup=function(E){function C(){var F=["webkit","mozilla","opera","msie"];for(var G=0;G<F.length;G++){if($.browser[F[G]]){return F[G]}}}$("body").addClass(C());if(!twttr.hoversInCss){$(".js-hover").live("mouseenter mouseleave",function(F){$(this).toggleClass("hover",F.type=="mouseenter")})}if(twttr.currentUser){twttr.caches.User=new twttr.cache.local.User(twttr.currentUser.screenName)}else{twttr.caches.User=new twttr.cache.local.User($.cookie("guest_id"))}twttr.app.init(E);twttr.$win=$(window);twttr.$doc=$(document);twttr.provide("twttr.$elements",{page:$("#page-outer")});twttr.windowHeight=twttr.$win.height();twttr["interface"].setup();twttr.ui.loadBar();twttr.search.setup();twttr.API.globalEvents.bind("rate_limited",function(F){twttr.errors.showErrorFromCode(twttr.constants.errorCodes.dailyLimit)});twttr.API.globalEvents.bind("unknown_error",function(F){twttr.errors.showErrorFromResponse({})});using(twttr.bundleMore,function(){var F=$("div.welcome-banner-outer");if(F.length>0){var I=twttr.banners.welcomeToPhoenix();I.bind("closed",function(){$.cookie("show_phx_welcome_"+twttr.currentUser.id,null)});F.remove();I.insert()}var G=$("div.became-user-banner-outer");if(G.length>0){G.remove();twttr.banners.becameUser().insert()}var H=$("div.top-bar-inside,div.banner div.banner-inside");if(!twttr.isT1){twttr.$win.scroll(function(){H.css("left",-twttr.$win.scrollLeft())})}});twttr.router.bind("routed",function(G,F){twttr.$win.scrollTop(0)});twttr.router.bind("urlChanged",function(G,F){twttr.trackPageView(F.name)});twttr.router.bind("routeNotFound",function(){twttr.app.switchToPage("404").send("notFound")});twttr.router.startRouting();if(twttr.decider.isInfiniteScroll()){B.util.lazyBind(window,"scroll",function(G){if(twttr.widget&&twttr.widget.Dialog&&twttr.widget.Dialog.currentModal){return }var F=twttr.app.currentPage();F.send("scrollEnd",[twttr.$win.scrollTop()]);if(Math.abs(twttr.$doc.scrollTop()+twttr.windowHeight-twttr.$doc.height())<500){F.send("getStreamManager",function(H){if(H&&!H.noInfiniteScroll){H.getMoreOldItems(function(I){_scribble("stream-scrolled",{page:I._page,stream:I._cacheKey,focused_tweet_id:I.focusedItemId||""})})}})}})}if(!twttr.isT1){B.util.lazyBind(window,"scroll",function(F){twttr.app.currentPage().send("repositionDetailsPane")},100)}B.util.lazyBind(window,"resize",function(G){var F=twttr.app.currentPage();twttr.windowHeight=twttr.$win.height();if(F){F.send("resizeDetailsPane")}twttr.windowHeight=twttr.$win.height()});twttr.isT1&&using("idleDetector",function(F){F({wait:5*60*1000})});(function(){var F=0,I;function H(){var K=$(this),J=parseInt(K.attr("data-time"),10);if(I-J>86400000){K.removeClass("_timestamp").addClass("_old-timestamp")}else{var L=twttr.helpers.timeAgo(J,JSON.parse(K.attr("data-long-form")||"false"),JSON.parse(K.attr("data-include-sec")||"false"));if(L!==K.text()){K.text(L)}}}function G(){var K=twttr.app.currentPage(),L=twttr.isT1&&twttr.at("widget.Dialog.currentModal",twttr);I=+new Date;K&&K.$find('span._timestamp[data-time$="'+F+'000"]').each(H);L&&L.$find('span._timestamp[data-time$="'+F+'000"]').each(H);var J=+new Date-I;F++;F%=10;setTimeout(G,2000)}setTimeout(G,2000)}());using([twttr.bundleMore,"components/Autocomplete"],function(){twttr.API.User.bind("follow acceptFollow",function(G,F){twttr.currentUser.sync("friendsCount",++twttr.currentUser.friendsCount);twttr.components.Autocomplete.getAutocompletedUsers(function(){twttr.components.Autocomplete.addToList([F.id,F.screenName,F.name,F.profileImageUrl])});$(document).trigger("currentUserUpdated")})});twttr.API.User.bind("unfollow",function(G,F){twttr.currentUser.sync("friendsCount",Math.max(--twttr.currentUser.friendsCount,0));$(document).trigger("currentUserUpdated")});if(twttr.is.nil($.cookie("js"))){$.cookie("js",1,{expires:30})}var D=$("#loading_indicator_container");D.fadeOut("fast",function(){D.remove();document.body.style.overflow=""})};twttr.showError=function(C){return twttr.openMessageDrawer(C,"error")};twttr.showMessage=function(E,D){var C=twttr.openMessageDrawer(E,"message",{close_button:!!D});if(C&&!D){setTimeout(function(){C.$dom.css("opacity",1).animate({opacity:0},1000,function(){C.$dom.remove();twttr.views.MessageDrawer.isOpen=false})},2000)}};(function(){var C={close_button:true};twttr.openMessageDrawer=function(G,F,E){E=twttr.merge({},C,E||{});E.text=G;E.type=F;twttr.views.MessageDrawer.close();var D=new twttr.views.MessageDrawer(E);D.render("#message-drawer","append");twttr.views.MessageDrawer.isOpen=true;return D}}());twttr.messageNotification=function(E){var C=new twttr.views.MessageNotification({message:E.attributes}),G=E.senderScreenName,D=E.id;$("#message-notifications").append(C.$html());var F=$("#message-notifications [data-message-id="+D+"].notification");F.bind("click",function(){var I=$(this);I.unbind();I.find(".message-notification-reply-box").show();var H=new twttr.Editor("#message-notifications [data-message-id="+D+"].notification  .message-notification-reply-editor",function(){var J=this;this.focus();this.height(36);$("#message-notifications [data-message-id="+D+"].notification .message-notification-reply-button").click(function(){F.html("Sent!");setTimeout(function(){F.remove()},2000);twttr.API.DirectMessage.send(G,J.content())})})})};twttr.provide("twttr.ui",{toggleSpinner:function(D,C){if(C){var E=$('<div class="loading-spinner"><img src="/phoenix/img/loader.gif" alt="'+_("Loading")+'"/></div>').appendTo(D)}else{$(D).find("div.loading-spinner").remove()}},loadBar:function(){var C=$("#global-actions");C.find("a").not(".js-dropdown-toggle").each(function(){$(this).attr("href",twttr.router.lookupAndNormalizeRoute($(this).attr("href")))});if(twttr.loggedIn){C.delegate("a","mousedown",function(E){var D=$(this);scribble("globalnav",{input:"click",name:D.text(),href:D.attr("href")})})}}});A(twttr.setup)})});provide("search",function(A){using().as(function(B){twttr.search={setup:function(){var C=this;this.$searchQuery=$("#search-query");if(!Modernizr.input.placeholder){this.$searchQuery.bind({focus:function(){C.hidePlaceholder($(this))},blur:function(){C.showPlaceholder($(this))}});if(!this.$searchQuery[0].hasFocus){this.$searchQuery.blur()}else{this.$searchQuery.addClass("focused")}}if(twttr.isT1){this.setupFocusT1();this.setupSavedSearches();twttr.app.bind("switchToPage",function(E,D){C.updatePlaceholder(D)})}else{this.setupFocusP1()}},updatePlaceholder:function(C){switch(C){case"connect":this.setPlaceholder(_("Enter an @name or full name"));break;case"discover":this.setPlaceholder(_("Enter a #hashtag or keyword"));break;default:this.setPlaceholder();break}},setPlaceholder:function(C){if(!C){C=_("Search");this.$searchQuery.parent(".js-search-form").removeClass("highlight")}else{this.$searchQuery.parent(".js-search-form").addClass("highlight")}this.$searchQuery.attr("placeholder",C);if(!Modernizr.input.placeholder&&this.$searchQuery.data("placeholding")){this.$searchQuery.val(this.$searchQuery.attr("placeholder"))}},hidePlaceholder:function(C){if(C.data("placeholding")){C.val("");C.data("placeholding",false)}},showPlaceholder:function(C){if(!C.data("placeholding")&&C.val()===""){C.data("placeholding",true);C.val(C.attr("placeholder"))}},hideSavedSearches:function(){clearTimeout(this.showSSTimeout);this.$searchQuery.closest("form").removeClass("focus")},showSavedSearches:function(){var C=this;if(this.$searchQuery.closest("form").hasClass("highlight")){this.$searchQuery.closest("form").addClass("focus")}else{this.showSSTimeout=setTimeout(function(){C.$searchQuery.closest("form").addClass("focus")},250)}},expandSearchInput:function(){this.$searchQuery.addClass("focus").select()},collapseSearchInput:function(){this.$searchQuery.removeClass("focus")},setupFocusT1:function(){var C=this;$("div.js-global-nav-dropdown").bind({mouseenter:function(){C.mouseOverSS=true},mouseleave:function(){C.mouseOverSS=false},click:function(E){if($(E.target).is("a")){var D=$(E.target).data("search-query");C.focusQuery(D)}C.hideSavedSearches()}});$("span.js-search-action").bind({mouseenter:function(){C.mouseOverMagnifying=true},mouseleave:function(){C.mouseOverMagnifying=false}});$("#global-actions li[data-global-action!='home']").bind({mouseenter:function(){C.transitionFromHome=twttr.app.currentPageName()==="home"},mouseleave:function(){C.transitionFromHome=false}});this.$searchQuery.bind({focus:function(){C.expandSearchInput();C.showSavedSearches()},blur:function(){if(!C.mouseOverSS&&!C.mouseOverMagnifying){C.hideSavedSearches();if(!C.queryWasEntered()){C.collapseSearchInput()}}if(C.transitionFromHome){C.$searchQuery.parent(".js-search-form").addClass("highlight")}},keyup:function(){if(C.queryWasEntered()){C.hideSavedSearches()}else{C.showSavedSearches()}}})},queryWasEntered:function(){return this.$searchQuery.val()!==this.$searchQuery.attr("placeholder")&&this.$searchQuery.val()!==""},setupFocusP1:function(){this.$searchQuery.bind({focus:function(){$(this).addClass("focused").select().closest("form").addClass("focused")},blur:function(){$(this).removeClass("focused").closest("form").removeClass("focused")}})},clear:function(){this.focusQuery("").blur()},setupSavedSearches:function(){if(!twttr.loggedIn){return }var C=this;this.updateSavedSearches();twttr.API.SavedSearch.bind("create delete",function(){C.updateSavedSearches()})},updateSavedSearches:function(){var C=this;twttr.currentUser.savedSearches(function(D){if(D.length()>0){C.savedSearches=D;$(".global-nav .js-search-form").addClass("has-saved-searches");using(twttr.bundleMore,function(){var E=new twttr.views.GlobalNavSavedSearches(D);E.render($(".js-global-nav-dropdown"))})}else{$(".global-nav .js-search-form").removeClass("has-saved-searches")}})},isSavedSearch:function(D){if(!this.savedSearches){return false}var C=this.savedSearches.filter(function(E){return E.query===D});if(C.length()){return C.first()}else{return false}},focusQuery:function(C){if(!this.$searchQuery[0].hasFocus&&!twttr.isT1){this.$searchQuery.focus()}if(twttr.is.def(C)){this.$searchQuery.val(C)}return this.$searchQuery},doSearch:function(H){var G=this.focusQuery(H).val();if(G){trackClient({section:"top_nav",component:"searchbox",action:"search"},{query:G});var C=twttr.router.getCurrentRoute().name;var F=twttr.isT1&&(twttr.app.currentPageName()=="Connect"||C=="userSearch");var E=twttr.isT1&&C=="searchTimeline";var D=twttr.isT1&&C=="searchRealtime";if(F){twttr.router.routeTo(twttr.router.userSearchPath({query:G}))}else{if(E){twttr.router.routeTo(twttr.router.searchTimelinePath({query:G}))}else{if(D){twttr.router.routeTo(twttr.router.searchRealtimePath({query:G}))}else{twttr.router.routeTo(twttr.router.searchResultsPath({query:G}))}}}}else{this.$searchQuery.blur()}},latestQuery:"",formifyLatestQuery:function(D){var G=jQuery.trim(this.latestQuery).replace(/\s+/," ");if(G){if(D.is(".advanced-search form")){var F,C=/(|#|\-|@|\w+:|OR |AND )?\"([^\"]+)\"/i,E=function(J,I){var M={"#":"tag","-":"nots","@":"ref","to:":"to","from:":"from","near:":"near",or:"ors",and:"ands"},L=J?M[jQuery.trim(J).toLowerCase()]:"phrase";if(L){var K=D.find("input[name="+L+"]"),H=K.val();K.val((H?H+" ":"")+I)}};while(F=C.exec(G)){if(F&&F[2]){E(F[1],F[2])}G=G.replace(F[0],"")}twttr.each(G.split(" "),function(L,I,H){switch(L.toLowerCase()){case":)":case":(":case"?":D.find('input[value="'+L+'"]').attr("checked","checked");break;case"include:retweets":D.find("input[name=include]").attr("checked","checked");break;case"":case"or":case"and":break;default:F=/^(#|\-|@|to:|from:|near:)(.*)/i.exec(L);if(F&&F[2]){E(F[1],F[2]);break}F=/^within:(\d+)(mi|km)*/i.exec(L);if(F){var K=D.find("select[name=within]");if(K.find("option[value="+F[1]+"]")){K.val(F[1])}if(F[2].match(/km/i)){D.find("input[name=units]").each(function(){var M=$(this);M.attr("checked",M.val()=="km"?"checked":"")})}break}F=/^lang:(\w+)/i.exec(L);if(F){var J=D.find("select[name=lang]");if(J.find("option[value="+F[1]+"]")){J.val(F[1])}break}if(I&&H[I-1].match(/OR/i)){E("or",L)}else{E("and",L)}}})}else{D.find("input[name=q]").val(G||"")}}},serializeAdvancedForm:function(C){var H=C.serializeArray();var F=[];for(var G in H){var E=H[G],D=jQuery.trim(E.value);if(!D){continue}switch(E.name){case"attd":case"ands":F.push(D);break;case"ors":F.push(D.split(" ").join(" OR "));break;case"phrase":F.push('"'+D+'"');break;case"nots":F.push("-"+D.split(" ").join(" -"));break;case"tag":F.push("#"+D.replace(/#+/g,"").split(" ").join(" OR #"));break;case"from":F.push("from:"+D.replace(/@+/g,"").split(" ").join(" OR from:"));break;case"to":F.push("to:"+D.replace(/@+/g,"").split(" ").join(" OR to:"));break;case"ref":F.push("@"+D.replace(/@+/g,"").split(" ").join(" OR @"));break;case"near":F.push('near:"'+D+'" within:'+C.find("select[name=within]").val()+C.find("input:radio[name=units]:checked").val());break;case"include":F.push("include:retweets");break;case"lang":if(D!=="all"){F.push("lang:"+D)}break}}return F.join(" ")},searchQuerySource:{UNKNOWN:"unknown",TYPED_QUERY:"typed_query",HASHTAG:"hashtag_click",TREND:"trend_click",SAVED_SEARCH:"saved_search_click",TYPEAHEAD:"typeahead_click",SPELLING_CORRECTION:"spelling_correction_click",RELATED_QUERY:"related_query_click"}};A(twttr.search)})});provide("helpers",function(A){using("_","util","constants","errors").as(function(B,C){twttr.helpers={timeStrings:function(){if(twttr.at("QUnit")||!twttr.helpers.timeStrings.memo){twttr.helpers.timeStrings.memo={words:{longForm:{singular:{now:C("now"),seconds:C("{{one}} second ago"),minutes:C("{{one}} minute ago"),hours:C("{{one}} hour ago"),days:C("{{one}} day ago")},plural:{now:C("now"),seconds:C("{{plural_number}} seconds ago"),minutes:C("{{plural_number}} minutes ago"),hours:C("{{plural_number}} hours ago"),days:C("{{plural_number}} days ago")}},shortForm:{allCounts:{now:C("now"),seconds:C("{{number}}s"),minutes:C("{{number}}m"),hours:C("{{number}}h"),days:C("{{number}}d")}}},dates:{months:[C("Jan"),C("Feb"),C("Mar"),C("Apr"),C("May"),C("Jun"),C("Jul"),C("Aug"),C("Sep"),C("Oct"),C("Nov"),C("Dec")],dates:[C("1st"),C("2nd"),C("3rd"),C("4th"),C("5th"),C("6th"),C("7th"),C("8th"),C("9th"),C("10th"),C("11th"),C("12th"),C("13th"),C("14th"),C("15th"),C("16th"),C("17th"),C("18th"),C("19th"),C("20th"),C("21st"),C("22nd"),C("23rd"),C("24th"),C("25th"),C("26th"),C("27th"),C("28th"),C("29th"),C("30th"),C("31st")]}}}return twttr.helpers.timeStrings.memo},resolveHexColor:function(E){if(!E||!E.match(/^#?([0-9A-F]{6}|[0-9A-F]{3})$/i)||!RegExp.$1){return }RegExp.$1.match(/(..?)(..?)(..?)/);function D(F){return parseInt((F+F).slice(0,2),16)}return[D(RegExp.$1),D(RegExp.$2),D(RegExp.$3)]},hexToRGBA:function(F,D){var E=this.resolveHexColor(F);if(!E){return }E.push(D||"1");return"rgba("+E.join(",")+")"},blendHexColor:function(G,I,F){var E=this.resolveHexColor(G),H=this.resolveHexColor(I),D=1-F;if(!E||!H){return }return twttr.map(E,function(K,M){var L=H[M];var J=Math.floor(K*F+L*D);return(J+256).toString(16).slice(1)}).join("").toUpperCase()},sanitizeCssColor:function(D){if(D&&D.match(/^[0-9a-f]{3,6}$/i)){return D}},parseDateString:function(D){var E=new Date(D);if($.browser.msie&&D){E=new Date(Date.parse(D.replace(/( \+)/," UTC$1")))}return +E},prettyTime:function(E,H){var D=twttr.helpers.timeStrings();var G=new Date(E),F={year4:G.getFullYear().toString(),year:G.getFullYear().toString().slice(2),month:D.dates.months[G.getMonth()],day:G.getDate(),hours24:G.getHours(),hours12:(G.getHours()%12)||12,minutes:G.getMinutes().toString().replace(/^(\d)$/,"0$1"),amPm:G.getHours()<12?C("AM"):C("PM"),date:D.dates.dates[G.getDate()-1]};if(twttr.isT1&&!H){return C("{{hours12}}:{{minutes}} {{amPm}} - {{day}} {{month}} {{year}}",F)}else{return C("{{hours12}}:{{minutes}} {{amPm}}, {{month}} {{date}}",F)}},timeAgo:function(J,H,G,R){if(twttr.decider.isExpando()&&!R){H=false}var I=twttr.helpers.timeStrings();var O=I.words[H?"longForm":"shortForm"];var T=new Date;var M=new Date(J);var Q=T-M;var F=1000,K=F*60,L=K*60,P=L*24,E=P*7,S,D,N;if(isNaN(Q)||Q<0){return""}if(Q<F*3){S="";D="now";G=false}else{if(Q<K){S=Math.floor(Q/F);D="seconds";G=false}else{if(Q<L){S=Math.floor(Q/K);D="minutes";G=false}else{if(Q<P){S=Math.floor(Q/L);D="hours";G=false}else{if(Q<P*365){N=C("{{date}} {{month}}",{date:M.getDate(),month:I.dates.months[M.getMonth()]})}else{N=C("{{date}} {{month}} {{year}}",{date:M.getDate(),month:I.dates.months[M.getMonth()],year:M.getFullYear().toString().slice(2),year4:M.getFullYear().toString()})}}}}}if(!N){if(O.allCounts){O=O.allCounts}else{if(S===1){O=O.singular}else{O=O.plural}}N=Mustache.to_html(O[D],{one:S,number:S,plural_number:S})}if(G){N+=" "+C("at {{time}}",{time:M.toTimeString().split(":").slice(0,2).join(":")})}return N},timeAgoRounded:function(F){var O=new Date;var I=new Date(F);var M=O-I;var E=1000,G=E*60,H=G*60,L=H*24,D=L*7,J=L*30,K=L*365,N;if(isNaN(M)||M<0){return""}if(M<=G*5){N=C("5 minutes")}else{if(M<=G*15){N=C("15 minutes")}else{if(M<=G*30){N=C("30 minutes")}else{if(M<=G*45){N=C("45 minutes")}else{if(M<=H){N=C("1 hour")}else{if(M<=H*12){N=Math.floor(M/H)+C(" hours")}else{if(M<H*24){N=C("over 12 hours")}else{if(M<=L*2){N=C("yesterday")}else{if(M<=L*14){N=Math.floor(M/L)+C(" days")}else{if(M<J){N=C("over 2 weeks")}else{if(M<J*2){N=C("over 1 month")}else{if(M<J*3){N=C("over 2 months")}else{if(M<K){N=C("over 6 months")}else{if(M<K*2){N=C("over 1 year")}else{N=C("over 2 years")}}}}}}}}}}}}}}return N},transformProfileImageUrl:function(F,D){if(!twttr.is.string(F)){return F}if(!D&&F.match(/default_profile_\d_normal.png$/)){D="bigger"}var E=/_normal(\..*)?$/i;if(D){return F.replace(E,"_"+D+"$1")}else{return F.replace(E,"$1")}},isCurrentUser:function(D){return !twttr.currentUser?false:twttr.is.string(D)?twttr.currentUser.screenName===D:twttr.is.object(D)?D.id===twttr.currentUser.id:twttr.currentUser.id===D},isProfileUser:function(){return twttr.profileUser&&twttr.helpers.isCurrentUser(twttr.profileUser)},userNoobLevel:function(E){var G=parseInt(twttr.Router.getCurrentQueryStringParams()["nooblevel"],10);if(!isNaN(G)){twttr.caches.User.set("noobLevel",G);return G}var D=twttr.caches.User.get("noobLevel");if(D<0){return D}var F=B.constants.noob;E=E||twttr.currentUser;if(E&&twttr.decider.isAvailable("flock")){if(E.statusesCount==0){if(E.followersCount>49){return F.notNoob}if(E.friendsCount===0){return(E.followersCount?F.invited:F.total)}else{if(E.followersCount||E.friendsCount>9){return F.silent}return F.friendless}}else{if(E.friendsCount>9||(E.friendsCount===0&&E.followersCount>49)){return F.notNoob}if(E.friendsCount===0){return(E.followersCount?F.popular:F.talking)}else{return(E.followersCount?F.struggling:F.lonely)}}}return F.notNoob},canViewUser:function(D){return !D["protected"]||D.following||this.isCurrentUser(D)||(twttr.is.def(twttr.isAdmin)&&twttr.isAdmin)},truncate:function(G,E,F){F=F||"&hellip;";var D=$("<div/>").html(F).text().length;if(G.length>E){G=G.slice(0,E-D)+F}return G},displayUrl:function(){var D=/^www\./;return function(F,I){I=I||16;var H=new B.util.Location(F);var G=H.hostname.replace(D,"");if(!(H.port==80||H.port==443)){G+=":"+H.port}var E=H.pathname+H.search+H.hash;return G+twttr.helpers.truncate(E,I,"")}}(),getUserId:function(D){var E=parseInt(D.attr("data-user-id"),10);return isNaN(E)?0:E},getUserIdentifier:function(D){var F=twttr.helpers.getUserId(D),E=D.attr("data-screen-name");if(!F&&!E&&D.attr("hash")){E=twttr.router.findMatchingRoute(D.attr("hash")).args.screen_name}return F||E},parseEmailAddress:function(E){var D=B.constants.regexps.email.exec(E.replace(/^\s+|\s+$/g,""));return D?D[0]:null},extractEmailAddresses:function(D){if(D.indexOf("<")==-1){return twttr.filter(twttr.map(D.split(","),twttr.helpers.parseEmailAddress),function(E){return !twttr.is.nil(E)})}else{return[D]}},handlePopupLinks:function(D){D.find(".js-popup").click(function(E){E.preventDefault();E.stopPropagation();var F=$(this);window.open(F.attr("href"),F.attr("name")||"twttr_popup",F.attr("data-popup"))})},addFormEvents:function(E,D,F){F=F||{};E.bind("submit",function(G){if(E.hasClass("submitting")){G.preventDefault();return }if(D){G.preventDefault();var H={};$.each($(this).serializeArray(),function(){if(H[this.name]){if(!H[this.name].push){H[this.name]=[H[this.name]]}H[this.name].push(this.value||"")}else{H[this.name]=this.value||""}});D.call(this,G,H)}}).bind("keydown keypress",function(G){G.stopPropagation();if(G.which==B.constants.keyCodes.enter&&!$(G.target).is('textarea, [autocomplete="on"]')){G.preventDefault();G.target.blur();E.submit()}});E.find((F.submitSelector||"div.button.submit")+", .js-submit").attr("tabindex",0).click(function(){E.submit()});E.find("input:text, textarea").bind("keydown",function(G){if(G.which==B.constants.keyCodes.escape){this.blur();return }}).each(function(){var H=$(this),I=H.attr("placeholder");if(I&&!Modernizr.input.placeholder){var G=false;H.focus(function(){if(G){H.val("");G=false}H.addClass("js-focused").removeClass("js-placeholded").select()}).blur(function(){if(!G&&H.val()===""){G=true;H.val(I);H.addClass("js-placeholded")}H.removeClass("js-focused")});setTimeout(function(){H.blur()},0)}})},addHoldingInputEvents:function(D){D.find("div.holding, div.placeholding-input").each(function(){var E=$(this);var F=E.find("input");E.find("span").click(function(){F.focus()});F.blur(function(){if(!F.val().length){E.removeClass("hasome")}});F.keydown(function(G){setTimeout(function(){if(G&&G.keyCode==8||F.val().length){E.addClass("hasome")}else{E.removeClass("hasome")}},0)})});if(!twttr.helpers._holdingInterval){twttr.helpers._holdingInterval=window.setInterval(function(){$("form div.holding, form div.placeholding-input").each(function(){var E=$(this);var F=E.find("input");if(F.val()&&F.val().length){E.addClass("hasome")}})},1111)}},chainAnimate:function(F,H,D,E){var G=0;(function(){var J=D[G++];if(twttr.is.def(J)){var I={};I[H]=J;F.animate(I,E||100,arguments.callee)}})()},isModifier:function(D){return !!(D.shiftKey||D.metaKey||D.ctrlKey||D.altKey)},isTextOverflowEllipsisSupported:function(){return("textOverflow" in $("<div>")[0].style)},ellipsify:function(G,F,D,E,H){if(D){$(G).ellipsis(E,H);return }if(twttr.helpers.isTextOverflowEllipsisSupported()){return false}$(G).each(function(){var K=$(this),J;if(K.hasClass("ellipsify-container")){if(F){J=K.find("span.ellip-content");if(J.length){K.html(J.html())}}else{return true}}K.addClass("ellipsify-container").wrapInner($("<span>").addClass("ellip-content"));J=K.find("span.ellip-content");if(J.width()>K.width()){var I=$('<div class="ellip">&hellip;</div>');K.append(I);J.width(K.width()-I.width()).css("margin-right",I.width())}});return true},showErrorFromResponse:function(E,D){return twttr.errors.showErrorFromResponse(E,D)}};A(twttr.helpers)})});provide("errors",function(A){using("constants").as(function(B){function C(F,G,E){return{regex:F,errorCode:G,requestRegex:E}}var D=[C(/not following/,B.constants.errorCodes.notFollowing),C(/duplicate|already said that/,B.constants.errorCodes.duplicateTweet),C(/malware/,B.constants.errorCodes.malwareTweet),C(/daily|only send so many/,B.constants.errorCodes.dailyLimit),C(/140/,B.constants.errorCodes.tooLongTweet),C(/(this account|User) has been suspended/,B.constants.errorCodes.otherUserSuspended),C(/suspend/,B.constants.errorCodes.suspended),C(/photo/,B.constants.errorCodes.photoTimeout),C(/unable to follow more people/,B.constants.errorCodes.followingLimitReached),C(/blocked from following/,B.constants.errorCodes.blockedFromFollowing),C(/list's name.+25 characters/,B.constants.errorCodes.tooLongListName),C(/list's description.+100 characters/,B.constants.errorCodes.tooLongListDescription),C(/list's name.+start with a letter/,B.constants.errorCodes.noLetterStartListName),C(/Not found/,B.constants.errorCodes.tweetNotFound,/statuses\/retweet/),C(/No status found/,B.constants.errorCodes.tweetNotFound),C(/Not found/,B.constants.errorCodes.userNotFound)];twttr.errors={errorCodeFromResponse:function(I){var F,H,G,E=I.response&&(I.response.error||I.response.errors&&I.response.errors[0].message)||null;if(E){for(F=0,H=D.length;F<H;F++){G=D[F];if(G.regex.test(E)&&(!G.requestRegex||G.requestRegex.test(I.response.request))){return G.errorCode}}}if(I.status===403){return B.constants.errorCodes.permission}return B.constants.errorCodes.whale},showErrorFromResponse:function(G,E){var F=twttr.errors.errorCodeFromResponse(G);return twttr.errors.showErrorFromCode(F,E)},showErrorFromCode:function(G,F){var E=twttr.errors.getViewForErrorCode(G,F);twttr.showError(E.html());return G},getViewForErrorCode:function(H,G){var E=twttr.views[H]||twttr.views.DefaultErrorMessage;if(!G||!/^(dm|(re)?tweet|(un)?follow|(un)?block|report|delete|(un)?favorite)$/.test(G)){G="generic"}var F={};F["is_"+G]=true;return new E(F)}};A(twttr.errors)})});provide("viewHelpers",function(A){using("_").as(function(B,C){twttr.viewHelpers={addRelatedTweetsLogging:function(D,G,F){G.subcomponent="related-tweets";var H;if(D&&(H=D.closest(".related-tweets")).length){var I=D.attr("data-tweet-id");G.related_tweet_info={impression_id:H.attr("data-related-impression-id"),group_name:H.attr("data-related-group-name"),annotations:H.attr("data-related-annotations"),tweet_id:I?I:"0"};var J=H.attr("data-ab-data-bucket");if(J){var E={bucket:J,experiment_key:H.attr("data-ab-data-experiment-key"),version:H.attr("data-ab-data-version")};scribble(F,E,"www_ab_testing")}}},addActivityItemLogging:function(D,F,E,G){F.streamType="activity-stream";F.activityId=D.closest(".stream-item").attr("data-item-id")},addExtraLogging:function(D,E,H){var G=D.closest(".stream-tweet");var F=twttr.app.currentPage();if(twttr.app.isOnPage("search")&&G.is(".stream .stream-tweet")){using([twttr.bundleMore,"components/pages/Search"],function(){twttr.components.pages.Search.addSearchClickLogging(G,E)})}else{if(G.is("div.details-pane .related-tweets .stream-tweet")){twttr.viewHelpers.addRelatedTweetsLogging(G,E,H)}else{F.send("getStreamManager",function(I){if(I){var J=I.getCurrent();using([twttr.bundleMore,"streams/ActivityStream"],function(){if(J instanceof twttr.streams.ActivityStream){twttr.viewHelpers.addActivityItemLogging(G,E,H,J)}})}})}}}};A(twttr.viewHelpers)})});provide("components/Base",function(A){using("util").as(function(B){twttr.provide("twttr.components");twttr.klass.component=function(C,D){return twttr.klass(C,D).subclassOf(twttr.components.Base)};twttr.deprecateAccess(twttr.klass,"component",{replacement:"twttr.klass(...).subclassOf(twttr.components.Base)",now:1313800194870,daysRemaining:30});$.fn.component=function(){var D=$(this),C=D.parent();return D.data("component")||(C.length&&C.component())};twttr.klass("twttr.components.Base",function(){var D=!this.constructor._deciderKey||twttr.decider.isAvailable(this.constructor._deciderKey);if(this.constructor._baseView&&D){this.$node=(new this.constructor._baseView(this.constructor._baseViewOptions)).$html()}else{this.$node=this.$node||$("<div/>").addClass("component")}this.$node.addClass("component").data("component",this);if(!D){if(this._decideredOff){this._decideredOff()}return }if(this.constructor._initializer){this.constructor._initializer.apply(this,arguments)}if(twttr.isT1){var C=this.scribeComponentName;if(!C){if(this.constructor&&this.constructor._name){C=B.util.underscore(this.constructor._name)}}if(C){this.$node.attr("data-component-term",C)}}this.initComponentEvents()}).statics({initializer:function(C){C._owner=this;this._initializer=C;return this},destructor:function(C){this._destructor=C;return this},deciderKey:function(C){this._deciderKey=C;return this},setBaseView:function(C,D){this._baseView=C;this._baseViewOptions=D;return this},setBaseViewOptions:function(C){this._baseViewOptions=C;return this}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).methods({hasRendered:function(){this._hasRendered=true;if(!this.noSpacer&&!twttr.isT1){this.$node.append("<hr class='component-spacer' />")}},$find:function(){return this.$node.find.apply(this.$node,arguments)},_superInitializer:function(){var C=arguments.callee.caller._owner;if(C){var D=C.uberclass._initializer;if(D){D.apply(this,arguments)}}},destroy:function(){if(this.constructor._destructor){this.constructor._destructor.apply(this)}this.$node.remove();this.trigger("destroyed");if(this._boundEvents){twttr.each(this._boundEvents,function(C){C.obj.unbind(C.name,C.cb)});this._boundEvents=[]}this.unbind()},_registerEvent:function(E,D,C){if(!this._boundEvents){this._boundEvents=[]}E.bind(D,C);this._boundEvents.push({obj:E,name:D,cb:C})}});A(twttr.components.Base)})});provide("idleDetector",function(F){var H,G;var K=true;var B=0;var C=0;var L="mousemove.idleDetect keydown.idleDetect DOMMouseScroll.idleDetect mousewheel.idleDetect mousedown.idleDetect touchstart.idleDetect touchmove.idleDetect";function J(){var M=new Date().getTime();if(!K&&M-B>H){$(document).trigger("inactive");clearInterval(C);K=true}}function I(){$(document).off(".idleDetect");clearInterval(C);B=new Date().getTime();setTimeout(A,G);if(K){$(document).trigger("active");K=false}}function A(){B=new Date().getTime();C=setInterval(J,G);$(document).on(L,I)}function D(){K=true;$(document).off(".idleDetect");clearInterval(C)}function E(M){M=$.extend({},{wait:5*60*1000,heartBeat:1000},M);H=M.wait;G=M.heartBeat;A();return{deactivate:D}}F(E)});provide("interface",function(A){using("_","util","constants").as(function(B,C){twttr.klass("twttr.Interface").mixin(twttr.mixins.i18nTweetBox).methods({enableRtl:function(){twttr.i18n.rtl=true;document.body.dir="rtl"},setup:function(){$("a[href$='#']").live("click",function(F){F.preventDefault()});$(".user-profile-link").live("click",twttr.scribbles.logViewProfileDetails);$("a[href^='/']").live("click",function(G){if(G.which==1&&!G.metaKey&&!G.shiftKey){var I=$(this),F=I.attr("href"),H=I.attr("target");twttr.lastQuerySource=(twttr.isT1)?$(G.currentTarget).data("query-source"):null;if(H&&twttr.router.shouldRedirectTo(F)){return }twttr.router.routeTo(F);G.preventDefault();return false}});if(twttr.isT1&&twttr.i18n&&$("body").hasClass("rtl")){this.enableRtl()}$("li.user-thumb-list-member img").tipsy({live:true,gravity:"s"});if(twttr.isT1){$("div.promoted-account a.js-promoted-badge, div.promoted-account small.js-disclosure, div.promoted-tweet span.js-disclosure").tipsy({live:true,gravity:"n",delayIn:500});$("li.promoted-trend span.js-disclosure").tipsy({live:true,gravity:"s",delayIn:500})}else{$("div.promoted-account a.icon-link, div.promoted-tweet a.icon-link, li.promoted-account a.icon-link").tipsy({live:true,gravity:"n",delayIn:500});$("li.promoted-trend span.icon-link").tipsy({live:true,gravity:"s",delayIn:500});$("form.js-search-form .js-search-action").click(function(F){$("form.js-search-form").submit()})}$("div.tweet a.twitter-timeline-link").live("mousedown",function(){var G=$(this);var F={};if(G.is("div.dashboard a")){F.component="dashboard"}else{if(G.is("div.details-pane a")){F.component="details-pane"}else{if(G.is(".stream-tweet a")){F.component="stream"}else{if(G.is(".twttr-dialog a")){F.component="dialog";F.dialog_type=G.closest(".twttr-dialog").attr("type")}}}}twttr.viewHelpers.addExtraLogging(G,F,"tweet-link");F.tweet_id=G.closest(".tweet").attr("data-tweet-id");F.input="click";F.href=G.attr("href");F.text=G.text();scribble("tweet-link",F)});$("a.media-attribution-link").live("mousedown",function(F){scribble("follow-attribution-link",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})});$("a.inline-media-image").live("mousedown",function(F){scribble("open-inline-media-photo",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})});$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(F){F.stopPropagation();F.preventDefault();using([twttr.bundleMore,"widget/TweetDialog"],function(){new twttr.widget.TweetDialog({draggable:true,template:{title:C("What&#8217;s happening?")},enableDraft:"global-tweetbox",origin:"new-tweet-titlebar-button"}).open().focus()})}).tipsy({gravity:"n",offset:6});twttr.helpers.ellipsify($("#screen-name"));$("a.js-close-all-tweets").click(function(){$(".tipsy").remove();twttr.app.currentPage().send("closeAllTweets")}).tipsy({gravity:"ne",delayIn:500});$("form.js-search-form").submit(function(G){var F=$("#search-query");if(F.val()){twttr.lastQuerySource=twttr.search.searchQuerySource.TYPED_QUERY;twttr.search.doSearch()}G.preventDefault()});$("#message-drawer").delegate(".dismiss","click",function(){twttr.views.MessageDrawer.close();return false});$("#message-drawer").delegate(".js-reload","click",function(){window.location.reload();return false});$("a.js-signout-button").click(function(F){F.preventDefault();twttr.cache.LocalProvider.clearAll();trackClient({component:"topnav",action:"logout"});if(twttr.decider.isAvailable("scribe_logout_reliability_events")){$("#signout-form .js-reliability-event").attr("value","true");trackClient({page:"logout",section:"reliability",component:"client",action:"impression"})}$("#signout-form").submit()});$("a.back-to-top").live("click",function(F){$(window).scrollTop(0);F.preventDefault();return false});$("a.sms-codes-link").live("click",function(F){twttr.dialogs.smsCodes().open()});$("a.use-old-twitter").live("click",function(F){$.cookie("phx_seen_dialog-"+twttr.currentUser.id,null)});if(!twttr.isT1){$(".contributor-account-link").each(function(H){var G=$(this);var F=G.attr("data-profile-image-url");if(F){if(window.location.protocol==="https:"&&twttr.cdnBase){F=twttr.assets.getPathFromAbsoluteURL(F,{isSSL:true,isVersioned:false})}G.find("img").attr("src",F)}})}var E=this;$("#search-query").bind("keyup keypress keydown",function(F){E.markPunctuation(F,$(this));F.stopPropagation()}).bind("keydown",function(F){if(F.keyCode===B.constants.keyCodes.escape){twttr.search.clear()}});var D=parseInt(B.util.params($.cookie("twll"))["l"],10)||0;twttr.verifySession=function(){var F=parseInt(B.util.params($.cookie("twll"))["l"],10)||0;if(F!==D){window.location.reload(true)}};window.setInterval(function(){twttr.verifySession()},B.constants.sessionPollInterval);if(!$.browser.msie){$(window).focus(function(){twttr.verifySession();twttr.externalURLStore.scribeFocusAfterClick()})}else{document.onfocusout=function(){twttr.verifySession();twttr.externalURLStore.scribeFocusAfterClick()}}$(window).scrollTop(0)}});twttr["interface"]=new twttr.Interface;A(twttr["interface"])})});provide("run/topbarDropdown",function(A){using().as(function(C){$(document).ready(function(){var I=$(".js-session");function F(){return twttr.app&&twttr.app.isOnPage("login")}var G=twttr.isT1?"open":"active";I.click(function(){if(F()){twttr.router.routeTo(twttr.router.signupPath())}else{I.toggleClass(G);if(!twttr.loggedIn&&I.hasClass(G)){I.find(".username input").focus()}}});$(document).bind("click",function(L){var K=I.get(0);if(K&&L.target!==K&&!$.contains(K,L.target)){I.removeClass(G)}}).bind("keydown",function(K){if(K.keyCode===27){I.removeClass(G)}});if(twttr.isT1){var D=$("li.js-language-dropdown");D.click(function(K){D.toggleClass("open");K.preventDefault()});D.find(".js-language-link").bind("click",function(L){var K=D.find("form");K.find('input[name="lang"]').val($(this).attr("data-lang-code"));K.find('input[name="redirect"]').val(window.location.href);K.submit();L.preventDefault();L.stopPropagation()});var J=$("li.js-country-dropdown");J.click(function(K){J.toggleClass("open");K.preventDefault()});J.find(".js-country-link").bind("click",function(L){var K=$(this);twttr.countryCode=K.attr("data-country-code");$.cookie("co",twttr.countryCode,{domain:".twitter.com",path:"/",expires:3650});L.preventDefault();L.stopPropagation();location.reload()});$("a.js-dm-dialog").click(function(K){using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(M,L){(new L()).open()});I.removeClass(G);K.stopPropagation();K.preventDefault()});$(document).bind("click",function(M){var L=D.get(0);if(L&&M.target!==L&&!$.contains(L,M.target)){D.removeClass(G)}var K=J.get(0);if(K&&M.target!==K&&!$.contains(K,M.target)){J.removeClass(G)}}).bind("keydown",function(K){if(K.keyCode===27){D.removeClass(G)}});B()}if(!twttr.loggedIn){$("#session > a").attr("href","#");var H=$("#signin-dropdown form"),E=H.find("input");H.bind("click",function(K){K.stopPropagation()});H.bind("submit",function(K){if(twttr.app){var L=twttr.app.isOnPage("mobile_gallery")?"/":twttr.Router.getCurrentPath();$(this).find("input[name=redirect_after_login]").val(L)}});if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){E.each(function(){if(this.type.match(/text|password/)){var K=$(this);K.clone().appendTo(K.parent());K.remove()}})}if(twttr.helpers){twttr.helpers.addFormEvents(H)}E.bind("focus",function(){if(F()){twttr.app.currentPage().$find(".username input").focus()}else{I.addClass(G)}})}});function B(){if(twttr.loggedIn&&twttr.decider.isAvailable("api_verify_credentials_counts")){var F=$(".dropdown-menu li[data-name='lists']");var E=twttr.currentUser.counts.lists;var D=function(){if(!twttr.currentUser.hasLists()){F.hide()}};D();twttr.API.List.bind("create follow",function(G){if(G.type=="create"){E.owned+=1}else{E.subscribed+=1}F.show()});twttr.API.List.bind("delete unfollow",function(G){if(G.type=="delete"){E.owned-=1}else{E.subscribed-=1}D()})}}A()})});provide("tco",function(A){using().as(function(B){twttr.app.waitForSignal("init",function(){$(document.body).bind("copy",twttr.bind(twttr.tco,twttr.tco.onCopy));$(document.body).bind("aftercopy",twttr.bind(twttr.tco,twttr.tco.onAfterCopy))});twttr.provide("twttr.tco");twttr.tco={shouldRefreshSelection:function(){return !$.browser.msie},onCopy:function(E){var D,C;if(this.shouldRefreshSelection()){C=this.getCurrentRange()}if(!this.displayToTco(E.target)){return }window.setTimeout(function(){$(document.body).trigger("aftercopy",[E,C,twttr.tco.getSelection().toString()])},0)},linksForTarget:function(D){var C=$(D).find("a.twitter-timeline-link");if(D.tagName.toLowerCase()==="a"){C.push(D)}return C},displayToTco:function(G){var F=this;var C=$(G);var E=false;var H=this.getCurrentRange();var D=twttr.tco.linksForTarget(G);$(D).each(function(L,N){var K=$(N);var J=K.attr("data-expanded-url");if(J){var P=true;var M=H.focusNode&&(N.childNodes[0]==H.focusNode||N==H.focusNode.parentElement);if(M){P=(H.focusOffset===N.innerHTML.length)||H.focusOffset===0}if(!P){return }if(N.innerHTML.match(/^pic\.twitter\.com\//)){J=K.attr("href").replace(/t\.co/,"pic.twitter.com")}K.attr("data-display-url",N.innerHTML);N.childNodes[0].data=J;if(M&&H.focusOffset>0){var I=K.attr("data-display-url").length;var O=J.length;if(I<O){F.adjustTextSelectionEndpoint()}}E=true}});return E},tcoToDisplay:function(E){var C=$(E);var D=twttr.tco.linksForTarget(E);$(D).each(function(G,H){var F=$(H);if(F.attr("data-display-url")){F[0].childNodes[0].data=F.attr("data-display-url");F.removeAttr("data-display-url")}})},getCurrentRange:function(){var C=twttr.tco.getSelection();return{anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}},onAfterCopy:function(C,E,D){this.tcoToDisplay(E.target);if(D){this.updateSelection(D)}},adjustTextSelectionEndpoint:function(){var E=twttr.tco.getSelection();var C=document.createRange();var D=$.browser.msie?1:E.focusNode.length;C.setStart(E.anchorNode,E.anchorOffset);C.setEnd(E.focusNode,D);E.removeAllRanges();E.addRange(C)},getSelection:function(){return window.getSelection?window.getSelection():document.selection.createRange()},updateSelection:function(E){var D=twttr.tco.getSelection();var C=document.createRange();C.setStart(E.anchorNode,E.anchorOffset);C.setEnd(E.focusNode,E.focusOffset);if(C.startOffset===C.endOffset&&C.anchorNode===C.focusNode&&C.anchorNode!==E.anchorNode&&C.focusNode!==E.focusNode){C.setStart(E.focusNode,E.focusOffset);C.setEnd(E.anchorNode,E.anchorOffset)}D.removeAllRanges();D.addRange(C)}};A(twttr.tco)})});provide("streams/TweetStream",function(A){using().as(function(C){var B={ACTIVE:30000,INACTIVE:90000};var D=B.ACTIVE;$(window).focus(function(){D=B.ACTIVE});$(window).blur(function(){D=B.INACTIVE});twttr.tweetStream=function(G,F){if(!F){F=function(){twttr.streams.TweetStream.apply(this,arguments)}}var E=twttr.stream(G,F);E.subclassOf(twttr.streams.TweetStream);E.prototype._updateMethod=function(){};E.update=function(H){this.prototype._updateMethod=H;return this};E.every=function(H){this.prototype._interval=H*1000;return this};E.setTitle=function(H){this.prototype._setTitle=H;return this};E.deciderKey=function(H){E._deciderKey=H;return E};E.pollingDeciderKey=function(H){E._pollingDeciderKey=H;return E};return E};twttr.klass("twttr.streams.TweetStream",function(){var E=this;twttr.streams.Stream.apply(this,arguments);twttr.API.User.bind("block",function(G,F){E.blockTweetsBy(F)});twttr.API.User.bind("unblock",function(G,F){E.blockTweetsBy(F,true)});this.bind("didTweet",function(F,G){E.fetchTweets(function(H){H.render()})});this.registerTweetActionEvents();this.updateI18nDisplay();this.periodicUpdater=null;this.scribbler=twttr.Scribbler.clientEvent}).subclassOf(twttr.streams.Stream).mixin(twttr.mixins.tweetActionable,twttr.mixins.i18nTweet,twttr.mixins.promotedTweetStream).methods(twttr.EventProvider).methods({itemViewClass:"StreamTweet",streamItemType:"tweet",_expandable:true}).methods({_fetchCount:function(){},_fetchMoreCount:function(){return 20},convertToStatus:function(E){return new twttr.API.Status(E)},afterFirstSwitchingTo:function(I){var G=this;var F=new Date();if(!this._attachedTweetBarEvent){this._attachedTweetBarEvent=true;this.dom().delegate(".js-new-tweets-bar","click",function(){G._showNewItems()})}this.startPeriodicFetcher();this._loadedStreamOnce=true;if(this.preRendered){if(twttr.bootTimings){twttr.bootTimings.add("tweets_visible",twttr.tweetsVisibleTime);twttr.bootTimings.done()}if($(this.streamManagerDomNodeSelector).find("div.stream-end").length==1){this._alreadyMarkedEnd=true}this.items=[];this.itemIds={};var H=this.$node.find("div.js-stream-tweet, div.stream-tweet"),E=twttr.promotedTweetStore.getTweetInfo();storedPromotedTweetId=null;if(E&&E.data.promoted_status){storedPromotedTweetId=E.data.promoted_status.id_str}else{if(E){storedPromotedTweetId=E.data.id_str}}H.each(function(N,K){var R=$(K),M,L,Q,O,S,J,P;M=JSON.parse(R.attr("data-status"));if(storedPromotedTweetId===M.id_str){M=E.data;L=M.impression_id;R.attr("data-impression-id",L);R.parent().attr("data-item-id",L).attr("id","stream-item-tweet-"+M.promoted_status.id_str+":"+L)}else{if(R.attr("data-impression-id")){M.impression_id=R.attr("data-impression-id");O=H[N+1];if(O){S=$(O).attr("data-tweet-id");Q=!!R.find("i.badge-political").length;twttr.promotedTweetStore.setTweetInfo(S,M,Q)}}}P=G.convertToStatus(M);J=new twttr.views.StreamTweet(P);J.wakeUp();G.items.push(P);G.itemIds[P.id]=1});if(this.items.length==0){this.noMoreOldItems=true}this.updateI18nDisplay();this.wokeUp();this.onGotInitialResults(this.items);this._updateSinceId(this.items);this.logPromotedImpressions(this.items);this.addInlineMediaIcons(this.$node);using(">allCodeLoaded",function(){G.addActivityByFriendsToTweets(G.items)})}else{this.isLoadingMore();this.fetchTweets(true,function(K,J){K.render();if(!twttr.tweetsVisibleTime){twttr.tweetsVisibleTime=new Date()}if(window.ttft){window.ttft.clientRendered(twttr.app.currentPageName())}if(twttr.bootTimings){twttr.bootTimings.add("tweets_visible");twttr.bootTimings.done()}if(twttr.util.params().show_time){twttr.showMessage("Stream loaded at "+(((+new Date)-document.startTime)/1000)+"s")}K.doneLoadingMore();if(J!==twttr.streams.SUCCESS){G._showError(J)}else{G.fetchUntilScreenIsFull()}I?I():$.noop})}this._scribeTweetImpressions()},fetchUntilScreenIsFull:function(){var E=this;if(!this.noMoreOldItems&&this._isInDOM()&&this._shorterThanWindow()){this.getMoreOldItems(function(G,F){if(F!==twttr.streams.SUCCESS){E._showError(F)}else{E.fetchUntilScreenIsFull()}})}},_isInDOM:function(){return jQuery.contains(document.body,this.$node[0])},_shorterThanWindow:function(){return this.$node.height()<twttr.windowHeight},afterSwitchingToAgain:function(E){this.fetchTweets(twttr.bind(this,function(H){var F=this.newItemsCount;if(this.newItemsCount>0){this._showNewItems()}this.restartFetcher();if(!twttr.isT1){var G=this.getFirstItem();this.highlightItem(G)}E?E():$.noop}))},_getStreamWhaleText:function(){return _("Loading Tweets seems to be taking a while.")},streamItemId:function(E){return E.impressionId?E.id+":"+E.impressionId:E.id},blockTweetsBy:function(F,E){var G=this.constructor._name==="User"&&this.screenName===F.screenName,H=this.constructor._name==="Search";if(G||H){return }var I=this.$find('.stream-item [data-screen-name="'+F.screenName+'"]').parent();I[E?"addClass":"removeClass"]("blocked")},onTweetActionDelete:function(F){this.remove(F);for(var E=0;E<this.items.length;E++){if(this.items[E].id===F){this.items.splice(E,1)}}},onTweetActionHide:function(E){this.selectedItem(E).hide()},onTweetActionShow:function(E){this.selectedItem(E).show()},beforeShowNewItems:function(){var E;if(this.keepPromotedTweetsAtTop){E=this.$find(".js-original-tweet:not(.promoted-tweet)").first().closest(".js-stream-item")}else{E=this.$find(".js-stream-item").first()}this.$find(".last-new-tweet").removeClass("last-new-tweet");E.addClass("first-old-tweet");if(E.hasClass("expanding-stream-item")){var F=E.css("margin-bottom");if(F){E.css("margin-top",F)}}},separateOldAndNewTweets:function(){var F=this.$find(".first-old-tweet").removeClass("first-old-tweet").first();var E=F.prev().addClass("last-new-tweet");if(F.is(".expanding-stream-item.open")){E.addClass("before-expanded")}},onShowNewItems:function(E){this.updateI18nDisplay();this.addInlineMediaIcons(E);this.separateOldAndNewTweets();this.$find(".js-new-tweets-bar").remove();this._scribeTweetImpressions()},onShowOldItems:function(E){this.updateI18nDisplay();this.addInlineMediaIcons(E);this._scribeTweetImpressions()},addActivityByFriendsToTweets:function(H){if(!twttr.currentUser||!twttr.decider.isActivityEnabled()||!twttr.decider.isAvailable("activity_social_context")){return }var F=this;var G={},E={};$.each(H,function(I,J){G[J.id]={retweeters:[],favoriters:[]};if(J.wasRetweeted){console.log("retweeted",J.id);G[J.id].retweeters.push(J.retweetingStatus.user);E[J.retweetingStatus.user.id]=true}});return this.activityByFriendIntersection(H,G,E)},activityByFriendIntersection:function(H,F,E){var G=this;this.loadFriends(function(L){var I={},J={};$.each(H,function(M,N){if(!N.activities){return }$.each(N.activities.favoriters,function(P,O){if(!L[O]){return }if(!J[O]){J[O]=[]}J[O].push(N.id)});$.each(N.activities.retweeters,function(P,O){if(!L[O]||E[O]){return }if(!I[O]){I[O]=[]}I[O].push(N.id)})});var K=twttr.util.arrayUniq(twttr.util.objKeys(J).concat(twttr.util.objKeys(I))).slice(0,twttr.constants.users.maxLookupSize);twttr.API.User.findAll(K,{stringifiedIds:true,success:function(M){M.each(function(N){faves=J[N.id];retweets=I[N.id];if(faves){$.each(faves,function(O,P){F[P].favoriters.push(N)})}if(retweets){$.each(retweets,function(O,P){F[P].retweeters.push(N)})}});G.appendActivities(F)},error:function(){G.appendActivities(F)}})})},appendActivities:function(G){for(tweetId in G){var F=G[tweetId],E=this.$node.find(".stream-item[data-item-id='"+tweetId+"']");if(F.retweeters.length){new twttr.views.StreamActivity({items:F.retweeters,item_type:"retweets"}).render(E.find(".tweet-activity-retweets"),"html")}if(!F.retweeters.length&&F.favoriters.length){new twttr.views.StreamActivity({items:F.favoriters,item_type:"favorites"}).render(E.find(".tweet-activity-favorites"),"html")}}},loadFriends:(function(){var E;return function(F){if(E){return F(E)}twttr.currentUser.friendIds(function(G){E=twttr.inject(G,{},function(I,H,J){I[J]=true;return I});F(E)})}}()),onGotInitialResults:function(E){var F=E.slice(this.newItemsCount);twttr.streams.Stream.prototype.onGotInitialResults.apply(this,arguments);this.addActivityByFriendsToTweets(F)},onGotNewItems:function(E){twttr.streams.Stream.prototype.onGotNewItems.apply(this,arguments);this.addActivityByFriendsToTweets(E)},onGotOldItems:function(E){twttr.streams.Stream.prototype.onGotOldItems.apply(this,arguments);this.addActivityByFriendsToTweets(E)},_scribeTweetImpressions:function(){var E=this;if(twttr.abdecider.chooseWithoutImpression("tweet_anatomy_1_177")){E.$node.find("div.js-stream-tweet").each(function(F,G){G=$(G);if(G.height()){E._itemDetailsScribe("impression","tweet",G)}})}},_scribeResults:function(I,F,H){this._scribeEmptyResults(I,F,H);if(F.length){var E=[],G;twttr.each(F,function(K,J){var L;E.push(K.id);if(K.isPromoted&&K.isPromoted()){L={item_type:twttr.constants.clientEvent.itemType.promotedTweet,item_token:K.impressionId}}else{if(K.resultCategory=="popular"){L={item_type:twttr.constants.clientEvent.itemType.popularTweet}}}if(L){G=G||{};L.item_position=J;G[K.id]=L}});this.scribbler.scribe({component:"stream",action:"results"},{item_ids:E,item_count:E.length,event_value:E.length,cursor_or_page:this._sinceId,item_details:G,referring_event:I})}},beforeSwitchingAway:function(){this.stopPeriodicFetcher();this.trigger("switchingAway")},_fetchItems:function(E){this.fetchTweets(true,E)},fetchTweets:function(I,E,H){if(twttr.is.fn(I)){H=E;E=I;I=false}if(this.preRendered&&this._alreadyMarkedEnd){E(this,twttr.streams.SUCCESS);return }if(!twttr.decider.isAvailable("tweet_streams")||(this.constructor._deciderKey&&!twttr.decider.isAvailable(this.constructor._deciderKey))){E(this,twttr.streams.DECIDER);return }var J=this;var F=twttr.audit.trail();var G=I?this._optionsForOld(E):this._optionsForNew(E);H=H||{};G=twttr.merge(H,G);G.include_entities=1;G.include_available_features=1;G.contributor_details=!F[1]||F[1].page!=="welcome";this._updateMethod(G,this.params,E)},_idForTweet:function(E){return E.wasRetweeted?E.retweetingStatus.id:E.id},_optionsForNew:function(E){var G=this;var F={success:function(I){if(I instanceof twttr.API.util.BaseCollection){I=I.array}I=G.cleanStream(I);var H=!G.items.length;G.unshift(I);G._updateSinceId(I);if(H&&G.items.length){G.switchEndOfStreamMarker()}if(E){E(G,twttr.streams.SUCCESS)}},error:function(H){if(H.status===502){E(G,twttr.streams.WHALE)}else{E(G,twttr.streams.ERROR)}G._scribeResults("error",[],{status_code:H.status})}};if(this.items.length){F.since_id=this._sinceId}return F},_updateSinceId:function(G){if(!twttr.is.array(G)){G=Array.prototype.slice.call(arguments)}for(var E=0;E<G.length;E++){var F=G[E],H=this._idForTweet(F);if(!F.isPromoted()&&F.resultCategory!=="popular"){if(twttr.natcompare(H,this._sinceId||"0")>0){this._sinceId=H}return }}},_streamMaxId:function(){for(var E=this.items.length-1;E>=0;E--){if(!this.items[E].isPromoted()){return this._idForTweet(this.items[E])}}},cleanStream:function(E){E=this._filterMutedUsers(E);E=this._filterDeletedTweets(E);E=this._filterOutRetweets(E);return E},_filterOutRetweets:function(E){if(!twttr.currentUser){return E}return twttr.filter(E,function(F){if(!F.wasRetweeted){return F}return F})},_filterMutedUsers:function(F){if(!twttr.decider.isAvailable("muteUsers")){F}if(twttr.currentUser&&this.constructor._name=="Home"){var E=twttr.caches.User.get("muted");F=twttr.filter(F,function(G){if(!twttr.is.def(E)||(G.wasRetweeted&&!twttr.is.def(E[G.retweetingStatus.user.id]))||(!G.wasRetweeted&&!twttr.is.def(E[G.user.id]))){return G}})}return F},_filterDeletedTweets:function(E){return twttr.filter(E,function(F){if(!twttr.app.caches.deletedTweets.get(F.id)){return F}})},_optionsForOld:function(E){var G=this;var F={success:function(H){if(H instanceof twttr.API.util.BaseCollection){H=H.array}if(F.max_id){H=twttr.filter(H,function(I){return I.id!==F.max_id})}H=G.cleanStream(H);G.push(H);G._updateSinceId(H);if(!H.length){G.reachedTheEnd()}if(E){E(G,twttr.streams.SUCCESS)}},error:function(H){if(H.status===502){E(G,twttr.streams.WHALE)}else{E(G,twttr.streams.ERROR)}},timeout:function(H){H.retry()},cancel:function(){E(G,twttr.streams.TIMEOUT)}};if(this.items.length){F.max_id=this._streamMaxId();F.count=this._fetchMoreCount()+1}else{if(this._fetchCount()){F.count=this._fetchCount()}}return F},_getInterval:function(){return D},startPeriodicFetcher:function(){if(this.periodicUpdater||!twttr.decider.isAvailable("tweet_streams_polling")||(this.constructor._pollingDeciderKey&&!twttr.decider.isAvailable(this.constructor._pollingDeciderKey))){return }this.periodicUpdater=setTimeout(twttr.bind(this,this.fetchNewTweetsThenPoll),this._getInterval())},fetchNewTweetsThenPoll:function(){var E={headers:{"X-Twitter-Polling":true}};this.fetchTweets(twttr.bind(this,function(G){var F=G.newItemsCount;if(F>0){this.showNewTweetsBar(F);this.trigger("newTweets",[G,F])}}),E);this.restartFetcher()},stopPeriodicFetcher:function(){if(this.periodicUpdater){clearTimeout(this.periodicUpdater);this.periodicUpdater=null}},restartFetcher:function(){this.stopPeriodicFetcher();this.startPeriodicFetcher()},addInlineMediaIcons:function(E){using([twttr.bundleMore,"media/Iconifier"],function(){new twttr.media.Iconifier(E)})},showNewTweetsBar:function(E){var G=this.$find(".js-new-tweets-bar");var F=new twttr.views.NewTweetsBar({count:E}).$html();if(G.length>0){(twttr.isT1?G.parent():G).replaceWith(F)}else{F.hide().prependTo(this.dom()).slideDown()}},screen_name:function(){return this.params.screenName},_getUserStreamErrorComponent:function(E){this.wokeUp();if(E===twttr.streams.PROTECTED){return new twttr.components.ProtectedUser({screen_name:this.params.screenName})}else{return this.constructor.uber._getStreamErrorComponent.apply(this,arguments)}},wokeUp:function(){signal(">wokeUp")}});A(twttr.streams.TweetStream)})});provide("streams/Home",function(A){using().as(function(B){twttr.tweetStream("twttr.streams.Home",function(){var C=this;twttr.streams.TweetStream.apply(this,arguments);this.unbind("didTweet");this.bind("didTweet",function(D,E){C.fetchTweets(function(J,G){if(G!=twttr.streams.WHALE&&G!=twttr.streams.ERROR){C.insertTweetIfNotPresent(E);var I=C.$node.find(".js-stream-item:first");var L=I.length>0;var H=L&&I.position().top;J._showNewItems("insert");if(L){var K=I.position().top;var F=twttr.$win.scrollTop();$("html, body").scrollTop(F+(K-H))}J._showOldItems(true)}})})}).update(function(C,E,D){C.pc=true;C.ptw_envelope=true;twttr.currentUser.homeTimeline(C)}).methods({onShowNewItems:function(C){this.constructor.uber.onShowNewItems.apply(this,arguments);this.logPromotedImpressions(this.items.slice(0,this.newItemsCount))},onShowOldItems:function(C){this.constructor.uber.onShowOldItems.apply(this,arguments);this.logPromotedImpressions(this.items.slice(this.items.length-this.oldItemsCount));if(twttr.streams.Home.scribeTweetDensity){this._scribeTweetDensity(C);twttr.streams.Home.scribeTweetDensity=false}},_scribeTweetDensity:function(C){var D={};C.each(function(F){if(F>=10){return false}var H=$(this).find(".js-stream-tweet"),G=H.attr("data-user-id");if(!D[G]){D[G]=1}else{D[G]++}});var E=0;$.each(D,function(F,G){if(G>E){E=G}});this.scribbler.scribe({component:"stream",action:"density"},{event_value:E})},_fetchCount:function(){return null},_fetchMoreCount:function(){return 20},_getStreamEndComponent:function(){return this.constructor.uber._getStreamEndComponent.apply(this,arguments)},insertTweetIfNotPresent:function(E){if(!(E instanceof twttr.API.Status)){E=new twttr.API.Status(E)}var D=this.cleanStream([E]);if(D&&!this.hasTweet(E)){var C=this.insertionIndexOfTweet(E);this.splice(C,D);this.newItemsCount++;if(C==0){this._updateSinceId(D)}this.onInsertItems(D)}},hasTweet:function(E){for(var D=0,C=this.items.length;D<C;D++){if(this.items[D].id==E.id){return true}}return false},insertionIndexOfTweet:function(G){var E=new Date(G.createdAt);for(var D=0,C=this.items.length;D<C;D++){if(!this.items[D].isPromoted()){var F=new Date(this.items[D].createdAt);if(E>=F){return D}}}return D}}).deciderKey("tweet_stream_home").pollingDeciderKey("tweet_stream_home_polling");if(twttr.isT1){twttr.streams.Home.methods({_setTitle:function(C){C(_("Tweets"))},_getEmptyStreamHtml:function(){return new twttr.views.EmptyTimelineMessage().html()}})}else{twttr.streams.Home.methods({_getEmptyStreamComponent:function(){var C=new twttr.components.EmptyHome(),D="newItemsCountChanged.EmptyHomeComponent",E=this;this.bind(D,function(G,F){if(!F&&!E.isEmpty()){C.destroy();E.unbind(D);E._alreadyMarkedEnd=false;E.markStreamEnd()}});return C}})}A()})});provide("streams/StreamManager",function(A){using("_","mixins/serverRenderableObject").as(function(B,C,E){var D=twttr.klass("twttr.streams.StreamManager",function(I,G){var H=this;var F="";if(I){var J=I+"-stream-manager";F=' id="'+J+'"';this.domNodeSelector="#"+J}this.$node=this.$domNode('<div class="js-stream-manager" '+F+'><div class="stream-title"></div><div class="stream-container"></div></div>');this.$page=G||$();if(!twttr.decider.isInfiniteScroll()){this.$moreButton=new twttr.views.MoreButton().$html().appendTo(this.$node).click(function(K){H.getMoreOldItems(function(L){scribble("stream-more-button",{page:L._cacheKey,stream:L._cacheKey,focused_tweet_id:L.focusedItemId||""})});K.stopPropagation();K.preventDefault()})}this.resetCache()}).statics({cacheKeyForStream:function(F){return F._cacheKey},cacheKeyForStreamClass:function(G,I){var F=G._name;if(I&&!$.isEmptyObject(I)){var H=twttr.filter(I,function(K,J){return !twttr.is.fn(J)&&!twttr.is.object(J)});F+=JSON.stringify(H)}return encodeURIComponent(F)}}).methods(twttr.EventProvider).mixin(E).methods({$find:function(){return this.$node.find.apply(this.$node,arguments)},getCurrent:function(){return this.streams.current},setCurrent:function(F){this.streams.current=F},getStream:function(F,H){var G=twttr.streams.StreamManager.cacheKeyForStreamClass(F,H);return this.streams[G]},onSwitchAway:function(){var F=this.getCurrent();if(F){F.beforeSwitchingAway()}},switchOut:function(){var F=this.getCurrent();if(F){F.beforeSwitchingAway();F.dom().detach()}this.$headerContainer().empty();this.titleContainer().empty()},switchTo:function(F,G,M){var L=null;if(G&&G.initialItems!==undefined){L=G.initialItems;delete G.initialItems}var I=this,K=twttr.streams.StreamManager.cacheKeyForStreamClass(F,G),H=this.getCurrent(),N,P=false;M=M||$.noop;_scribble("stream-view",{stream_name:F._name});G=G||{};if(H){var Q=twttr.streams.StreamManager.cacheKeyForStream(H);if(Q===K){this.trigger("didNotSwitch",H);H.afterSwitchingToAgain(M);return H}this.switchOut()}this.trigger("switchTo");if(this.streams[K]&&!L){N=this.streams[K];P=true}else{N=new F(G,L,this);N._cacheKey=K;N.bind("newItemsCountChanged",twttr.bind(this,function(S,R){if(N===this.getCurrent()){this.trigger("newItemsCountChanged",[R])}}));N.bind("reloadCurrentStream",twttr.bind(this,function(S,R){N.unbindEvents();this.clearFromCache(R);this.$node.find("div.stream-container").empty();delete this.streams.current;this.switchTo(R)}));N.bind("notFound",twttr.bind(this,function(R){this.trigger("notFound")}));if(N._shouldCache){this.streams[K]=N}}this.trigger("switchingToStream",N);var J=this.$node.find("div.stream-container");if(J.has(N.$node).length===0){J.prepend(N.$node)}this.setHeader(N,G);if(I.$moreButton){function O(){I.$moreButton.toggle(!N._alreadyMarkedEnd&&!N._errorComponent)}N.bind("streamEnd doneLoadingMore",O);O()}N.bind("doneLoadingMore",function(){I.trigger("doneLoadingMore")});this.setCurrent(N);this.trigger("newItemsCountChanged",[N.newItemsCount]);if(P){N.afterSwitchingToAgain(M)}else{N.afterFirstSwitchingTo(M)}if(twttr.decider.isInfiniteScroll()){N.showLoadingSpinner()}if(this.preRendered&&!N.preRendered&&!twttr.app.fullyLoaded()){signal(">wokeUp")}return N},setTitle:function(G){var F=this.titleContainer();F.empty();G._setTitle(twttr.bind(this,function(H){if(!H){return }this.setTitleHTML(H)}))},getMoreOldItems:function(F){if(this.getCurrent()){this.getCurrent().getMoreOldItems(F)}},resetCache:function(){this.streams={};this.setCurrent(null)},$headerContainer:function(){return this.$page.find("div.js-stream-header")},titleContainer:function(){if(twttr.isT1){return this.$page.find(".js-stream-title")}return this.$node.find("div.stream-title")},clearFromCache:function(F,H){H=H||{};var G=twttr.streams.StreamManager.cacheKeyForStreamClass(F,H);this.clearKeyFromCache(G)},clearKeyFromCache:function(F){delete this.streams[F]}});if(twttr.isT1){D.methods({setHeader:function(H,G){if(H._setHeader){var F=this;using(twttr.bundleMore,function(){H._setHeader(twttr.bind(F,function(I){F.renderHeader(H,G,I)}),G)})}else{this.renderHeader(H,G,new twttr.views.StreamHeader(G).$html())}},renderHeader:function(H,G,F){this.setHeaderHTML(F);this.setTitle(H);this.setViewToggler(H,G);this.setHeaderButton(H,G)},setHeaderHTML:function(F){this.$headerContainer().html(F)},setTitleHTML:function(G){var F=this.titleContainer();if(F){F.html(G)}},setViewToggler:function(G,F){$viewTogglerContainer=this.$page.find("small.js-view-toggler");if(!$viewTogglerContainer){return }$viewTogglerContainer.empty();if(G._setViewToggler){using(twttr.bundleMore,function(){G._setViewToggler(twttr.bind(this,function(H){if(!H){return }H.render($viewTogglerContainer)}),F)})}},setHeaderButton:function(G,F){$headerButtonContainer=this.$page.find("span.js-header-button-container");if(!$headerButtonContainer){return }$headerButtonContainer.empty();if(G._setHeaderButton){using(twttr.bundleMore,function(){G._setHeaderButton(twttr.bind(this,function(H){if(!H){return }H.render($headerButtonContainer)}),F)})}}})}else{D.methods({setHeader:function(G,F){this.setTitle(G)},setTitleHTML:function(F){this.titleContainer().html("<h2>"+F+"</h2>")},setViewToggler:twttr.util.noopInP1,setHeaderButton:twttr.util.noopInP1})}A(D)})});provide("view",function(A){using("util").as(function(B){twttr.augmentString("twttr.views",{makeDefaultViews:function(C){twttr.map(C,function(E,D){var F=B.util.capitalize(B.util.camelize(D));twttr.views[F]=twttr.views[F]||twttr.view("twttr.views."+F)});signal(">defaultViews")}});twttr.view=function(E,D){if(!D){D=function(){twttr.views.Base.apply(this,arguments)}}if(twttr.development&&twttr.at(E)){console.error("twttr.view duplicate definition of:",E)}var C=twttr.klass(E,D);C.subclassOf(twttr.views.Base);C.template=function(F){this._template=F;return this};twttr.view._setDefaultTemplate(C,E);C._partials=twttr.templates;return C};twttr.view._setDefaultTemplate=function(C,D){C.template(twttr.templates[B.util.underscore(D.split(".")[2]).toLowerCase()])};twttr.klass("twttr.ViewStack",function(C,D){this.$referenceNode=$(C);this.operation=D||"append";this._cache={};this._stack=[]}).methods({cached:function(C){if(!twttr.is.string(C)){C=C.viewId}return twttr.is.def(this._cache[C])},size:function(){return this._stack.length},contains:function(C){return twttr.is.inArray(C,this._stack)},remove:function(C){delete this._cache[C.viewId]},top:function(C){return this._stack[this._stack.length-1-(C||0)]},push:function(C){var D=this.top();if(D&&D._backLabel){C._backLabel=D._backLabel;D.hide()}if(!this.cached(C)){this._cache[C.viewId]=C;C._viewstack=this;this._stack.push(C);C.render(this.$referenceNode,this.operation)}else{C=this._cache[C.viewId];this._stack.push(C)}C.show();return C},pop:function(E){var D=this._stack.pop(),C=this._stack[this._stack.length-1];if(D){D.hide()}if(C&&!E){C.show()}return D?D:null},reset:function(C){while(this.pop()){}if(C){return this.push(C)}}});A(twttr.view)})});provide("urlResolver",function(A){using().as(function(B){twttr.augmentString("twttr.urlResolver",function(){var C={};return{expand:function(J,K){var E,I={},H=[];if(twttr.decider.isAvailable("phoenix_url_resolver")&&twttr.is.array(J)){for(var G=0,D=J.length;G<D;++G){var F=J[G];if(E=C[F]){I[F]=E}else{H.push(F)}}if(H.length===0){K(I)}else{twttr.API.Urls.resolve(H,function(L){$.each(L,function(N,M){C[N]=I[N]=M});K(I)})}}}}}());A(twttr.urlResolver)})});provide("multiGlobals/core_views",function(exports){using("util").as(function(phx){var logContext=phx.util.params().log_context;twttr.view("twttr.views.Base",function(id,obj){if(!twttr.is.string(id)){this.obj=id;this.viewId=null}else{this.viewId=id;this.obj=obj}var currPage=twttr.audit.currentPage();if(currPage){this["in_"+currPage+"_page"]=true}var currAction=twttr.audit.currentAction();if(currAction){this.actionName=twttr.util.underscore(currAction);this["in_"+this.actionName+"_action"]=true}if(!this.obj){return }this.originalObject=this.obj;this.attach(this.obj)}).statics({formatDeciderMethodName:function(name){return twttr.util.underscore((""+name).replace(/[^A-Z0-9]/gi,"_"))},_addBucketTestMethod:function(experiment,experimentKey,bucket){var bucketKey=experimentKey+"_"+this.formatDeciderMethodName(bucket);if(bucket&&!this.prototype[bucketKey]){this.method(bucketKey,function(){return bucket==twttr.abdecider.choose(experiment)})}},addABTestMethods:function(experiment,currentBucket,bucketNames){var experimentKey="abtest_"+this.formatDeciderMethodName(experiment);if(!this.prototype[experimentKey]){this.method(experimentKey,function(){return !!twttr.abdecider.choose(experiment)})}var anyBucketKey=experimentKey+"_any_bucket";if(!this.prototype[anyBucketKey]){this.method(anyBucketKey,function(){var bucket=twttr.abdecider.choose(experiment);return !!(bucket&&bucket!="control")})}if(bucketNames){for(var i=0;i<bucketNames.length;i++){this._addBucketTestMethod(experiment,experimentKey,bucketNames[i])}}else{this._addBucketTestMethod(experiment,experimentKey,currentBucket)}},addDeciderMethod:function(key){this.method("decider_"+twttr.util.underscore(key),function(){return twttr.decider.isAvailable(key)})},onDeciderKeyChange:function(event,details){twttr.views.Base.addDeciderMethod(details.key)},onABTestKeyChange:function(event,details){if(details.current){twttr.views.Base.addABTestMethods(details.key,details.current.bucket,details.current.bucket_names)}}}).methods({anatomy_world:function(){if(twttr.isT1){var bucket=twttr.abdecider.chooseWithoutImpression("t1_anatomy_redux_178");return(/expand|act1_c/).test(bucket)}else{return false}},"debugger":function(){if(twttr.development){eval("debugger;")}return""},languages:function(){return twttr.languages},languages_by_own:function(){return twttr.languages.sort(function(a,b){var aname=a.name.toLowerCase(),bname=b.name.toLowerCase();if(aname<bname){return -1}else{if(aname===bname){return 0}else{return 1}}})},render:function(selector,operation){this.selector=selector;this.operation=operation||"html";try{this.$dom=$(this.html())}catch(e){if(e.message&&e.message.indexOf("Syntax error, unrecognized expression")==0){this.$dom=$("")}else{throw e}}$(this.selector)[this.operation](this.$dom);this.afterRender(this.$dom);return this.$dom},attach:function(o){if(twttr.API.Base&&o instanceof twttr.API.Base){throw new Error("You failed to subclass BaseAPI with this view ("+this.constructor._name+"), so we're about to clobber all your favorite properties.  Subclass twttr.views.BaseAPI!")}for(var key in o){this[key]=o[key]}},hide:function(){this.$dom.hide();this.$dom.addClass("inactive").removeClass("active")},show:function(){this.$dom.show();this.$dom.addClass("active").removeClass("inactive")},refresh:function(){this.$dom=$(this.html(true));$(this.selector)[this.operation](this.$dom)},html:function(force){if(!force&&this._html){return this._html}if(!twttr.is.def(this.constructor._template)){console.log("Missing template file: ",this,this.constructor._name);return""}if(logContext==""||logContext==this.constructor._name){try{var string=JSON.stringify(this.obj,null,2)}catch(e){var string=e.toString()}console.log("View inputs to",this.constructor._name+":",{originalObject:this,stringified:string})}var args=[this.constructor._template,this];if(this.constructor._partials){args.push(this.constructor._partials)}try{this._html=Mustache.to_html.apply(Mustache,args)}catch(e){if(e.message){if(twttr.development){console.error("Error rendering "+this.constructor._name,e.message)}throw (e)}}this.afterHtml(this._html);return this._html},$html:function(options){return $(this.html())},rendering_on_server:false,afterHtml:function(html){},afterRender:function($domElement){},subview:function(viewName,view){this[viewName]=view;return this},logged_in:function(){return !!twttr.currentUser},is_ssl:function(){return twttr.proto=="https"},is_mobile:function(){return !!twttr.isMobile},t1_actions_eligible:function(){return twttr.t1_actions_eligible},form_authenticity_token:function(){return twttr.anywhere.api.config.postAuthenticityToken},plural_rules:{r0:function(){return"other"},r1:function(c){return c===1?"one":"other"},r2:function(c){return c<=1?"one":"other"},r3:function(c){if(parseInt(c)===c){switch(c%10){case 1:if(c===11){break}return"one";case 2:case 3:case 4:if(c>=12&&c<=14){break}return"few"}return"many"}else{return"other"}},r4:function(c){switch(c){case 0:return"zero";case 1:return"one";case 2:return"two";default:var c100=c%100;if(c100>=11){return"many"}else{if(c100>=3&&c100<=10){return"few"}else{return"other"}}}}},lang_to_rule:{ar:"r4",da:"r1",de:"r1",en:"r1",es:"r1",fa:"r0",fil:"r2",fr:"r2",he:"r1",hi:"r2",hu:"r0",id:"r0",it:"r1",ja:"r0",ko:"r0",msa:"r0",nl:"r1",pt:"r1",ru:"r3",sv:"r1",tr:"r0",ur:"r1","zh-cn":"r0","zh-tw":"r0"},lookup_missing_property:function(name,context){var i=name.lastIndexOf("_");if(i!==-1){var suffix=name.substring(i+1);switch(suffix){case"zero":case"one":case"two":case"few":case"many":case"other":var property=name.substring(0,i);if(property in context){function is_kinda_truthy(val){return val||val===false||val===0}var rule=this.plural_rules[this.lang_to_rule[twttr.pageLocale]||"r0"];function fn(){var value;if(is_kinda_truthy(this[property])){value=this[property]}if(typeof value==="function"){value=value.apply(this)}return suffix===rule(value)}var proto=null;if(Object.getPrototypeOf){proto=Object.getPrototypeOf(context)}else{if(context.__proto__){proto=context.__proto__}}if(!proto||proto===Object.prototype){proto=context}proto[name]=fn;return fn.apply(context)}break;default:break}}return undefined},render_page_content:true});(function(){for(var key in twttr.decider.features()){twttr.views.Base.addDeciderMethod(key)}var experiments=twttr.abdecider.experiments();for(var experimentName in experiments){var experiment=experiments[experimentName];if(experiment&&experiment.bucket){twttr.views.Base.addABTestMethods(experimentName,experiment.bucket,experiment.bucket_names)}}})();twttr.decider.bind("keyChanged",twttr.views.Base.onDeciderKeyChange);twttr.abdecider.bind("keyChanged",twttr.views.Base.onABTestKeyChange);twttr.view("twttr.views.BaseAPI").methods({attach:function(o){var data=(o.attributes||o);for(var key in data){this[key]=data[key]}}});twttr.view("twttr.views.UserLink").subclassOf(twttr.views.BaseAPI);twttr.view("twttr.views.BaseTweet",function(){twttr.views.BaseAPI.apply(this,arguments);this.user=new twttr.views.BaseUser({attributes:this.user})}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.userActionable).methods({full_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp(),true)},short_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp())},explicit_timestamp:function(){return twttr.helpers.prettyTime(this.actual_timestamp())},actual_timestamp:function(){return twttr.helpers.parseDateString(this.created_at)},linkified_text:function(){if(!this.text){return""}var linkified=this.text;if(this.is_withheld()&&this.is_current_user()){linkified=this.withheld_text}if(twttr.decider.isAvailable("geo_place_entities_read")){if(this.entities&&this.entities.places){this.entities.places.sort(function(a,b){return b.indices[0]-a.indices[0]});var previousStart=linkified.length;twttr.each(this.entities.places,function(place){var start=place.indices[0];var end=place.indices[1];if(end<=previousStart&&end>start){var placeText=linkified.substring(start,end);if(twttr.txt.extractUrlsWithIndices(placeText).length===0){linkified=linkified.substring(0,start)+'<a href="/places/'+h(place.id)+'" target="_blank" class="twitter-place" data-place-id="'+h(place.id)+'">'+placeText+"</a>"+linkified.substring(end)}previousStart=start}})}}linkified=twttr.util.linkify(linkified,{nofollow:true});linkified=twttr.util.linkifyEntities(linkified,this);if(this.render_withheld()){linkified+='  <a href="'+twttr.router.withheldHelpPath()+'" target="_blank">'+_("Learn more")+"</a>"}return this.query?twttr.util.queryHighlight(this.query,linkified):linkified},is_withheld:function(){return this.is_tweet_withheld()||this.is_user_withheld()},is_tweet_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="status"},is_user_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_current_user:function(){return twttr.helpers.isCurrentUser(this.user)},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},render_withheld:function(){return(this.is_withheld()&&!this.is_current_user())},is_top_tweet:function(){return this.result_category==="popular"},is_sponsored:function(){return !!(this.impression_id)},tweet_impression_id:function(){return this.impression_id?Mustache.to_html('data-impression-id="{{id}}" ',{id:this.impression_id}):""},promoted_badge_class:function(){return"badge-"+(this.disclosure_type||"promoted")},social_context:function(){if(this.socialContext&&this.socialContext.length){this.user.socialContext=this.socialContext;this.user.screenName=this.user.screen_name;var output=this.makeSocialContextHtml(this.user,false);return _('<span class="icon-link social-context">{{{social_context}}}</span>',{social_context:output})}else{return""}},advertiser_name:function(){return this.was_retweeted?this.retweeting_status.user.name:this.user.name},allowed_to_retweet:function(){return !this.user["protected"]&&!twttr.helpers.isCurrentUser(this.user)},retweet_count_text:function(){var count=this.retweet_count;if(count===1){return _("{{retweet_count}} Retweet",{retweet_count:count})}else{return _("{{retweet_count}} Retweets",{retweet_count:twttr.util.formatNumber(count,twttr.pageLocale)})}},activity_count:function(propName){var hasActivity=this.activities&&this.activities[propName]&&this.activities[propName]!=="0";return hasActivity?"("+this.activities[propName]+")":""},favoriter_count:function(){return this.activity_count("favoriters_count")},retweeter_count:function(){return this.activity_count("retweeters_count")},has_retweet_count:function(){return this.retweet_count>0},replier_count:function(){return this.activity_count("repliers_count")},is_retweeted_by_current_user:function(){return !!this.current_user_retweet},is_my_tweet:function(){return twttr.helpers.isCurrentUser(this.user)},show_trashcan:function(){return twttr.helpers.isCurrentUser(this.user)||(twttr.admin&&twttr.admin.showTrashcan())},show_not_relevant_action:function(){return(twttr.decider.isAvailable("phoenix_search_relevance_not_relevant_action")&&this.result_category==="relevance")},contributor:function(){return this.contributors?this.contributors[0]:null},can_view:function(){return this.user.can_view()},retweet_source_screen_name_link:function(){if(this.retweeting_status){var screenName=this.retweeting_status.text.match(/^RT @?([0-9A-Za-z_]*):/).pop();return Mustache.to_html("<a href='{{path}}' class='latest-status-retweeted-user'>{{screen_name}}</a>",{path:twttr.router.profilePath({screen_name:screenName}),screen_name:screenName})}},css_classes:function(){var classes="";$.each({is_top_tweet:"top-tweet",is_sponsored:"promoted-tweet",current_user_retweet:"retweeted",favorited:"favorited"},twttr.bind(this,function(k,v){if(twttr.is.fn(this[k])?this[k]():this[k]){classes+=v+" "}}));return classes},permalink_path:function(){return twttr.router.permalinkPath({screen_name:this.user.screen_name,id:this.id})},embed_dialog_permalink_path:function(){return twttr.router.embedDialogPermalinkPath({screen_name:this.user.screen_name,id:this.id})},place_path:function(){return twttr.router.placePath({place_id:this.place.id})},truncated_text:function(){return twttr.helpers.truncate(this.text,50)},can_expand:function(){return twttr.decider.isExpando()},in_reply_to_path:function(){return twttr.router.permalinkPath({screen_name:this.in_reply_to_screen_name,id:this.in_reply_to_status_id})},in_reply_to_name:function(){var screen_name=this.in_reply_to_screen_name;var mentions=this.entities&&this.entities.user_mentions;if(mentions){for(var i=0,len=mentions.length;i<len;i++){if(mentions[i].screen_name===screen_name){return mentions[i].name}}}return"@"+screen_name}});twttr.view("twttr.views.BaseUser",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.i18nTweet).methods({defaultAvatarRegEx:/default_profile_\d/,defaultAvatar:function(getImage){if(this.profile_image_url.match(this.defaultAvatarRegEx)&&this.is_current_user()){if(getImage){return twttr.assets.path("/images/default_profile_add_photo.png")}else{return twttr.router.settingsProfilePath()}}return false},raw_profile_image_url:function(){return this.defaultAvatar(false)||twttr.helpers.transformProfileImageUrl(this.profile_image_url)},bigger_profile_image_url:function(){return this.defaultAvatar(false)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},mini_profile_image_url:function(){return this.defaultAvatar(false)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")},reasonably_small_profile_image_url:function(){return this.defaultAvatar(true)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"reasonably_small")},right_image_size:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},account_profile_image_path:function(){return"/account/profile_image/"+this.screen_name},description_is_rtl:function(){if(!this.description){return false}var matchedRtlChars=this.getMachedRtlChars(this.description);return matchedRtlChars&&this.shouldBeRTL(this.description,matchedRtlChars)},linkified_description:function(){var description=this.description;if(this.is_withheld()&&this.is_current_user()){description=this.withheld_description}if(!description){return""}var linkified=twttr.util.linkifyEntities(twttr.util.linkify(description,{nofollow:true}),this);return this.query?twttr.util.queryHighlight(this.query,linkified):linkified},display_url_or_url:function(){if(!this.url){return""}return twttr.txt.htmlEscape(this.display_url||this.url)},is_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},is_current_user:function(){return twttr.helpers.isCurrentUser(this.id)},can_view:function(){return twttr.helpers.canViewUser(this)},is_sponsored:function(){return !!this.promoted_content},promoted_badge_class:function(){return"badge-"+(this.promoted_content.disclosure_type||"promoted")},translation_tool_path:function(){if(twttr.decider.isAvailable("i18n_new_translation_center")){return"http://translate.twttr.com"}else{return this.translate_path()}},account_impression_id:function(){var promotedContent=this.promoted_content;return promotedContent?Mustache.to_html("data-impression-id='{{id}}' ",{id:promotedContent.impression_id}):""},feedback_token:function(){return this.feedback?Mustache.to_html("data-feedback-token='{{feedback}}' ",{feedback:this.feedback}):""},mini_profile_image_url:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")}});twttr.view("twttr.views.StreamTweet",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet).mixin(twttr.mixins.serverRenderableObject).methods({wakeUp:function(){this.initDomNode();var oldContents=this.$node.children().remove();this.$node.html(twttr.views.Base.prototype.html.call(this,true));if(this.render_withheld()){this.$node.addClass("withheld-item")}var $invisibleContainer=$('<div style="display:none;" class="js-old-content" />').append(oldContents);this.$node.append($invisibleContainer);var invisibleContainer=$invisibleContainer[0];using(">actionQueueEmpty",function(){invisibleContainer.parentNode.removeChild(invisibleContainer)})},initDomNode:function(){if(this.$node){return }var that=this;this.$node=this.$domNode(function(){return twttr.views.Base.prototype.html.apply(that,arguments)})},html:function(force){if(force){this.$node=null}this.initDomNode();if(this.preRendered){return this.$node.html()}else{return twttr.views.Base.prototype.html.apply(this,arguments)}},domNodeSelector:function(){var itemId=this.id;if(this.impression_id){itemId=itemId+"\\:"+this.impression_id.replace(".","\\.")}return"#stream-item-tweet-"+itemId}});twttr.view("twttr.views.TweetActions",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet);twttr.view("twttr.views.TweetDogear",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet);twttr.view("twttr.views.DetailsPane").methods({closable:true,back_label:function(){return this._backLabel},popable:function(){return this._viewstack&&this._viewstack.size()>1},hide:function(){this.$dom.addClass("inactive").removeClass("active");this.$dom.find("div.tweet-media").trigger("hideMedia");this.$dom=this.$dom.detach()},show:function(){$(this.selector)[this.operation](this.$dom);this.$dom.find("div.tweet-media").trigger("showMedia");this.$dom.addClass("active").removeClass("inactive")}});twttr.view("twttr.views.MessageDrawer").statics({isOpen:false,close:function(){twttr.views.MessageDrawer.isOpen=false;$("#message-drawer .message").remove()}});twttr.view("twttr.views.UserCss",function(){twttr.views.BaseAPI.apply(this,arguments);var troublesomeProperties=["profile_background_color","profile_text_color","profile_link_color","profile_sidebar_fill_color"];for(var i=0;i<troublesomeProperties.length;i++){this[troublesomeProperties[i]]=twttr.helpers.sanitizeCssColor(this[troublesomeProperties[i]])}}).subclassOf(twttr.views.BaseAPI).methods({rgba_sidebar_color:function(){if(!this.profile_sidebar_fill_color){return }return twttr.helpers.hexToRGBA(this.profile_sidebar_fill_color,"0.9")},rgba_tweet_background_color:function(){if(!this.profile_link_color){return }return twttr.helpers.hexToRGBA(this.profile_link_color,"0.1")},rgba_tweet_border_color:function(){if(!this.profile_link_color){return }return twttr.helpers.hexToRGBA(this.profile_link_color,"0.15")},rgba_newtweets_background_color:function(){if(!this.profile_link_color){return }return twttr.helpers.hexToRGBA(this.profile_link_color,"0.2")},rgba_newtweets_border_color:function(){if(!this.profile_link_color){return }return twttr.helpers.hexToRGBA(this.profile_link_color,"0.25")},rgba_text_color:function(){if(!this.profile_text_color){return }return twttr.helpers.hexToRGBA(this.profile_text_color,"0.6")},profile_pretty_link_color:function(){if(!this.profile_link_color){return }return twttr.helpers.blendHexColor(this.profile_link_color,"FFF",0.6)},profile_pretty_link_sidebar_color:function(){if(!this.profile_link_color||!this.profile_sidebar_fill_color){return }return twttr.helpers.blendHexColor(this.profile_link_color,this.profile_sidebar_fill_color,0.6)}});twttr.view("twttr.views.UserCssP1",function(){twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss);twttr.view("twttr.views.UserCssT1",function(user){twttr.inputUser=user;twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss).methods({style_namespace:function(){return this.screen_name?this.screen_name:"twttr"},has_hovers_in_css:function(){return !!twttr.hasHoversInCss},colon_hover:function(){return twttr.hasHoversInCss?":hover":""}});twttr.view("twttr.views.BgImgCss",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI);twttr.view("twttr.views.BaseStats",function(obj){twttr.views.BaseUser.apply(this,arguments);if(obj.status){this.status=new twttr.views.BaseTweet(obj.status);this.status.user=this}}).subclassOf(twttr.views.BaseUser).methods({statuses_count_commaized:function(){return phx.util.formatNumber(this.statuses_count,twttr.pageLocale)},following_nobody:function(argument){return this.friends_count===0},friends_count_commaized:function(){if(this.screen_name==="toptweets"){return _("everyone!")}return phx.util.formatNumber(this.friends_count,twttr.pageLocale)},followers_count_commaized:function(){return phx.util.formatNumber(this.followers_count,twttr.pageLocale)},favorites_count_commaized:function(){if(this.favourites_count&&parseInt(this.favourites_count,10)>0){return phx.util.formatNumber(this.favourites_count,twttr.pageLocale)}else{return 0}},listed_count_commaized:function(){if(this.listed_count&&parseInt(this.listed_count,10)>0){return phx.util.formatNumber(this.listed_count,twttr.pageLocale)}else{return 0}},can_view:function(){return twttr.helpers.canViewUser(this)},source_impression_id:function(){var impressionId=this.impression_id;return impressionId?Mustache.to_html('data-impression-id="{{id}}" ',{id:impressionId}):""},translator_profile_path:function(){if(twttr.decider.isAvailable("i18n_new_translation_center")){return this.translation_tool_path()+"/user/"+this.screen_name}else{return this.translation_tool_path()}}});twttr.view("twttr.views.MessageNotification").statics({isOpen:false,close:function(){twttr.views.MessageNotification.isOpen=false;$("#message-notification .notification").remove()}});twttr.view("twttr.views.StreamActivity").statics({maxItems:2,sentences:{favorites:[_("Favorited by {{{screen_name_0}}}"),_("Favorited by {{{screen_name_0}}} and {{{screen_name_1}}}")],retweets:[_("Retweeted by {{{screen_name_0}}}"),_("Retweeted by {{{screen_name_0}}} and {{{screen_name_1}}}")]}}).methods({sentence:function(){var mapping=this.constructor.sentences[this.item_type],items=this.items.slice(0,this.constructor.maxItems);if(!items.length||!mapping){return""}return Mustache.to_html(mapping[items.length-1],twttr.inject(items,{},function(data,i,user){data["screen_name_"+i]=(new twttr.views.UserLink(user.attributes)).html();return data}))}});exports()})});provide("multiGlobals/core_views_t1",function(A){using("util").as(function(B){twttr.view("twttr.views.StreamTweeter",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet);A()})});provide("router_t1",function(A){using("util").as(function(L){twttr.router=new twttr.Router();var H=twttr.bind(twttr.router,twttr.router.route),G=twttr.bind(twttr.router,twttr.router.staticRoute),I=twttr.bind(twttr.router,twttr.router.redirectRoute);twttr.router.bind("routeAdded",function(O,M,N){twttr.views.Base.method(L.util.underscore(M),function(){return N(this)})});J("about","/about");J("jobs","/jobs");J("tos","/tos");J("privacy","/privacy");J("deactivated","/account/deactivated");J("deactivate","/account/deactivate");J("suspendedHelp","/account/suspended_help");J("suspended","/suspended");J("settings","/settings/account");J("design","/settings/design");J("settingsProfile","/settings/profile");J("devices","/devices");J("invitationEmailPreview","/invitations/email_preview");J("campaigns","/account/campaigns");J("resources","/about/resources");J("translate","/translate");J("whatsNew","/newtwitter");J("changeLocale","/sessions/change_locale");J("resendPassword","/account/resend_password");J("mobileComplete","/account/complete");J("turnPhxOff","/account/use_phx?setting=false&format=html");I("terms","/#!/terms","tos");I("admin","/#!/admin","home");C("sessions","/sessions?phx=1");C("signup","/signup");H("login","/#!/login",F("login").action("index"));H("loginRedirect","/#!/login/redirect/:redirect_after_login",F("login").action("index"));H("loginError","/#!/login/:error",F("login").action("error"));H("logout","/#!/logout",F("logout").action("index"));J("logout_action","/logout");G("support","//support.twitter.com");G("blog",twttr.localize({ja:"http://blog.jp.twitter.com",es:"http://blog.es.twitter.com",fr:"http://blog.fr.twitter.com",de:"http://blog.de.twitter.com",pt:"http://blog.pt.twitter.com",ko:"http://blog.kr.twitter.com",it:"http://blog.it.twitter.com",ru:"http://blog.ru.twitter.com"},"http://blog.twitter.com"));G("status",twttr.localize({ja:"http://status.twitter.jp"},"http://status.twitter.com"));G("developers","//dev.twitter.com");G("businesses","//business.twitter.com/index_"+twttr.pageLocale+".html");G("advertisers","//business.twitter.com/"+twttr.pageLocale+"/advertise/start");G("partnerships","http://media.twitter.com");G("helpPromotedTweets","//support.twitter.com/articles/142101");G("helpPromotedAccounts","//support.twitter.com/articles/282154");G("helpPromotedTrends","//support.twitter.com/articles/282142");G("spamLearnMore","//support.twitter.com/articles/64986-how-to-report-spam-on-twitter");G("malwareLearnMore","//support.twitter.com/articles/90491-my-website-is-being-flagged-as-malware-or-spam");G("suspendedLearnMore","//support.twitter.com/articles/15790-my-account-is-suspended");G("dailyLimitLearnMore","//support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following");G("savedSearchesHelp","//support.twitter.com/articles/96646-how-to-save-searches");G("listsHelp","//support.twitter.com/articles/76460-how-to-use-twitter-lists");G("emailHelp","//support.twitter.com/articles/82050-i-m-having-trouble-confirming-my-email");G("changeEmail","//twitter.com/settings/account?change_email=true");G("mobile","//mobile.twitter.com");G("mobileHelp","//support.twitter.com/groups/34-mobile");G("mobileHelpFaq","//support.twitter.com/groups/34-mobile/topics/123-getting-started/articles/14014-twitter-phone-faqs");G("shortCodeHelp","//support.twitter.com/articles/14226-how-to-find-your-twitter-short-code");G("smsHelp","//support.twitter.com/articles/14020-about-twitter-sms-commands");G("helpDiscovery","//support.twitter.com/articles/14022");G("analytics","//analytics.twitter.com/");G("turkeySupport","https://support.twitter.com/articles/20156423");G("flagTurkeySupport","https://support.twitter.com/articles/20069937");G("twirefoxSupport","https://support.twitter.com/articles/20167003-about-firefox-with-twitter");G("tweetIntent","https://twitter.com/share");G("withheldHelp","https://support.twitter.com/articles/20169222");G("followLimitReachedLearnMore","https://support.twitter.com/articles/66885");G("blockedFromFollowingLearnMore","https://support.twitter.com/articles/117063");G("listNameErrorLearnMore","https://support.twitter.com/articles/20169276");G("cookiePersonalizationLearnMore","https://support.twitter.com/articles/20169421");G("embedDocumentation","//dev.twitter.com/docs/embedded-tweets");G("directMessageLearnMore","http://support.twitter.com/groups/31-twitter-basics/topics/109-tweets-messages/articles/14606-what-is-a-direct-message-dm");H("home","/#!/",B({loggedIn:F("home").action("home"),loggedOut:F("front").action("index")}));H("homeIndex","/#!/",B({loggedIn:F("home").action("home"),loggedOut:F("front").action("index")}));H("savedSearches","/#!/saved-search",B({loggedIn:F("home").action("savedSearches")}));H("listsFollowingYou","/#!/lists/memberships",B({loggedIn:F("home").action("memberships")}));H("listsYouFollow","/#!/lists/subscriptions",B({loggedIn:F("home").action("subscriptions")}));H("messages","/#!/messages",B({loggedIn:F("home").action("messages")}));H("messageCreate","/#!/messages/create/:screen_name",B({loggedIn:F("home").action("messages")}));H("inbox","/#!/inbox",B({loggedIn:F("home").action("messages")}));H("sent","/#!/sent",B({loggedIn:F("home").action("messages")}));H("createDm","/#!/direct_messages/create/:screen_name",B({loggedIn:F("home").action("messages")}));I("retweetsByOthers","/#!/retweets_by_others","connect");I("retweetsOfMine","/#!/retweeted_of_mine","connect");H("rateLimit","/#!/twttr/rate_limit",F("rateLimit").action("tooMuch"));H("discover","/#!/i/discover",B({loggedIn:F("discover").action("discover")}));H("networkActivity","/#!/activity",B({loggedIn:F("discover").action("networkActivity")}));H("whoToFollow","/#!/who_to_follow",B({loggedIn:F("discover").action("suggestions")}));H("whoToFollowSuggestions","/#!/who_to_follow/suggestions",B({loggedIn:F("discover").action("suggestions")}));H("whoToFollowSuggestionsSearch","/#!/who_to_follow/suggestions/search/:query",B({loggedIn:F("discover").action("suggestions_search")}));H("whoToFollowSuggestionsSearchForm","/#!/who_to_follow/suggestions/search/",B({loggedIn:F("discover").action("suggestions_search")}));H("whoToFollowImport","/#!/who_to_follow/import",B({loggedIn:F("discover").action("find_friends")}));H("whoToFollowImportMatches","/#!/who_to_follow/matches",B({loggedIn:F("discover").action("matches")}));H("whoToFollowImportSearch","/#!/who_to_follow/import/search/:query",B({loggedIn:F("discover").action("find_friends_search")}));H("whoToFollowImportSearchForm","/#!/who_to_follow/import/search/",B({loggedIn:F("discover").action("find_friends_search")}));H("whoToFollowInterests","/#!/who_to_follow/interests",B({loggedIn:F("discover").action("interests")}));H("whoToFollowInterestsSearch","/#!/who_to_follow/interests/search/:query",B({loggedIn:F("discover").action("interests_search")}));H("whoToFollowInterestsSearchForm","/#!/who_to_follow/interests/search",B({loggedIn:F("discover").action("interests_search")}));H("whoToFollowInterestsCategory","/#!/who_to_follow/interests/:category",B({loggedIn:F("discover").action("category")}));H("personalizationPreview","/#!/who_to_follow/web_personalized",F("WebPersonalizationPreview").action("preview"));H("searchHome","/#!/search-home",F("searchHome").action("index"));H("searchAdvanced","/#!/search-advanced",F("searchHome").action("advanced"));H("searchRealtime","/#!/search/realtime/:query",F("search").action("realtime"));H("searchTimeline","/#!/search/timeline/:query",F("search").action("timeline"));H("formSearchResults","/#!/search",F("search").action("search"));H("searchResults","/#!/search/:query",F("search").action("search"));H("userSearch","/#!/search/users/:query",F("search").action("people"));H("savedSearch","/#!/saved-search/:query",F("search").action("search"));H("searchFacetsGrid","/#!/search/:query/grid/:mode",F("facetsMediaGallery").action("grid"));H("searchFacetsSlideshow","/#!/search/:query/slideshow/:mode",F("facetsMediaGallery").action("slideshow"));H("searchFacetsGridDefault","/#!/search/:query/grid",F("facetsMediaGallery").action("grid"));H("searchFacetsSlideshowDefault","/#!/search/:query/slideshow",F("facetsMediaGallery").action("slideshow"));H("place","/#!/places/:place_id",F("PlaceT1").action("tweets"));H("trends","/#!/trends",F("trends").action("trends"));H("connect","/#!/i/connect",B({loggedIn:F("Connect").action("connect")}));H("mentions","/#!/mentions",B({loggedIn:F("Connect").action("mentions")}));H("replies","/#!/replies",B({loggedIn:F("Connect").action("mentions")}));H("permalink","/#!/:screen_name/status/:id",F("permalink").action("permalink"));H("permalinkOld","/#!/:screen_name/statuses/:id",F("permalink").action("permalink"));H("photoPermalink","/#!/:screen_name/status/:id/photo/:photo_index",F("permalink").action("permalink"));H("bigPhotoPermalink","/#!/:screen_name/status/:id/photo/:photo_index/large",F("bigPhotoPermalink").action("permalink"));H("embedDialogPermalink","/#!/:screen_name/status/:id/embed",F("permalink").action("permalinkWithEmbedDialog"));H("welcome","/#!/welcome",B({loggedIn:F("welcome").action("welcome")}));H("welcomeSearch","/#!/welcome/search/:query",B({loggedIn:F("welcome").action("search")}));H("welcomeSearchForm","/#!/welcome/search",B({loggedIn:F("welcome").action("search")}));H("welcomeIntro","/#!/welcome/intro",B({loggedIn:F("welcome").action("intro")}));H("welcomeInterests","/#!/welcome/interests",B({loggedIn:F("welcome").action("interests")}));H("welcomeInterestsCategory","/#!/welcome/interests/:category",B({loggedIn:F("welcome").action("category")}));H("welcomeImport","/#!/welcome/import",B({loggedIn:F("welcome").action("import")}));H("welcomeImportMatches","/#!/welcome/matches",B({loggedIn:F("welcome").action("matches")}));H("welcomeRecommendations","/#!/welcome/recommendations",B({loggedIn:F("welcome").action("recommendations")}));H("welcomeResurrect","/#!/welcome/return",B({loggedIn:F("welcome").action("resurrect")}));H("welcomeProfile","/#!/welcome/profile",B({loggedIn:F("welcome").action("profile")}));H("mobileGallery",(window.location.pathname=="/")?"/#!/download":"/download",F("mobile_gallery").action("gallery"));H("firefoxWelcome",(window.location.pathname=="/")?"/#!/download/firefox/welcome":"/download/firefox/welcome",F("mobile_gallery").action("firefoxWelcome"));H("firefoxDownload",(window.location.pathname=="/")?"/#!/download/firefox":"/download/firefox",F("mobile_gallery").action("firefoxDownload"));H("mobileApp",(window.location.pathname=="/")?"/#!/download/:app":"/download/:app",F("mobile_gallery").action("app"));H("followers","/#!/followers",B({loggedIn:F("profile").action("followers")}));H("following","/#!/following",B({loggedIn:F("profile").action("following")}));H("favorites","/#!/favorites",B({loggedIn:F("profile").action("favorites")}));H("friends","/#!/friends",B({loggedIn:F("profile").action("following")}));H("lists","/#!/lists",B({loggedIn:F("profile").action("lists")}));function E(){var M=twttr.util.params(window.location.search);if(twttr.is.def(M.render_on_server)){return M.render_on_server=="1"||M.render_on_server=="true"}return twttr.decider.isAvailable(twttr.loggedIn?"swift_profile":"swift_profile_logged_out")}H("followersYouFollow","/#!/:screen_name/followers_you_follow",F("profile").action("followersYouFollow"));H("profile","/#!/:screen_name",F("profile").action("profile"));H("profileWithReplies","/#!/:screen_name/with_replies",F("profile").action("with_replies"));H("userFavorites","/#!/:screen_name/favorites",F("profile").action("favorites"));H("userFollowers","/#!/:screen_name/followers",F("profile").action("followers"));H("userMediaGrid","/#!/:screen_name/media/grid",F("userMediaGallery").action("grid"));H("userMediaSlideshow","/#!/:screen_name/media/slideshow",F("userMediaGallery").action("slideshow"));H("userFollowing","/#!/:screen_name/following",F("profile").action("following"));H("userLists","/#!/:screen_name/userlists",F("profile").action("lists"));H("memberships","/#!/:screen_name/lists/memberships",F("profile").action("memberships"));H("subscriptions","/#!/:screen_name/lists",F("profile").action("allLists"));H("followerRequests","/#!/:screen_name/follower_requests",F("profile").action("followerRequests"));H("similarTo","/#!/similar_to/:screen_name",F("profile").action("similarTo"));H("userList","/#!/:screen_name/:list_slug",F("list").action("list"));H("listMembers","/#!/:screen_name/:list_slug/members",F("list").action("members"));H("listSubscribers","/#!/:screen_name/:list_slug/subscribers",F("list").action("followers"));function F(M){var O;function N(Q){var P=twttr.app.switchToPage(M);if(P&&O){P.send(O,Array.prototype.slice.apply(arguments))}}N.action=function(P){this.actionName=O=P;return N};N.pageName=M;return N}function D(M,O,N){H("hashbang"+twttr.util.capitalize(M),"/#!"+O,function(){twttr.themes.loadLoadingTheme();twttr.Router.performRedirect(N||O)})}function J(M,N){D(M,N);H(M,N,$.noop)}function C(M,O){var N=(twttr.isLocalhost?"":"https://"+location.hostname)+O;D(M,O,N);G(M,N)}function B(M){return twttr.loggedIn?M.loggedIn:(M.loggedOut||K())}function K(){if(twttr.ScribeBuffer){twttr.ScribeBuffer.instance.send()}return F("Login").action("loginRequired")}A()})});provide("audit",function(A){using().as(function(B){twttr.klass("twttr.AuditTrail",function(){this.array=[]}).methods({MAX_LENGTH:20,add:function(C){this.array.unshift(C);if(this.array.length>this.MAX_LENGTH){this.array=this.array.slice(0,this.MAX_LENGTH)}},trail:function(){return this.array},currentPage:function(){return this.page(0)},currentAction:function(){return this.action(0)},currentPath:function(){return this.path(0)},page:function(D){var C=this._routes();return C[D]&&C[D].page},action:function(D){var C=this._routes();return C[D]&&C[D].action},path:function(D){var C=this._routes();return C[D]&&C[D].path},_routes:function(){return twttr.filter(this.array,function(D,C){return D.type==="route"})}});twttr.audit=new twttr.AuditTrail();twttr.router.bind("routeFollowed",function(F,C,E){var D=C.fn.pageName;twttr.audit.add({action:C.fn.actionName,page:D,path:E,type:"route"});var G=$("#doc").removeClass();if(D){G.addClass("route-"+D.replace(/_/g,"-"))}});A(twttr.audit)})});provide("multiGlobals/ClickTrail",function(A){using("util").as(function(B){twttr.klass("twttr.ClickTrail",function(){this.array=[]}).methods({MAX_LENGTH:5,add:function(C){this.array.unshift(C);if(this.array.length>this.MAX_LENGTH){this.array=this.array.slice(0,this.MAX_LENGTH)}},lastClick:function(){if(this.array.length){return this.array[0].eventName}},trail:function(){return this.array}});twttr.clicks=new twttr.ClickTrail();twttr.app.waitForSignal("init",function(){$("body").mousedown(function(G){var D=$(G.target),F=D.closest("[data-element-term]"),C=D.closest("[data-component-term]"),I=D.closest("[data-section-term]"),H=twttr.Scribbler.getElementEventNameTerms(D),E=twttr.audit.currentPage(),J=D.closest("[href]").attr("href");if(!H.section){H.section=B.util.underscore(twttr.audit.currentAction())}if(H.component&&H.section&&E){H.client="web";H.page=B.util.underscore(E);H.action="navigate";twttr.clicks.add({eventName:twttr.Scribbler.clientAppEventNameGenerator(H),eventTerms:H,path:J,target:D})}});twttr.router.bind("routeFollowed",function(F,C,E){var D=twttr.clicks.trail()[0];if(D&&D.path==E){trackClient(D.eventTerms,{url:E})}})});A(twttr.clicks)})});provide("run/defaultViews",function(A){using().as(function(B){using(">payload",function(){if(twttr.payload.conditionalTemplates){$.each(twttr.payload.conditionalTemplates,function(D,C){twttr.templates[D]=C});twttr.views.makeDefaultViews(twttr.templates)}});twttr.views.makeDefaultViews(twttr.templates);A()})});provide("TrendLocations",function(A){using("_","constants").as(function(B,C){twttr.klass("twttr.TrendLocations",function(D){this.getLocation(D)}).statics({LOGGED_OUT_TREND_LOCATION_COOKIE:"trend_location",install:function(D){if(twttr.trendLocations){twttr.trendLocations.getLocation(D)}else{twttr.trendLocations=new twttr.TrendLocations(D)}}}).methods({getLocation:function(E){var D=this;twttr.API.Trend.locations({lang:twttr.pageLocale,success:function(F){D.all=F;if(twttr.currentUser){twttr.currentUser.trendLocation().first(function(H){if(H){D.current=H}else{D.current=D.worldwide()}E(D.current)})}else{var G=parseInt($.cookie(D.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE),10);D.current=D.locationForWoeid(G)||D.worldwide();E(D.current)}}})},allLocations:function(){return this.all.array},ancestorsOf:function(D){if(!D.parentid){return[]}else{var E=this.locationForWoeid(D.parentid);return[E].concat(this.ancestorsOf(E))}},withAncestorsOf:function(D){return[D].concat(this.ancestorsOf(D))},currentAncestors:function(){return this.ancestorsOf(this.current)},withCurrentAncestors:function(){return this.withAncestorsOf(this.current)},withFilterAncestors:function(){return this.withAncestorsOf(this.currentFilter())},childrenOf:function(D){return twttr.filter(this.allLocations(),function(E){return E.parentid===D.woeid})},currentChildren:function(){return this.childrenOf(this.currentFilter())},locationForWoeid:function(D){return twttr.filter(this.allLocations(),function(E){return E.woeid==D})[0]},locationsForWoeids:function(E){var D=this;return twttr.map(E,function(F){return D.locationForWoeid(F)})},worldwide:function(){return this.locationForWoeid(1)},currentFilter:function(){var D=this.current;if(D.placeType.code===B.constants.placeTypes.city||this.childrenOf(D).length===0){this._currentFilterWoeid=D.parentid}else{this._currentFilterWoeid=D.woeid}return this.locationForWoeid(this._currentFilterWoeid)},setCurrent:function(E,D){this.current=this.locationForWoeid(E);if(twttr.currentUser){twttr.currentUser.setTrendLocation(E)}else{twttr.API.CurrentUser.trigger("changedLocation_success");$.cookie(this.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE,E)}scribble("switch-trend-location",{woeid:E,input:"click",origin:D})}});A(twttr.TrendLocations)})});provide("mixins/sideNavigationT1",function(A){using().as(function(B){var C=twttr.klass.mixin(function(){this.methods({selectCurrentSideNav:function(){this.selectSideNav(twttr.router.getCurrentRoute().name)},selectSideNav:function(D){var E=this.$find("li.js-sidenav-link[data-name='"+D+"']");this.$find("li.js-sidenav-link").removeClass("active");if(E.length){E.addClass("active")}},setSideNavBadge:function(F,D){var E=$(document).find("li.js-sidenav-link a[href='"+F+"']");E.find('[class="unread"]').remove();if(D){E.append('<i class="unread"><i>')}}})});A(C)})});provide("components/PagePromise",function(A){using("mixins/serverRenderableObject").as(function(B,C){twttr.klass("twttr.PagePromise",function(D){this._queue=[];this._unavailableQueue=[];this._isUnavailable=false;this._name=D;this.pageNodeId="page-node-"+twttr.util.underscore(D);this.$node=this.$domNode("<div/>")}).mixin(C).methods({domNodeSelector:function(){return"#"+this.pageNodeId},build:function(){var E=this;var D=twttr.components.pages[this._name];if(!D){using(twttr.bundleMore,function(){E._build(E._name)})}else{E._build(E._name)}},send:function(F,E,D,G){if(typeof E==="function"){error=D;D=E;E=[]}var H={name:F,args:E,cb:D,missing:G};if(!this._instance){this._enqueue(H)}else{this._execute(H)}},getInstanceProperty:function(D){if(this._instance&&this._instance[D]){return this._instance[D]}},bind:function(){this.send("bind",Array.prototype.slice.apply(arguments))},one:function(){this.send("one",Array.prototype.slice.apply(arguments))},trigger:function(){this.send("trigger",Array.prototype.slice.apply(arguments))},$find:function(){return this.$node.find.apply(this.$node,arguments||[])},_build:function(E){var D=twttr.components.pages[E];if(!D){this._unavailable()}else{this._instance=new D(this.$node,this.preRendered);if(!D.isAvailable()){this._unavailable()}else{this._flush()}}},whenUnavailable:function(D){if(this._isUnavailable){D()}else{this._unavailableQueue.push(D)}},_unavailable:function(){this._isUnavailable=true;for(var D=0;D<this._unavailableQueue.length;D++){this._unavailableQueue[D].call(null)}this._unavailableQueue=[]},_enqueue:function(D){this._queue.push(D)},_execute:function(E){var F=this._instance[E.name];if(F){var D=F.apply(this._instance,E.args||[]);if(E.cb){E.cb.call(null,D)}}else{if(E.missing){E.missing.apply(null)}}},_flush:function(){for(var D=0;D<this._queue.length;D++){this._execute(this._queue[D])}this._queue=[]}});A()})});provide("components/Page",function(A){using((twttr.isT1?"mixins/sideNavigationT1":"mixins/sideNavigationP1"),"util","constants","mixins/serverRenderableObject").as(function(B,C){twttr.klass("twttr.components.Page",function(E,F){var D=this._namespace.match(/\.([^.]+)$/)[1];this.pageNameUnderscore=twttr.util.underscore(D);this.$node=E||this.$domNode("<div/>");this.preRendered=!!F;if(!F){signal(">wokeUp")}this._isOpen=false;this.initComponentEvents()}).statics({view:function(D){this.prototype._View=D;return this},containerCssClass:function(D){this._containerCssClass=D;return this},deciderKey:function(D){this._deciderKey=D;return this},isAvailable:function(){return !this._deciderKey||twttr.decider.isAvailable(this._deciderKey)}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).mixin(B.mixins.serverRenderableObject).methods({_isActive:function(){return twttr.app.currentPageName().toLowerCase()===this.constructor._name.toLowerCase()},$find:function(){return this.$node.find.apply(this.$node,arguments)},keyevent:function(F,E){if(twttr.helpers.isModifier(F)){return }var D;if(F.keyCode===B.constants.keyCodes.esc){D="esc"}else{if(F.keyCode===B.constants.keyCodes.enter){D="return"}else{if(F.which===B.constants.which.period){D="period"}else{if(F.keyCode===B.constants.keyCodes.leftArrow){D="left"}else{if(F.keyCode===B.constants.keyCodes.rightArrow){D="right"}else{if(F.keyCode===B.constants.keyCodes.upArrow){D="up"}else{if(F.keyCode===B.constants.keyCodes.downArrow){D="down"}else{D=String.fromCharCode(F.which).toLowerCase()}}}}}}}if(this["_"+E]&&this["_"+E][D]&&(F.which<111||F.which>118)){if(!twttr.shortcuts.currentKey){return this["_"+E][D].call(this,F)}}},render:function(E){this.beforeRender();var D=$.extend(this.viewData(),E);if(!this.preRendered){this.$node.empty();if(twttr.development&&!this._View){console.log("Missing view for page "+this.constructor.name)}this.$node.html(new this._View(D).html())}this.afterRender();this.trigger("rendered",[this]);return this},onkeydown:function(D){this.keyevent(D,"keydown")},onkeypress:function(D){this.keyevent(D,"keypress")},onkeyup:function(D){this.keyevent(D,"keyup")},addContainerComponent:function(F,E,D){if(D==null){F.append(E.$node)}else{if(twttr.is.number(D)){F.children(":nth-child("+D+")").before(E.$node)}else{F[D](E.$node)}}E.bind("notRendered",twttr.bind(this,function(G){this.componentNotRendered(E,G)}));E.trigger("addedToPage",[E])},addTopContentComponent:function(E,D){if(!this.$topContent){this.$topContent=this.$find("div.js-content-top")}this.addContainerComponent(this.$topContent,E,D)},addDashboardComponent:function(E,D){if(!this.$dashboard){this.$dashboard=this.$find(".dashboard")}if(E){this.addContainerComponent(this.$dashboard,E,D)}},addDashboardComponents:function(E){var D=this;twttr.each(E,function(F){D.addDashboardComponent(F)})},componentNotRendered:function(D,E){},updatePageTitle:function(D){if(twttr.isPreflight){D="PREFLIGHT :: "+D}this._pageTitle=D;if(this._isActive()){document.title=D}},hasNewItems:function(D){if(D){$("#global-actions .active").addClass("new");document.title="("+D+") "+this._pageTitle}else{$("#global-actions .active").removeClass("new");document.title=this._pageTitle}},shouldAutoRender:function(){return !this.noAutoRender},addImpressionData:function(D){}});twttr.klass.page=function(D,E){return twttr.klass(D,E).subclassOf(twttr.components.Page)};$.each(["beforeRender","afterRender","onFirstSwitch","viewData","onSwitchAway","onSwitchTo"],function(G,F){var E=F.charAt(0).toUpperCase()+F.slice(1),D="_"+F;twttr.components.Page["add"+E]=function(K){var I=[],H=this.prototype[D];if(H){for(var J=0;J<H.length;J++){I.push(H[J])}}I.push(K);this.prototype[D]=I;return this};twttr.components.Page.prototype[F]=function(){var I=this;var H={};$.each(this[D]||[],function(K,J){twttr.aug(H,J.call(I))});return H}});twttr.components.Page.addOnSwitchTo(function(){if(this.constructor._containerCssClass){$("#page-container").addClass(this.constructor._containerCssClass)}}).addOnSwitchAway(function(){if(this.constructor._containerCssClass){$("#page-container").removeClass(this.constructor._containerCssClass)}$("div.tipsy").remove()}).addBeforeRender(function(){$("div.tipsy").remove()}).addAfterRender(function(){this.$topContent=this.$find("div.js-content-top");$("div.tipsy").remove()}).addBeforeRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?(twttr.isRendering+1):1}).addAfterRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?(twttr.isRendering-1):0}).mixin(twttr.mixins.listActionable,C).click({"[data-modal='list-new']":function(E,D){new twttr.widget.ListDialog({}).open();trackElement(D,"click")}});A(twttr.components.Page)})});provide("components/pages/mixins/homeT1",function(A){using("util","mixins/t1/emptyTimelineRecommendations").as(function(C,B,D){var E=twttr.klass.mixin("twttr.components.pages.mixins.homeT1",function(){this.view(twttr.views.Page);this.methods({insertTweetbox:twttr.util.noopInT1,insertPromptbirdPrompt:function(){var F=this;using([twttr.bundleMore,"promptbird"]).as(function(I){var H=I.promptbird.getPrompt();if(!H){return }var J=I.promptbird.renderComponentFromPrompt(H);if(!J){return }var G="#js-promptbird-"+H.prompt.format.replace(/_/g,"-")+"-hook";$(G).html(J.$node)})},selectDashboardComponents:function(){this.trendsComponent=new twttr.components.Trends();return[new twttr.components.PromptbirdDashboardPlaceholder(),new twttr.components.t1.dashboard.MiniHomeProfile(true),twttr.at("twttr.currentUser.protected")&&new twttr.components.FollowerRequestLink(),new twttr.components.JapaneseAd(),new twttr.components.UserRecommendations(),this.trendsComponent,new twttr.components.Footer()]},getTweetBoxOptions:function(){return{condensedContent:_("Compose new Tweet..."),autocompleteSuggestionLimit:twttr.isT1?5:10}},home:function(H,I){var G=this,F=twttr.util.params().badLinkRecipient;if(F&&!this.warnedOfBadLink){this.warnedOfBadLink=true;twttr.API.User.find(+F,function(J){twttr.showError(_("Sorry, you must be logged in as @{{screenName}} to use this link!",J))})}this.selectCurrentSideNav();this.insertEmptyTimeline({reloadStream:true,onDestroyCb:function(){G.trigger("emptyTimelineModuleDestroyed")}});this.waitForSignal("emptyTimelineModuleLogicCompleted",function(){var J=G.$find('.component[data-component-term="user_recommendations"]'),L=(twttr.abdecider.chooseWithoutImpression("empty_timeline_176")==="timeline_without_wtf");var K=function(){if(J.length===1){if(!D.showing||!L){J.show()}else{J.hide()}}};K();G.bind("emptyTimelineModuleDestroyed",function(){K()})});this.loadPage(_("Twitter / Home"),"home","Home");this.insertPromptbirdPrompt();this._maybeShowReplyDialog(I)},networkActivity:function(F){this.selectCurrentSideNav();this.loadPage(_("Twitter / Activity"),"activity","ActivityByNetworkStream")},memberships:function(G){var F=this;this.selectSideNav("lists");this.loadPage(_("Twitter / Lists following you"),"listFollowingYou","Memberships",{screenName:twttr.currentUser.screenName})},subscriptions:function(G){var F=this;this.selectSideNav("lists");this.loadPage(_("Twitter / Lists you follow"),"listYouFollow","AllSubscriptions",{screenName:twttr.currentUser.screenName})},messages:function(G){var F=this;using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(I,H){F.home(G);if(G.screen_name){new H(twttr.widget.DirectMessageDialog.views.conversation,G.screen_name).open()}else{new H().open()}})},savedSearches:function(F){this.selectCurrentSideNav();this.loadPage(_("Twitter / Saved Searches"),"savedSearches","SavedSearches")}})});A(E)})});provide("components/pages/Home",function(A){using("_",(twttr.isT1?"components/pages/mixins/homeT1":"components/pages/mixins/homeP1"),(twttr.isT1?"mixins/t1/emptyTimelineRecommendations":"mixins/emptyTimelineRecommendations"),"util","constants").as(function(B,D,E,C){var F=twttr.klass("twttr.components.pages.Home").subclassOf(twttr.components.Page).mixin(twttr.mixins.streamablePage,twttr.mixins.welcomeScribing,C).view(twttr.views.HomePage).containerCssClass("home-container").addOnSwitchTo(function(){var H=this;using([twttr.bundleMore,"TweetBox"],function(){if(H._hasRendered){H.insertTweetbox()}twttr.TweetBox.bind("tweetSuccess",function(J,L){var K=H.streamManager.getCurrent().trigger("didTweet",[L])})});var G=twttr.currentUser.states;if(G&&G.pending_email&&!$.cookie("abtest_email_verification_18")){var I=twttr.abdecider.choose("email_verification-18",true);if(I&&I!="control"){using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.verifyEmail(I).open()})}}if(this.scrollTop){twttr.$win.scrollTop(this.scrollTop)}$(".promptbird").show();this.maybeScribeWelcomeSkip()}).addOnSwitchAway(function(){using([twttr.bundleMore,"TweetBox"],function(){twttr.TweetBox.unbind("tweetSuccess")});$(".promptbird").hide()}).addViewData(function(){return{current_user_screen_name:twttr.currentUser.screenName}}).methods({loadPage:function(J,H,G,L){var I=this;this.updatePageTitle(J);twttr.themes.loadCurrentUserStyle();function K(){I.streamManager.switchTo(twttr.streams[G],L||{})}if(!twttr.streams[G]){this.streamManager.switchOut();using(twttr.bundleMore,function(){K()})}else{K()}if(H){this.focusStreamTab(H);if(H=="home"&&twttr.currentUser.friendsCount==0&&twttr.abdecider.choose("show_wtf_recs_in_timeline_105",true)=="show_wtf"){this.$find(".stream-tab.stream-tab-home.active a").text("Who To Follow")}}this.unfocusStreamItem();if(twttr.components.JapaneseAd){twttr.components.JapaneseAd.refreshAds()}if(twttr.loggedIn&&twttr.isT1&&twttr.pageLocale==="ja"){twttr.abdecider.choose("msie_font_ja_194")}if(!twttr.isT1){trackClient({action:"impression"})}},shouldShowSubtabs:function(){return window.location.search.match(/subtabs\=1/)},componentNotRendered:function(G,H){if(G._namespace=="twttr.components.UserRecommendations"){this.$dashboard.find("div.trends-inner").addClass("wide-trends")}},onFirstSwitch:function(){using([twttr.bundleMore,"photo/turkey"],function(){if(twttr.decider.isAvailable("turkey")){twttr.turkey.showFirstTimeTurkey()}})},getTweetbox:function(){return this.tweetBox},_maybeShowReplyDialog:function(G){if(G&&G.in_reply_to_status_id&&G.screen_name){defaultContent=G.status||"";using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.reply({tweetId:G.in_reply_to_status_id,screenName:G.screen_name,dataFields:{defaultContent:defaultContent,multiple:(defaultContent.split(/@/).length>2)}}).open()});if(!$.browser.msie){window.location.replace(twttr.router.homePath())}}},insertPromptbirdPrompt:function(){var G=this;using([twttr.bundleMore,"promptbird"]).as(function(I){var H=twttr.promptbird.getPrompt();if(!H){return }var J=twttr.promptbird.renderComponentFromPrompt(H);if(!J){return }switch(H.prompt.format){case"dashboard_narrow":G.addDashboardComponent(J,1);break;case"below_black_bar":G._isActive()&&twttr.app.addComponentToAppBody(J);break}})},scrollEnd:function(G){this.scrollTop=G;if(G>100&&twttr.components.pages.Home.scribeScroll){trackClient({action:"scroll"});twttr.components.pages.Home.scribeScroll=false}}}).addAfterRender(function(){var G=this;this._hasRendered=true;using([twttr.bundleMore,"TweetBox"],function(){G.insertTweetbox()});using(twttr.bundleMore,function(){if(G.preRendered){G.$find("div.dashboard, section.dashboard").empty()}G.addDashboardComponents(G.selectDashboardComponents());G.signal("dashboardComponentsAdded")});this.waitForSignal("dashboardComponentsAdded",function(){G.insertPromptbirdPrompt()})}).click({".done-right":function(H,G){if(twttr.currentUser.friendsCount>0){twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is following accounts");window.location="/"}else{twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is not following any accounts");this.$find(".stream-tab.stream-tab-home.active a").text("Timeline");this.$find(".stream-title").css("border-bottom","none");this.loadPage(D("Twitter / Home"),"home","Home")}}});F.mixin(E);A(F)})});provide("themes",function(A){using().as(function(B){twttr.themes={loadUserStyleFor:function(D){if(twttr.helpers.isCurrentUser(D)){D=twttr.currentUser}if(D&&!this._hasBrokenDefaults(D)){this._setTheme("user-style-"+D.screenName);if($("style#user-style-"+D.screenName).length===0){$("head style.js-user-style").remove();var C=twttr.isT1?twttr.views.UserCssT1:twttr.views.UserCssP1;new C(D).render("head","append")}if($("style#user-style-"+D.screenName+"-bg-img").length===0){$("head style.js-user-style-bg-img").remove();new twttr.views.BgImgCss(D).render("head","append")}}else{this.loadDefaultTheme()}},loadCurrentUserStyle:function(){this.loadUserStyleFor(twttr.currentUser)},loadDefaultTheme:function(){if(twttr.isT1){this._setTheme("default-theme")}else{this._setTheme("user-style-twttr")}},loadFrontPageTheme:function(){this._setTheme("front-page")},loadLoadingTheme:function(){this._setTheme("loading-body")},clear:function(){this._setTheme(false)},_setTheme:function(D){var C=$("body");this._clearExistingTheme();if(D){C.addClass(D)}},_brokenTheme:{profileBackgroundColor:"9ae4e8",profileBackgroundImageUrl:/\/images\/themes\/theme1\/bg.png$/i,profileBackgroundTile:false,profileLinkColor:"0000ff",profileSidebarBorderColor:"87bc44",profileSidebarFillColor:"e0ff92",profileTextColor:"000000",profileUseBackgroundImage:true},_hasBrokenDefaults:function(D){for(var E in this._brokenTheme){var C=this._brokenTheme[E],G=D[E],F=false;if(twttr.is.regex(C)){F=!!G.match(C)}else{F=C===G}if(!F){return false}}return true},_clearExistingTheme:function(){var C=$("body");$("style[id^=user-style]").each(function(){C.removeClass(this.id)});C.removeClass("loading-body front-page default-theme");if(!twttr.isT1){C.removeClass("static-page user-style-twttr")}}};if(!twttr.isT1){twttr.aug(twttr.themes,{loadStaticPageTheme:function(){this._setTheme("static-page")}})}A(twttr.themes)})});provide("Profiler",function(A){using("util").as(function(B){var E=0;var D=B.util.params()["profiling"];var C=twttr.klass("twttr.Profiler",function(F){if(!C.isEnabled()){this.waypoint=$.noop;this.waitFor=$.noop;this.done=$.noop;this.addBeforeScribbleFilter=$.noop;this.doneAfterCallback=function(G){return G};return }this.id=++E;this.description=F;this.pendingProfilers=0;this.subProfilers=[];this.startTime=new Date();this.endTime=null;this.isDone=false;this.isComplete=false;this.runawayProfilerTimeout=setTimeout(twttr.bind(this,this._giveUp),C.timeoutAfter);this.timedOut=false;this.timedOutSubProfilers=[];this.beforeScribbleFilters=[];this.profilerType=C.types.GENERIC;if(D){console.log("%s started",this.description)}}).methods(twttr.EventProvider).statics({isEnabled:function(){return !!(twttr.payload.profiling||D)},logPreviousEvent:function(I,H,G){var F=new C(I);F.addBeforeScribbleFilter(function(J){J.start_time_ms=H;J.end_time_ms=G;J.duration_ms=G-H;return J});F.done()},logDataSet:function(H,G,I){var F=new C(H);F.startTime=G;$.each(I,function(K,J){F.waypoint(J.name,J.timestamp)});F.done()},timeoutAfter:15000,types:{GENERIC:0,FIRST_PAGE_LOAD:1}}).methods({addBeforeScribbleFilter:function(F){this.beforeScribbleFilters.push(F)},doneAfterCallback:function(H){var G=this;var F=function(I){return function(){if(!twttr.is.fn(I)){console.warn("Invalid call to doneAfterCallback")}var J=I.apply(this,arguments);G.done();return J}};if(twttr.is.fn(H)){return F(H)}H.cancel=H.cancel||$.noop;H.cancel=F(H.cancel);H.complete=H.complete||$.noop;H.complete=F(H.complete);return H},waitFor:function(){if(this.isDone){console.warn(".waitFor called on a profiler that's already complete",this)}var F=this;$(arguments).each(function(H,G){if(!G||!(G instanceof C)){if(!twttr.is.def(G.profiler)){console.error("Non-profiler passed in, and it doesn't have a .profiler property");return }G=G.profiler}if(G.isComplete){return }if(D){console.log("%s waiting for %o",F.description,G)}F.pendingProfilers++;F.subProfilers.push(G);G.bind("complete",function(K,J,I){if(D){if(I){console.log("%s noticed that %o timed out",F.description,J)}else{console.log("%s noticed that %o finished",F.description,J)}}F.pendingProfilers--;if(I){F.timedOutSubProfilers.push(J)}if(F.pendingProfilers===0&&F.isDone){F._complete()}})})},done:function(){if(this.isDone){return }if(D){console.log("%s is done",this.description)}this.isDone=true;clearTimeout(this.runawayProfilerTimeout);this.runawayProfilerTimeout=null;if(this.pendingProfilers===0&&!this.isComplete){this._complete()}else{}},_complete:function(){if(D){console.log("%s is complete",this.description)}this.isComplete=true;this.endTime=new Date();this.waypoint("complete");this.trigger("complete",[this,this.timedOut])},_giveUp:function(){console.warn("Runaway profiler detected!",this);this.timedOut=true;this.done()},waypoint:function(G,F){F=F||new Date();var I={profiler_type:this.profilerType,product:"webclient",start_time_ms:twttr.appStartTime,impression_id:(twttr.session&&twttr.session.impressionId)?twttr.session.impressionId.toString():null,id:this.id,description:this.description};if(this.isComplete){I.end_time_ms=this.endTime.getTime();I.duration_ms=this.endTime-this.startTime}else{I.waypoint_time_ms=F.getTime();I.duration_ms=I.waypoint_time_ms-this.startTime;I.waypoint_key=G}if(this.timedOut){I.timed_out=true}var H=this;$.each(["subProfilers","timedOutSubProfilers"],function(K,J){if(H[J].length>0){I[B.util.underscore(J)]=twttr.map(H[J],function(L){return L.description})}});$.each(this.beforeScribbleFilters,function(J,K){I=K.call(H,I)});scribble("profiler_waypoint",I,"perftown");if(D){if(this.isComplete){console.log("%s: complete after %d ms; data %o",this.description,I.duration_ms,I)}else{console.log("%s: %s waypoint after %d ms; data %o",this.description,G,I.waypoint_time_ms-this.startTime,I)}}}});C.verboseProfiling=D;A(C)})});provide("bundle/t1-hogan-core",function(A){using(["$lib/jquery-1.7.1.js","libwrap/jquery","$lib/json2.js","libwrap/json","$lib/hogan.js","libwrap/hogan","run/base","_","/account/templates_t1_core.js","EventProvider","bluejs/init","bluejs/config/endpoints","bluejs/util/request_helpers","bluejs/util/local_storage_cache","bluejs/util/object_cache","bluejs/util/request_cache","bluejs/util/helpers","bluejs/util/model","bluejs/util/remote_request","bluejs/util/base_collection","bluejs/mixins/status_actions","bluejs/mixins/phoenix/user","bluejs/mixins/phoenix/current_user","bluejs/mixins/phoenix/status","bluejs/mixins/phoenix/rate_user_recommendation","bluejs/models/base","bluejs/models/user","bluejs/models/direct_message","bluejs/models/saved_search","bluejs/models/list","bluejs/models/location","bluejs/models/trend","bluejs/models/status","bluejs/models/promptbird","bluejs/models/search_result","bluejs/models/place","bluejs/models/user_recommendation","bluejs/models/suggestion_category","bluejs/models/related_tweets","bluejs/models/related_result","bluejs/util/promoted_content","bluejs/models/address_book","bluejs/models/promo","bluejs/models/urls","bluejs/models/blob","bluejs/models/device","bluejs/models/download","bluejs/models/search","bluejs/models/conversation","bluejs/models/activity","bluejs/models/topic_story","bluejs/models/news_article","bluejs/models/news_story","bluejs/models/user_story","bluejs/models/tweet_story","bluejs/models/story","bluejs/models/search_story","bluejs/models/stories","bluejs/models/discovery","bluejs/models/sports_story","bluejs/models/soccer_events","bluejs/models/social_proof","extendAPI","bluejs/api","$lib/jquery.color.js","$lib/modernizr-1.5.js","$lib/jquery.hashchange.js","$lib/jquery.cookie.js","$lib/jquery.tipsy.js","$lib/jquery.cssanimation.js","IFrame","util","constants","cache","singletons/namespaced_store","singletons/promoted_account_store","singletons/promoted_tweet_store","decider","multiGlobals/scribble","abdecider","app","singletons/external_url_store","singletons/Router","streams/Stream","scribbles","multiGlobals/client_app_tracking","mixins/streamablePageDetailsPane","mixins/streamablePageDropdownEdition","mixins/itemActionableScribing","mixins/streamablePage","mixins/userActionableT1","mixins/userActionable","mixins/profilePopupActionable","mixins/listActionable","mixins/tweetActionable","mixins/pendingActions","mixins/i18nTweet","mixins/i18nTweetBox","mixins/promotedTweetStream","mixins/componentEvents","mixins/protectedUserActionable","mixins/serverRenderableObject","mixins/welcomeScribing","mixins/t1/emptyTimelineRecommendations","lib/natcompare","$lib/twitter-text-1.4.16.js","setup","search","helpers","errors","viewHelpers","components/Base","idleDetector","interface","run/topbarDropdown","tco","streams/TweetStream","streams/Home","streams/StreamManager","view","urlResolver","multiGlobals/core_views","multiGlobals/core_views_t1","router_t1","audit","multiGlobals/ClickTrail","run/defaultViews","TrendLocations","mixins/sideNavigationT1","components/PagePromise","components/Page","components/pages/mixins/homeT1","components/pages/Home","themes","Profiler"],function(){A()})});